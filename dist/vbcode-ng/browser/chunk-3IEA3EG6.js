import{a as l}from"./chunk-SKRPOPPR.js";import{C as c,D as u,y as o}from"./chunk-OHUP7SMS.js";import{ha as n,na as i}from"./chunk-PRUKLSZG.js";import{i as a}from"./chunk-GK2WYAVW.js";var b=(()=>{let t=class t{constructor(){this.supabase=i(u).supabase,this.playerService=i(l),this.user_player=o(c.user_player)}getEventsOfPlayer(){return a(this,null,function*(){let e=this.user_player()?.id;return e||(e=(yield this.playerService.getMyPlayer()).id),(yield this.supabase.from("events").select("*").contains("attendees",[e])).data})}deleteEvent(e){return a(this,null,function*(){return(yield this.supabase.from("events").delete().eq("id",e)).data})}getEvent(e){return a(this,null,function*(){return(yield this.supabase.from("events").select("*").eq("id",e).limit(1).single()).data})}getEvents(){return a(this,null,function*(){return(yield this.supabase.from("events").select("*, home_team (*), away_team (*)")).data})}createEvent(e){return a(this,null,function*(){e?.id===null&&(e.id=void 0);try{return e.id?yield this.supabase.from("events").upsert(e):yield this.supabase.from("events").insert(e)}catch(r){throw console.error(r),new Error(r)}})}getActionsCount(e){return a(this,null,function*(){return yield this.supabase.from("actions").select("id",{count:"exact"}).eq("game_id",e)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{b as a};
