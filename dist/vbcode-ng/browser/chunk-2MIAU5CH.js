import{h as o}from"./chunk-FZ3NCQG6.js";import{a as d,c as m}from"./chunk-AC5BHCOO.js";import{fa as r,h as n,la as c}from"./chunk-H7CKKUTN.js";import{g as a}from"./chunk-GAL4ENT6.js";var t="actions",y=(()=>{class s{getActionsOfEventByKind(e,i){return a(this,null,function*(){return(yield this.supabase.from(t).select("*, player_id (*),game_id (*) ").eq("game_id",e).eq("kind",i)).data})}supabase=c(o).supabase;getActionsOfEvent(e){return a(this,null,function*(){return(yield this.supabase.from(t).select("*, player_id (*),game_id (*) ").order("created_at").eq("game_id",e)).data})}getActionsOfEventOfSet(e,i){return a(this,null,function*(){return(yield this.supabase.from(t).select("*, player_id (*),game_id (*) ").eq("game_id",e).eq("game_set",i)).data})}getActions(){return a(this,null,function*(){return(yield this.supabase.from(t).select(`
			*, 
			player_id (*),
			game_id (*)
			`)).data})}createAction(e){return a(this,null,function*(){return(yield this.supabase.from(t).upsert(e).select()).data})}getAcesOfEvent(e){return a(this,null,function*(){return(yield this.supabase.from(t).select("*").eq("game_id",e).eq("kind",m.Serve).eq("grade",d["#"])).data})}deleteAction(e){return a(this,null,function*(){return(yield this.supabase.from(t).delete().eq("id",e)).data})}actionChangesChannel=this.supabase.channel("actions-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"actions"},e=>{this.actions$.next(e)}).subscribe();actions$=new n(null);static \u0275fac=function(i){return new(i||s)};static \u0275prov=r({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();export{y as a};
