import{$ as yr,$a as ci,$b as ml,$c as Rl,$d as Je,$e as Cu,A as gr,Aa as Rs,Ab as sl,Ac as Il,Ad as Qe,Ae as au,B as fs,Ba as hi,Bb as Ze,Bc as Dl,Bd as Lx,Be as ou,C as hs,Ca as We,Cb as ll,Cc as Ll,Cd as Px,Ce as nu,D as cs,Da as Es,Db as De,Dc as Za,Dd as zx,De as Et,E as Dt,Ea as Sr,Eb as ul,Ec as Cr,Ed as kx,Ee as su,F as pt,Fa as at,Fb as te,Fc as Ya,Fd as Rx,Fe as lu,G as Be,Ga as Os,Gb as mi,Gc as $e,Gd as Ex,Ge as uu,H as vs,Ha as ux,Hb as Xt,Hc as Si,Hd as Ox,He as pu,I as $,Ia as vt,Ib as pl,Ic as Pl,Id as Vx,Ie as fu,J as ni,Ja as K,Jb as fl,Jc as zl,Jd as Ux,Je as hu,K as oe,Ka as St,Kb as br,Kc as kl,Kd as Nx,Ke as to,L as ne,La as Vs,Lb as Ut,Lc as Xa,Ld as E,Le as cu,M as U,Ma as Us,Mb as Tr,Mc as he,Md as Ar,Me as vu,N as ds,Na as Ns,Nb as hl,Nc as Ka,Nd as Bt,Ne as dt,O as lx,Oa as Ua,Ob as cl,Oc as bi,Od as Mi,Oe as du,P as ms,Pa as Bs,Pb as vl,Pc as Ti,Pd as Gl,Pe as mu,Q as gs,Qa as st,Qb as Pt,Qc as wi,Qd as Fl,Qe as gu,R as si,Ra as Lt,Rb as dl,Rc as fx,Rd as Wl,Re as yu,S as ys,Sa as Hs,Sb as ue,Sc as J,Sd as Zl,Se as xu,T as Ea,Ta as Gs,Tb as Mt,Tc as hx,Td as Yl,Te as Gt,U as Qt,Ua as Fs,Ub as gi,Uc as cx,Ud as Ir,Ue as Li,V as He,Va as Ie,Vb as yi,Vc as Kt,Vd as Ai,Ve as _u,W as Ae,Wa as Ws,Wb as pe,Wc as Le,Wd as Ii,We as Su,X as Ge,Xa as Zs,Xb as wr,Xc as ja,Xd as $a,Xe as bu,Y as Oa,Ya as Ys,Yb as Ye,Yc as ce,Yd as Xl,Ye as eo,Z as Wt,Za as Xs,Zb as ht,Zc as qa,Zd as Di,Ze as Tu,_ as _t,_a as j,_b as xi,_c as Ci,_d as Bx,_e as wu,a as A,aa as xs,ab as Ks,ac as ot,ad as kt,ae as Hx,af as Mu,b as lt,ba as Fe,bb as Ct,bc as gl,bd as El,be as Gx,bf as Au,c as ns,ca as _s,cb as js,cc as yl,cd as Ol,ce as Fx,cf as Iu,d as ss,da as Ss,db as qs,dc as xl,dd as Vl,de as Wx,df as Du,e as ls,ea as Va,eb as $s,ec as At,ed as ve,ee as Zx,ef as Lu,f as sx,fa as bs,fb as Qs,fc as _l,fd as Ul,fe as Yx,ff as Pu,g as Ra,ga as Ts,gb as vi,gc as zt,gd as Nl,ge as Rt,gf as zu,h as B,ha as hv,hb as Na,hc as px,hd as Bl,he as Xx,hf as ku,i as q,ia as se,ib as di,ic as Fa,id as Mr,ie as Kx,if as Ru,j as us,ja as Zt,jb as Js,jc as Sl,jd as Hl,je as jx,jf as Pi,k as N,ka as ws,kb as Ba,kc as _i,kd as vx,ke as qx,kf as Eu,l as Z,la as Cs,lb as Yt,lc as fe,ld as dx,le as Qa,lf as Ou,m as rt,ma as Ms,mb as tl,mc as bl,md as mx,me as Kl,mf as Vu,n as ie,na as As,nb as le,nc as Tl,nd as gx,ne as jl,nf as Uu,o as ps,oa as Is,ob as ft,oc as Xe,od as yx,oe as ql,of as ro,p as b,pa as Ds,pb as el,pc as Wa,pd as xx,pe as $l,pf as Nu,q as z,qa as Ls,qb as rl,qc as wl,qd as _x,qe as Ql,r as ut,ra as xr,rb as Y,rc as Nt,rd as Sx,re as Jl,s as yt,sa as Ps,sb as X,sc as mt,sd as bx,se as tu,t as R,ta as zs,tb as Ha,tc as Ke,td as Tx,te as Dr,u as H,ua as li,ub as Ga,uc as Cl,ud as wx,ue as eu,v as P,va as _r,vb as il,vc as je,vd as Cx,ve as ru,w as G,wa as ui,wb as al,wc as qe,wd as Mx,we as iu,x as V,xa as pi,xb as Jt,xc as Ml,xd as Ax,xe as Lr,y as ae,ya as ks,yb as ol,yc as Q,yd as Ix,ye as Ja,z as it,za as fi,zb as nl,zc as Al,zd as Dx,ze as Ht}from"./chunk-EGMBU5TL.js";import"./chunk-EL2NI3EA.js";function cv(i){if(i){for(var e=[],t=0;t<i.length;t++)e.push(i[t].slice());return e}}function vv(i,e){var t=i.label,r=e&&e.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:cv(r&&r.shape.points)}}var Bu=["align","verticalAlign","width","height","fontSize"],bt=new hi,io=j(),dv=j();function zi(i,e,t){for(var r=0;r<t.length;r++){var a=t[r];e[a]!=null&&(i[a]=e[a])}}var ki=["x","y","rotation"],mv=function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(e,t,r,a,o){var n=a.style,s=a.__hostTarget,l=s.textConfig||{},u=a.getComputedTransform(),p=a.getBoundingRect().plain();_t.applyTransform(p,p,u),u?bt.setLocalTransform(u):(bt.x=bt.y=bt.rotation=bt.originX=bt.originY=0,bt.scaleX=bt.scaleY=1),bt.rotation=Js(bt.rotation);var f=a.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var c=f.getComputedTransform();_t.applyTransform(h,h,c)}var v=h&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:v,seriesModel:r,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:p,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:v&&v.ignore,x:bt.x,y:bt.y,scaleX:bt.scaleX,scaleY:bt.scaleY,rotation:bt.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},i.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,a=r.get("labelLayout");(G(a)||yt(a).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var n=o.getTextContent(),s=X(o);n&&!n.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,n,a)})},i.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function a(y,S){return function(){Qa(y,S)}}for(var o=0;o<this._labelList.length;o++){var n=this._labelList[o],s=n.label,l=s.__hostTarget,u=n.defaultAttr,p=void 0;G(n.layoutOption)?p=n.layoutOption(vv(n,l)):p=n.layoutOption,p=p||{},n.computedLayoutOption=p;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:p.x!=null||p.y!=null?null:u.attachedPos,rotation:p.rotate!=null?p.rotate*f:u.attachedRot,offset:[p.dx||0,p.dy||0]});var h=!1;if(p.x!=null?(s.x=K(p.x,t),s.setStyle("x",0),h=!0):(s.x=u.x,s.setStyle("x",u.style.x)),p.y!=null?(s.y=K(p.y,r),s.setStyle("y",0),h=!0):(s.y=u.y,s.setStyle("y",u.style.y)),p.labelLinePoints){var c=l.getTextGuideLine();c&&(c.setShape({points:p.labelLinePoints}),h=!1)}var v=io(s);v.needsUpdateLabelLine=h,s.rotation=p.rotate!=null?p.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var d=0;d<Bu.length;d++){var m=Bu[d];s.setStyle(m,p[m]!=null?p[m]:u.style[m])}if(p.draggable){if(s.draggable=!0,s.cursor="move",l){var g=n.seriesModel;if(n.dataIndex!=null){var x=n.seriesModel.getData(n.dataType);g=x.getItemModel(n.dataIndex)}s.on("drag",a(l,g.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},i.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),a=ql(this._labelList),o=ut(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),n=ut(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});$l(o,0,t),Ql(n,0,r);var s=ut(a,function(l){return l.layoutOption.hideOverlap});Jl(s)},i.prototype.processLabelsOverall=function(){var e=this;b(this._chartViewList,function(t){var r=t.__model,a=t.ignoreLabelLineUpdate,o=r.isAnimationEnabled();t.group.traverse(function(n){if(n.ignore&&!n.forceLabelAnimation)return!0;var s=!a,l=n.getTextContent();!s&&l&&(s=io(l).needsUpdateLabelLine),s&&e._updateLabelLine(n,r),o&&e._animateLabels(n,r)})})},i.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),a=X(e),o=a.dataIndex;if(r&&o!=null){var n=t.getData(a.dataType),s=n.getItemModel(o),l={},u=n.getItemVisual(o,"style");if(u){var p=n.getVisual("drawType");l.stroke=u[p]}var f=s.getModel("labelLine");Kl(e,jl(s),l),Qa(e,f)}},i.prototype._animateLabels=function(e,t){var r=e.getTextContent(),a=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!hl(e))){var o=io(r),n=o.oldLayout,s=X(e),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},p=t.getData(s.dataType);if(n){r.attr(n);var h=e.prevStates;h&&(rt(h,"select")>=0&&r.attr(o.oldLayoutSelect),rt(h,"emphasis")>=0&&r.attr(o.oldLayoutEmphasis)),Ut(r,u,t,l)}else if(r.attr(u),!yl(r).valueAnimation){var f=pt(r.style.opacity,1);r.style.opacity=0,Tr(r,{style:{opacity:f}},t,l)}if(o.oldLayout=u,r.states.select){var c=o.oldLayoutSelect={};zi(c,u,ki),zi(c,r.states.select,ki)}if(r.states.emphasis){var v=o.oldLayoutEmphasis={};zi(v,u,ki),zi(v,r.states.emphasis,ki)}xl(r,l,p,t,t)}if(a&&!a.ignore&&!a.invisible){var o=dv(a),n=o.oldLayout,d={points:a.shape.points};n?(a.attr({shape:n}),Ut(a,{shape:d},t)):(a.setShape(d),a.style.strokePercent=0,Tr(a,{style:{strokePercent:1}},t)),o.oldLayout=d}},i}(),Hu=mv;var ao=j();function oo(i){i.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var a=ao(t).labelManager;a||(a=ao(t).labelManager=new Hu),a.clearLabels()}),i.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var a=ao(t).labelManager;r.updatedSeries.forEach(function(o){a.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),a.updateLayoutConfig(t),a.layout(t),a.processLabelsOverall()})}var no=Math.sin,so=Math.cos,Gu=Math.PI,Pe=Math.PI*2,gv=180/Gu,yv=function(){function i(){}return i.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},i.prototype.moveTo=function(e,t){this._add("M",e,t)},i.prototype.lineTo=function(e,t){this._add("L",e,t)},i.prototype.bezierCurveTo=function(e,t,r,a,o,n){this._add("C",e,t,r,a,o,n)},i.prototype.quadraticCurveTo=function(e,t,r,a){this._add("Q",e,t,r,a)},i.prototype.arc=function(e,t,r,a,o,n){this.ellipse(e,t,r,r,0,a,o,n)},i.prototype.ellipse=function(e,t,r,a,o,n,s,l){var u=s-n,p=!l,f=Math.abs(u),h=Zt(f-Pe)||(p?u>=Pe:-u>=Pe),c=u>0?u%Pe:u%Pe+Pe,v=!1;h?v=!0:Zt(f)?v=!1:v=c>=Gu==!!p;var d=e+r*so(n),m=t+a*no(n);this._start&&this._add("M",d,m);var g=Math.round(o*gv);if(h){var x=1/this._p,y=(p?1:-1)*(Pe-x);this._add("A",r,a,g,1,+p,e+r*so(n+y),t+a*no(n+y)),x>.01&&this._add("A",r,a,g,0,+p,d,m)}else{var S=e+r*so(s),_=t+a*no(s);this._add("A",r,a,g,+v,+p,S,_)}},i.prototype.rect=function(e,t,r,a){this._add("M",e,t),this._add("l",r,0),this._add("l",0,a),this._add("l",-r,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(e,t,r,a,o,n,s,l,u){for(var p=[],f=this._p,h=1;h<arguments.length;h++){var c=arguments[h];if(isNaN(c)){this._invalid=!0;return}p.push(Math.round(c*f)/f)}this._d.push(e+p.join(" ")),this._start=e==="Z"},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i}(),Ri=yv;var Pr="none",xv=Math.round;function _v(i){var e=i.fill;return e!=null&&e!==Pr}function Sv(i){var e=i.stroke;return e!=null&&e!==Pr}var lo=["lineCap","miterLimit","lineJoin"],bv=z(lo,function(i){return"stroke-"+i.toLowerCase()});function uo(i,e,t,r){var a=e.opacity==null?1:e.opacity;if(t instanceof le){i("opacity",a);return}if(_v(e)){var o=se(e.fill);i("fill",o.color);var n=e.fillOpacity!=null?e.fillOpacity*o.opacity*a:o.opacity*a;(r||n<1)&&i("fill-opacity",n)}else i("fill",Pr);if(Sv(e)){var s=se(e.stroke);i("stroke",s.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,p=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*a:s.opacity*a,f=e.strokeFirst;if((r||u!==1)&&i("stroke-width",u),(r||f)&&i("paint-order",f?"stroke":"fill"),(r||p<1)&&i("stroke-opacity",p),e.lineDash){var h=Ul(t),c=h[0],v=h[1];c&&(v=xv(v||0),i("stroke-dasharray",c.join(",")),(v||r)&&i("stroke-dashoffset",v))}else r&&i("stroke-dasharray",Pr);for(var d=0;d<lo.length;d++){var m=lo[d];if(r||e[m]!==Ba[m]){var g=e[m]||Ba[m];g&&i(bv[d],g)}}}else r&&i("stroke",Pr)}var Fu="http://www.w3.org/2000/svg",po="http://www.w3.org/1999/xlink",Wu="http://www.w3.org/2000/xmlns/",Zu="http://www.w3.org/XML/1998/namespace",fo="ecmeta_";function Ei(i){return document.createElementNS(Fu,i)}function ct(i,e,t,r,a){return{tag:i,attrs:t||{},children:r,text:a,key:e}}function Tv(i,e){var t=[];if(e)for(var r in e){var a=e[r],o=r;a!==!1&&(a!==!0&&a!=null&&(o+='="'+a+'"'),t.push(o))}return"<"+i+" "+t.join(" ")+">"}function wv(i){return"</"+i+">"}function zr(i,e){e=e||{};var t=e.newline?`
`:"";function r(a){var o=a.children,n=a.tag,s=a.attrs,l=a.text;return Tv(n,s)+(n!=="style"?si(l):l||"")+(o?""+t+z(o,function(u){return r(u)}).join(t)+t:"")+wv(n)}return r(i)}function Yu(i,e,t){t=t||{};var r=t.newline?`
`:"",a=" {"+r,o=r+"}",n=z(yt(i),function(l){return l+a+z(yt(i[l]),function(u){return u+":"+i[l][u]+";"}).join(r)+o}).join(r),s=z(yt(e),function(l){return"@keyframes "+l+a+z(yt(e[l]),function(u){return u+a+z(yt(e[l][u]),function(p){var f=e[l][u][p];return p==="d"&&(f='path("'+f+'")'),p+":"+f+";"}).join(r)+o}).join(r)+o}).join(r);return!n&&!s?"":["<![CDATA[",n,s,"]]>"].join(r)}function kr(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function ho(i,e,t,r){return ct("svg","root",{width:i,height:e,xmlns:Fu,"xmlns:xlink":po,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+i+" "+e:!1},t)}var Cv=0;function Oi(){return Cv++}var Xu={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ze="transform-origin";function Mv(i,e,t){var r=N({},i.shape);N(r,e),i.buildPath(t,r);var a=new Ri;return a.reset(ui(i)),t.rebuildPath(a,1),a.generateStr(),a.getStr()}function Av(i,e){var t=e.originX,r=e.originY;(t||r)&&(i[ze]=t+"px "+r+"px")}var Iv={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function ju(i,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=i,t}function Dv(i,e,t){var r=i.shape.paths,a={},o,n;if(b(r,function(l){var u=kr(t.zrId);u.animation=!0,Rr(l,{},u,!0);var p=u.cssAnims,f=u.cssNodes,h=yt(p),c=h.length;if(c){n=h[c-1];var v=p[n];for(var d in v){var m=v[d];a[d]=a[d]||{d:""},a[d].d+=m.d||""}for(var g in f){var x=f[g].animation;x.indexOf(n)>=0&&(o=x)}}}),!!o){e.d=!1;var s=ju(a,t);return o.replace(n,s)}}function Ku(i){return V(i)?Xu[i]?"cubic-bezier("+Xu[i]+")":_s(i)?i:"":""}function Rr(i,e,t,r){var a=i.animators,o=a.length,n=[];if(i instanceof pl){var s=Dv(i,e,t);if(s)n.push(s);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var p=a[u],f=[p.getMaxTime()/1e3+"s"],h=Ku(p.getClip().easing),c=p.getDelay();h?f.push(h):f.push("linear"),c&&f.push(c/1e3+"s"),p.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(p)}function d(x){var y=x[1],S=y.length,_={},T={},w={},M="animation-timing-function";function C(we,Ce,mr){for(var Me=we.getTracks(),fv=we.getMaxTime(),Pa=0;Pa<Me.length;Pa++){var za=Me[Pa];if(za.needsAnimate()){var is=za.keyframes,ii=za.propName;if(mr&&(ii=mr(ii)),ii)for(var ka=0;ka<is.length;ka++){var ai=is[ka],oi=Math.round(ai.time/fv*100)+"%",as=Ku(ai.easing),os=ai.rawValue;(V(os)||ae(os))&&(Ce[oi]=Ce[oi]||{},Ce[oi][ii]=ai.rawValue,as&&(Ce[oi][M]=as))}}}}for(var I=0;I<S;I++){var L=y[I],k=L.targetName;k?k==="shape"&&C(L,T):!r&&C(L,_)}for(var D in _){var O={};Rs(O,i),N(O,_[D]);var F=pi(O),W=_[D][M];w[D]=F?{transform:F}:{},Av(w[D],O),W&&(w[D][M]=W)}var tt,et=!0;for(var D in T){w[D]=w[D]||{};var nt=!tt,W=T[D][M];nt&&(tt=new di);var xt=tt.len();tt.reset(),w[D].d=Mv(i,T[D],tt);var wt=tt.len();if(!nt&&xt!==wt){et=!1;break}W&&(w[D][M]=W)}if(!et)for(var D in w)delete w[D].d;if(!r)for(var I=0;I<S;I++){var L=y[I],k=L.targetName;k==="style"&&C(L,w,function(Me){return Iv[Me]})}for(var It=yt(w),Te=!0,Ne,I=1;I<It.length;I++){var dr=It[I-1],Da=It[I];if(w[dr][ze]!==w[Da][ze]){Te=!1;break}Ne=w[dr][ze]}if(Te&&Ne){for(var D in w)w[D][ze]&&delete w[D][ze];e[ze]=Ne}if(ut(It,function(we){return yt(w[we]).length>0}).length){var La=ju(w,t);return La+" "+x[0]+" both"}}for(var m in l){var s=d(l[m]);s&&n.push(s)}if(n.length){var g=t.zrId+"-cls-"+Oi();t.cssNodes["."+g]={animation:n.join(",")},e.class=g}}function $u(i,e,t){if(!i.ignore)if(i.isSilent()){var r={"pointer-events":"none"};qu(r,e,t,!0)}else{var a=i.states.emphasis&&i.states.emphasis.style?i.states.emphasis.style:{},o=a.fill;if(!o){var n=i.style&&i.style.fill,s=i.states.select&&i.states.select.style&&i.states.select.style.fill,l=i.currentStates.indexOf("select")>=0&&s||n;l&&(o=Ts(l))}var u=a.lineWidth;if(u){var p=!a.strokeNoScale&&i.transform?i.transform[0]:1;u=u/p}var r={cursor:"pointer"};o&&(r.fill=o),a.stroke&&(r.stroke=a.stroke),u&&(r["stroke-width"]=u),qu(r,e,t,!0)}}function qu(i,e,t,r){var a=JSON.stringify(i),o=t.cssStyleCache[a];o||(o=t.zrId+"-cls-"+Oi(),t.cssStyleCache[a]=o,t.cssNodes["."+o+(r?":hover":"")]=i),e.class=e.class?e.class+" "+o:o}var Er=Math.round;function ep(i){return i&&V(i.src)}function rp(i){return i&&G(i.toDataURL)}function co(i,e,t,r){uo(function(a,o){var n=a==="fill"||a==="stroke";n&&li(o)?yo(e,i,a,r):n&&xr(o)?xo(t,i,a,r):n&&o==="none"?i[a]="transparent":i[a]=o},e,t,!1),Ov(t,i,r)}function vo(i,e){var t=Os(e);t&&(t.each(function(r,a){r!=null&&(i[(fo+a).toLowerCase()]=r+"")}),e.isSilent()&&(i[fo+"silent"]="true"))}function Qu(i){return Zt(i[0]-1)&&Zt(i[1])&&Zt(i[2])&&Zt(i[3]-1)}function Lv(i){return Zt(i[4])&&Zt(i[5])}function mo(i,e,t){if(e&&!(Lv(e)&&Qu(e))){var r=t?10:1e4;i.transform=Qu(e)?"translate("+Er(e[4]*r)/r+" "+Er(e[5]*r)/r+")":Cs(e)}}function Ju(i,e,t){for(var r=i.points,a=[],o=0;o<r.length;o++)a.push(Er(r[o][0]*t)/t),a.push(Er(r[o][1]*t)/t);e.points=a.join(" ")}function tp(i){return!i.smooth}function Pv(i){var e=z(i,function(t){return typeof t=="string"?[t,t]:t});return function(t,r,a){for(var o=0;o<e.length;o++){var n=e[o],s=t[n[0]];s!=null&&(r[n[1]]=Er(s*a)/a)}}}var zv={circle:[Pv(["cx","cy","r"])],polyline:[Ju,tp],polygon:[Ju,tp]};function kv(i){for(var e=i.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function ip(i,e){var t=i.style,r=i.shape,a=zv[i.type],o={},n=e.animation,s="path",l=i.style.strokePercent,u=e.compress&&ui(i)||4;if(a&&!e.willUpdate&&!(a[1]&&!a[1](r))&&!(n&&kv(i))&&!(l<1)){s=i.type;var p=Math.pow(10,u);a[0](r,o,p)}else{var f=!i.path||i.shapeChanged();i.path||i.createPathProxy();var h=i.path;f&&(h.beginPath(),i.buildPath(h,i.shape),i.pathUpdated());var c=h.getVersion(),v=i,d=v.__svgPathBuilder;(v.__svgPathVersion!==c||!d||l!==v.__svgPathStrokePercent)&&(d||(d=v.__svgPathBuilder=new Ri),d.reset(u),h.rebuildPath(d,l),d.generateStr(),v.__svgPathVersion=c,v.__svgPathStrokePercent=l),o.d=d.getStr()}return mo(o,i.transform),co(o,t,i,e),vo(o,i),e.animation&&Rr(i,o,e),e.emphasis&&$u(i,o,e),ct(s,i.id+"",o)}function Rv(i,e){var t=i.style,r=t.image;if(r&&!V(r)&&(ep(r)?r=r.src:rp(r)&&(r=r.toDataURL())),!!r){var a=t.x||0,o=t.y||0,n=t.width,s=t.height,l={href:r,width:n,height:s};return a&&(l.x=a),o&&(l.y=o),mo(l,i.transform),co(l,t,i,e),vo(l,i),e.animation&&Rr(i,l,e),ct("image",i.id+"",l)}}function Ev(i,e){var t=i.style,r=t.text;if(r!=null&&(r+=""),!(!r||isNaN(t.x)||isNaN(t.y))){var a=t.font||ss,o=t.x||0,n=As(t.y||0,Es(a),t.textBaseline),s=Ms[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(rl(t)){var u="",p=t.fontStyle,f=el(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||ns,c=t.fontWeight;u+="font-size:"+f+";font-family:"+h+";",p&&p!=="normal"&&(u+="font-style:"+p+";"),c&&c!=="normal"&&(u+="font-weight:"+c+";"),l.style=u}else l.style="font: "+a;return r.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),n&&(l.y=n),mo(l,i.transform),co(l,t,i,e),vo(l,i),e.animation&&Rr(i,l,e),ct("text",i.id+"",l,void 0,r)}}function go(i,e){if(i instanceof Yt)return ip(i,e);if(i instanceof le)return Rv(i,e);if(i instanceof tl)return Ev(i,e)}function Ov(i,e,t){var r=i.style;if(Is(r)){var a=Ds(i),o=t.shadowCache,n=o[a];if(!n){var s=i.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var p=r.shadowOffsetX||0,f=r.shadowOffsetY||0,h=r.shadowBlur,c=se(r.shadowColor),v=c.opacity,d=c.color,m=h/2/l,g=h/2/u,x=m+" "+g;n=t.zrId+"-s"+t.shadowIdx++,t.defs[n]=ct("filter",n,{id:n,x:"-100%",y:"-100%",width:"300%",height:"300%"},[ct("feDropShadow","",{dx:p/l,dy:f/u,stdDeviation:x,"flood-color":d,"flood-opacity":v})]),o[a]=n}e.filter=_r(n)}}function yo(i,e,t,r){var a=i[t],o,n={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Ps(a))o="linearGradient",n.x1=a.x,n.y1=a.y,n.x2=a.x2,n.y2=a.y2;else if(zs(a))o="radialGradient",n.cx=pt(a.x,.5),n.cy=pt(a.y,.5),n.r=pt(a.r,.5);else return;for(var s=a.colorStops,l=[],u=0,p=s.length;u<p;++u){var f=ws(s[u].offset)*100+"%",h=s[u].color,c=se(h),v=c.color,d=c.opacity,m={offset:f};m["stop-color"]=v,d<1&&(m["stop-opacity"]=d),l.push(ct("stop",u+"",m))}var g=ct(o,"",n,l),x=zr(g),y=r.gradientCache,S=y[x];S||(S=r.zrId+"-g"+r.gradientIdx++,y[x]=S,n.id=S,r.defs[S]=ct(o,S,n,l)),e[t]=_r(S)}function xo(i,e,t,r){var a=i.style[t],o=i.getBoundingRect(),n={},s=a.repeat,l=s==="no-repeat",u=s==="repeat-x",p=s==="repeat-y",f;if(Ls(a)){var h=a.imageWidth,c=a.imageHeight,v=void 0,d=a.image;if(V(d)?v=d:ep(d)?v=d.src:rp(d)&&(v=d.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";Be(h,m),Be(c,m)}else if(h==null||c==null){var g=function(I,L){if(I){var k=I.elm,D=h||L.width,O=c||L.height;I.tag==="pattern"&&(u?(O=1,D/=o.width):p&&(D=1,O/=o.height)),I.attrs.width=D,I.attrs.height=O,k&&(k.setAttribute("width",D),k.setAttribute("height",O))}},x=Qs(v,null,i,function(I){l||g(T,I),g(f,I)});x&&x.width&&x.height&&(h=h||x.width,c=c||x.height)}f=ct("image","img",{href:v,width:h,height:c}),n.width=h,n.height=c}else a.svgElement&&(f=B(a.svgElement),n.width=a.svgWidth,n.height=a.svgHeight);if(f){var y,S;l?y=S=1:u?(S=1,y=n.width/o.width):p?(y=1,S=n.height/o.height):n.patternUnits="userSpaceOnUse",y!=null&&!isNaN(y)&&(n.width=y),S!=null&&!isNaN(S)&&(n.height=S);var _=pi(a);_&&(n.patternTransform=_);var T=ct("pattern","",n,[f]),w=zr(T),M=r.patternCache,C=M[w];C||(C=r.zrId+"-p"+r.patternIdx++,M[w]=C,n.id=C,T=r.defs[C]=ct("pattern",C,n,[f])),e[t]=_r(C)}}function ap(i,e,t){var r=t.clipPathCache,a=t.defs,o=r[i.id];if(!o){o=t.zrId+"-c"+t.clipPathIdx++;var n={id:o};r[i.id]=o,a[o]=ct("clipPath",o,n,[ip(i,t)])}e["clip-path"]=_r(o)}function _o(i){return document.createTextNode(i)}function de(i,e,t){i.insertBefore(e,t)}function So(i,e){i.removeChild(e)}function bo(i,e){i.appendChild(e)}function To(i){return i.parentNode}function wo(i){return i.nextSibling}function Vi(i,e){i.textContent=e}var op=58,Uv=120,Nv=ct("","");function Co(i){return i===void 0}function jt(i){return i!==void 0}function Bv(i,e,t){for(var r={},a=e;a<=t;++a){var o=i[a].key;o!==void 0&&(r[o]=a)}return r}function Or(i,e){var t=i.key===e.key,r=i.tag===e.tag;return r&&t}function Vr(i){var e,t=i.children,r=i.tag;if(jt(r)){var a=i.elm=Ei(r);if(Ni(Nv,i),P(t))for(e=0;e<t.length;++e){var o=t[e];o!=null&&bo(a,Vr(o))}else jt(i.text)&&!it(i.text)&&bo(a,_o(i.text))}else i.elm=_o(i.text);return i.elm}function np(i,e,t,r,a){for(;r<=a;++r){var o=t[r];o!=null&&de(i,Vr(o),e)}}function Ui(i,e,t,r){for(;t<=r;++t){var a=e[t];if(a!=null)if(jt(a.tag)){var o=To(a.elm);So(o,a.elm)}else So(i,a.elm)}}function Ni(i,e){var t,r=e.elm,a=i&&i.attrs||{},o=e.attrs||{};if(a!==o){for(t in o){var n=o[t],s=a[t];s!==n&&(n===!0?r.setAttribute(t,""):n===!1?r.removeAttribute(t):t==="style"?r.style.cssText=n:t.charCodeAt(0)!==Uv?r.setAttribute(t,n):t==="xmlns:xlink"||t==="xmlns"?r.setAttributeNS(Wu,t,n):t.charCodeAt(3)===op?r.setAttributeNS(Zu,t,n):t.charCodeAt(5)===op?r.setAttributeNS(po,t,n):r.setAttribute(t,n))}for(t in a)t in o||r.removeAttribute(t)}}function Hv(i,e,t){for(var r=0,a=0,o=e.length-1,n=e[0],s=e[o],l=t.length-1,u=t[0],p=t[l],f,h,c,v;r<=o&&a<=l;)n==null?n=e[++r]:s==null?s=e[--o]:u==null?u=t[++a]:p==null?p=t[--l]:Or(n,u)?(tr(n,u),n=e[++r],u=t[++a]):Or(s,p)?(tr(s,p),s=e[--o],p=t[--l]):Or(n,p)?(tr(n,p),de(i,n.elm,wo(s.elm)),n=e[++r],p=t[--l]):Or(s,u)?(tr(s,u),de(i,s.elm,n.elm),s=e[--o],u=t[++a]):(Co(f)&&(f=Bv(e,r,o)),h=f[u.key],Co(h)?de(i,Vr(u),n.elm):(c=e[h],c.tag!==u.tag?de(i,Vr(u),n.elm):(tr(c,u),e[h]=void 0,de(i,c.elm,n.elm))),u=t[++a]);(r<=o||a<=l)&&(r>o?(v=t[l+1]==null?null:t[l+1].elm,np(i,v,t,a,l)):Ui(i,e,r,o))}function tr(i,e){var t=e.elm=i.elm,r=i.children,a=e.children;i!==e&&(Ni(i,e),Co(e.text)?jt(r)&&jt(a)?r!==a&&Hv(t,r,a):jt(a)?(jt(i.text)&&Vi(t,""),np(t,null,a,0,a.length-1)):jt(r)?Ui(t,r,0,r.length-1):jt(i.text)&&Vi(t,""):i.text!==e.text&&(jt(r)&&Ui(t,r,0,r.length-1),Vi(t,e.text)))}function Mo(i,e){if(Or(i,e))tr(i,e);else{var t=i.elm,r=To(t);Vr(e),r!==null&&(de(r,e.elm,wo(t)),Ui(r,[i],0,0))}return e}var Gv=0,Fv=function(){function i(e,t,r){if(this.type="svg",this.refreshHover=sp("refreshHover"),this.configLayer=sp("configLayer"),this.storage=t,this._opts=r=N({},r),this.root=e,this._id="zr"+Gv++,this._oldVNode=ho(r.width,r.height),e&&!r.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=Ei("svg");Ni(null,this._oldVNode),a.appendChild(o),e.appendChild(a)}this.resize(r.width,r.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",Mo(this._oldVNode,e),this._oldVNode=e}},i.prototype.renderOneToVNode=function(e){return go(e,kr(this._id))},i.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),r=this._width,a=this._height,o=kr(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress,o.emphasis=e.emphasis;var n=[],s=this._bgVNode=Wv(r,a,this._backgroundColor,o);s&&n.push(s);var l=e.compress?null:this._mainVNode=ct("g","main",{},[]);this._paintList(t,o,l?l.children:n),l&&n.push(l);var u=z(yt(o.defs),function(h){return o.defs[h]});if(u.length&&n.push(ct("defs","defs",{},u)),e.animation){var p=Yu(o.cssNodes,o.cssAnims,{newline:!0});if(p){var f=ct("style","stl",{},[],p);n.push(f)}}return ho(r,a,n,e.useViewBox)},i.prototype.renderToString=function(e){return e=e||{},zr(this.renderToVNode({animation:pt(e.cssAnimation,!0),emphasis:pt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:pt(e.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(e){this._backgroundColor=e},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(e,t,r){for(var a=e.length,o=[],n=0,s,l,u=0,p=0;p<a;p++){var f=e[p];if(!f.invisible){var h=f.__clipPaths,c=h&&h.length||0,v=l&&l.length||0,d=void 0;for(d=Math.max(c-1,v-1);d>=0&&!(h&&l&&h[d]===l[d]);d--);for(var m=v-1;m>d;m--)n--,s=o[n-1];for(var g=d+1;g<c;g++){var x={};ap(h[g],x,t);var y=ct("g","clip-g-"+u++,x,[]);(s?s.children:r).push(y),o[n++]=y,s=y}l=h;var S=go(f,t);S&&(s?s.children:r).push(S)}}},i.prototype.resize=function(e,t){var r=this._opts,a=this.root,o=this._viewport;if(e!=null&&(r.width=e),t!=null&&(r.height=t),a&&o&&(o.style.display="none",e=ve(a,0,r),t=ve(a,1,r),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var n=o.style;n.width=e+"px",n.height=t+"px"}if(xr(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(e){var t=this.renderToString(),r="data:image/svg+xml;";return e?(t=ks(t),t&&r+"base64,"+t):r+"charset=UTF-8,"+encodeURIComponent(t)},i}();function sp(i){return function(){}}function Wv(i,e,t,r){var a;if(t&&t!=="none")if(a=ct("rect","bg",{width:i,height:e,x:"0",y:"0"}),li(t))yo({fill:t},a.attrs,"fill",r);else if(xr(t))xo({style:{fill:t},dirty:ne,getBoundingRect:function(){return{width:i,height:e}}},a.attrs,"fill",r);else{var o=se(t),n=o.color,s=o.opacity;a.attrs.fill=n,s<1&&(a.attrs["fill-opacity"]=s)}return a}var lp=Fv;function Ao(i){i.registerPainter("svg",lp)}function up(i,e,t){var r=ls.createCanvas(),a=e.getWidth(),o=e.getHeight(),n=r.style;return n&&(n.position="absolute",n.left="0",n.top="0",n.width=a+"px",n.height=o+"px",r.setAttribute("data-zr-dom-id",i)),r.width=a*t,r.height=o*t,r}var Zv=function(i){A(e,i);function e(t,r,a){var o=i.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var n;a=a||fi,typeof t=="string"?n=up(t,r,a):it(t)&&(n=t,t=n.id),o.id=t,o.dom=n;var s=n.style;return s&&(ni(n),n.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=r,o.dpr=a,o}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=up("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,a,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var n=[],s=this.maxRepaintRectCount,l=!1,u=new _t(0,0,0,0);function p(x){if(!(!x.isFinite()||x.isZero()))if(n.length===0){var y=new _t(0,0,0,0);y.copy(x),n.push(y)}else{for(var S=!1,_=1/0,T=0,w=0;w<n.length;++w){var M=n[w];if(M.intersect(x)){var C=new _t(0,0,0,0);C.copy(M),C.union(x),n[w]=C,S=!0;break}else if(l){u.copy(x),u.union(M);var I=x.width*x.height,L=M.width*M.height,k=u.width*u.height,D=k-I-L;D<_&&(_=D,T=w)}}if(l&&(n[T].union(x),S=!0),!S){var y=new _t(0,0,0,0);y.copy(x),n.push(y)}l||(l=n.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var c=h.shouldBePainted(a,o,!0,!0),v=h.__isRendered&&(h.__dirty&yr||!c)?h.getPrevPaintRect():null;v&&p(v);var d=c&&(h.__dirty&yr||!h.__isRendered)?h.getPaintRect():null;d&&p(d)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=r[f],c=h&&h.shouldBePainted(a,o,!0,!0);if(h&&(!c||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&p(v)}}var m;do{m=!1;for(var f=0;f<n.length;){if(n[f].isZero()){n.splice(f,1);continue}for(var g=f+1;g<n.length;)n[f].intersect(n[g])?(m=!0,n[f].union(n[g]),n.splice(g,1)):g++;f++}}while(m);return this._paintRects=n,n},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var a=this.dpr,o=this.dom,n=o.style,s=this.domBack;n&&(n.width=t+"px",n.height=r+"px"),o.width=t*a,o.height=r*a,s&&(s.width=t*a,s.height=r*a,a!==1&&this.ctxBack.scale(a,a))},e.prototype.clear=function(t,r,a){var o=this.dom,n=this.ctx,s=o.width,l=o.height;r=r||this.clearColor;var u=this.motionBlur&&!t,p=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/f,l/f));var c=this.domBack;function v(d,m,g,x){if(n.clearRect(d,m,g,x),r&&r!=="transparent"){var y=void 0;if(fs(r)){var S=r.global||r.__width===g&&r.__height===x;y=S&&r.__canvasGradient||Vl(n,r,{x:0,y:0,width:g,height:x}),r.__canvasGradient=y,r.__width=g,r.__height=x}else hs(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,y=Nl(n,r,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));n.save(),n.fillStyle=y||r,n.fillRect(d,m,g,x),n.restore()}u&&(n.save(),n.globalAlpha=p,n.drawImage(c,d,m,g,x),n.restore())}!a||u?v(0,0,s,l):a.length&&b(a,function(d){v(d.x*f,d.y*f,d.width*f,d.height*f)})},e}(ms),Bi=Zv;var pp=1e5,ke=314159,Hi=.01,Yv=.001;function Xv(i){return i?i.__builtin__?!0:!(typeof i.resize!="function"||typeof i.refresh!="function"):!1}function Kv(i,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+i+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var jv=function(){function i(e,t,r,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=N({},r||{}),this.dpr=r.devicePixelRatio||fi,this._singleCanvas=o,this.root=e;var n=e.style;n&&(ni(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var p=e,f=p.width,h=p.height;r.width!=null&&(f=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,p.width=f*this.dpr,p.height=h*this.dpr,this._width=f,this._height=h;var c=new Bi(p,this,this.dpr);c.__builtin__=!0,c.initContext(),l[ke]=c,c.zlevel=ke,s.push(ke),this._domRoot=e}else{this._width=ve(e,0,r),this._height=ve(e,1,r);var u=this._domRoot=Kv(this._width,this._height);e.appendChild(u)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},i.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var o=0;o<a.length;o++){var n=a[o],s=this._layers[n];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,n=0;n<t;n++){var s=e[n];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(pp)),o||(o=r.ctx,o.save()),Mr(o,s,a,n===t-1))}o&&o.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(pp)},i.prototype.paintOne=function(e,t){Bl(e,t)},i.prototype._paintList=function(e,t,r,a){if(this._redrawId===a){r=r||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,r),n=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),n)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;xs(function(){l._paintList(e,t,r,a)})}}},i.prototype._compositeManually=function(){var e=this.getLayer(ke).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},i.prototype._doPaintList=function(e,t,r){for(var a=this,o=[],n=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&o.push(u)}for(var p=!0,f=!1,h=function(d){var m=o[d],g=m.ctx,x=n&&m.createRepaintRects(e,t,c._width,c._height),y=r?m.__startIndex:m.__drawIndex,S=!r&&m.incremental&&Date.now,_=S&&Date.now(),T=m.zlevel===c._zlevelList[0]?c._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,T,x);else if(y===m.__startIndex){var w=e[y];(!w.incremental||!w.notClear||r)&&m.clear(!1,T,x)}y===-1&&(console.error("For some unknown reason. drawIndex is -1"),y=m.__startIndex);var M,C=function(D){var O={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(M=y;M<m.__endIndex;M++){var F=e[M];if(F.__inHover&&(f=!0),a._doPaintEl(F,m,n,D,O,M===m.__endIndex-1),S){var W=Date.now()-_;if(W>15)break}}O.prevElClipPaths&&g.restore()};if(x)if(x.length===0)M=m.__endIndex;else for(var I=c.dpr,L=0;L<x.length;++L){var k=x[L];g.save(),g.beginPath(),g.rect(k.x*I,k.y*I,k.width*I,k.height*I),g.clip(),C(k),g.restore()}else g.save(),C(),g.restore();m.__drawIndex=M,m.__drawIndex<m.__endIndex&&(p=!1)},c=this,v=0;v<o.length;v++)h(v);return lt.wxa&&b(this._layers,function(d){d&&d.ctx&&d.ctx.draw&&d.ctx.draw()}),{finished:p,needsRefreshHover:f}},i.prototype._doPaintEl=function(e,t,r,a,o,n){var s=t.ctx;if(r){var l=e.getPaintRect();(!a||l&&l.intersect(a))&&(Mr(s,e,o,n),e.setPrevPaintRect(l))}else Mr(s,e,o,n)},i.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ke);var r=this._layers[e];return r||(r=new Bi("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?q(r,this._layerConfig[e],!0):this._layerConfig[e-Hi]&&q(r,this._layerConfig[e-Hi],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},i.prototype.insertLayer=function(e,t){var r=this._layers,a=this._zlevelList,o=a.length,n=this._domRoot,s=null,l=-1;if(!r[e]&&Xv(t)){if(o>0&&e>a[0]){for(l=0;l<o-1&&!(a[l]<e&&a[l+1]>e);l++);s=r[a[l]]}if(a.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?n.insertBefore(t.dom,u.nextSibling):n.appendChild(t.dom)}else n.firstChild?n.insertBefore(t.dom,n.firstChild):n.appendChild(t.dom);t.painter||(t.painter=this)}},i.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var o=r[a];e.call(t,this._layers[o],o)}},i.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var o=r[a],n=this._layers[o];n.__builtin__&&e.call(t,n,o)}},i.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var o=r[a],n=this._layers[o];n.__builtin__||e.call(t,n,o)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){o&&(o.__endIndex!==f&&(o.__dirty=!0),o.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var o=null,n=0,s,l;for(l=0;l<e.length;l++){var a=e[l],u=a.zlevel,p=void 0;s!==u&&(s=u,n=0),a.incremental?(p=this.getLayer(u+Yv,this._needsManuallyCompositing),p.incremental=!0,n=1):p=this.getLayer(u+(n>0?Hi:0),this._needsManuallyCompositing),p.__builtin__||Ra("ZLevel "+u+" has been used by unkown layer "+p.id),p!==o&&(p.__used=!0,p.__startIndex!==l&&(p.__dirty=!0),p.__startIndex=l,p.incremental?p.__drawIndex=-1:p.__drawIndex=l,t(l),o=p),a.__dirty&yr&&!a.__inHover&&(p.__dirty=!0,p.incremental&&p.__drawIndex<0&&(p.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(e){e.clear()},i.prototype.setBackgroundColor=function(e){this._backgroundColor=e,b(this._layers,function(t){t.setUnpainted()})},i.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?q(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var o=this._zlevelList[a];if(o===e||o===e+Hi){var n=this._layers[o];q(n,r[e],!0)}}}},i.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(rt(r,e),1))},i.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts,o=this.root;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=ve(o,0,a),t=ve(o,1,a),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var n in this._layers)this._layers.hasOwnProperty(n)&&this._layers[n].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(ke).resize(e,t)}return this},i.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ke].dom;var t=new Bi("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var a=t.dom.width,o=t.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,a,o):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var n={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var p=s[l];Mr(r,p,n,l===u-1)}return t.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i}(),fp=jv;function Io(i){i.registerPainter("canvas",fp)}var Re=j(),hp=B,Do=R,$v=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,r,a){var o=t.get("value"),n=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!a&&this._lastValue===o&&this._lastStatus===n)){this._lastValue=o,this._lastStatus=n;var s=this._group,l=this._handle;if(!n||n==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,e,t,r);var p=u.graphicKey;p!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=p;var f=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new at,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var h=H(cp,t,f);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,t)}dp(s,t,!0),this._renderHandle(o)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var r=t.get("animation"),a=e.axis,o=a.type==="category",n=t.get("snap");if(!n&&!o)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(o&&a.getBandWidth()>s)return!0;if(n){var l=ou(e).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},i.prototype.makeElOption=function(e,t,r,a,o){},i.prototype.createPointerEl=function(e,t,r,a){var o=t.pointer;if(o){var n=Re(e).pointerEl=new ht[o.type](hp(t.pointer));e.add(n)}},i.prototype.createLabelEl=function(e,t,r,a){if(t.label){var o=Re(e).labelEl=new Y(hp(t.label));e.add(o),vp(o,a)}},i.prototype.updatePointerEl=function(e,t,r){var a=Re(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),r(a,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,r,a){var o=Re(e).labelEl;o&&(o.setStyle(t.label.style),r(o,{x:t.label.x,y:t.label.y}),vp(o,a))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),a=this._handle,o=t.getModel("handle"),n=t.get("status");if(!o.get("show")||!n||n==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=pe(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Qt(u.event)},onmousedown:Do(this._onHandleDragMove,this,0,0),drift:Do(this._onHandleDragMove,this),ondragend:Do(this._onHandleDragEnd,this)}),r.add(a)),dp(a,t,!1),a.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");P(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,Kt(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},i.prototype._moveHandleToValue=function(e,t){cp(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Lo(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(Lo(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(Lo(a)),Re(r).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,a=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),Le(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},i}();function cp(i,e,t,r){gp(Re(t).lastProp,r)||(Re(t).lastProp=r,e?Ut(t,r,i):(t.stopAnimation(),t.attr(r)))}function gp(i,e){if(it(i)&&it(e)){var t=!0;return b(e,function(r,a){t=t&&gp(i[a],r)}),!!t}else return i===e}function vp(i,e){i[e.get(["label","show"])?"show":"hide"]()}function Lo(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function dp(i,e,t){var r=e.get("z"),a=e.get("zlevel");i&&i.traverse(function(o){o.type!=="group"&&(r!=null&&(o.z=r),a!=null&&(o.zlevel=a),o.silent=t)})}var er=$v;function rr(i){var e=i.get("type"),t=i.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function zo(i,e,t,r,a){var o=t.get("value"),n=ko(o,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=fe(s.get("padding")||0),u=s.getFont(),p=We(n,u),f=a.position,h=p.width+l[1]+l[3],c=p.height+l[0]+l[2],v=a.align;v==="right"&&(f[0]-=h),v==="center"&&(f[0]-=h/2);var d=a.verticalAlign;d==="bottom"&&(f[1]-=c),d==="middle"&&(f[1]-=c/2),Qv(f,h,c,r);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),i.label={x:f[0],y:f[1],style:ot(s,{text:n,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function Qv(i,e,t,r){var a=r.getWidth(),o=r.getHeight();i[0]=Math.min(i[0]+e,a)-e,i[1]=Math.min(i[1]+t,o)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function ko(i,e,t,r,a){i=e.scale.parse(i);var o=e.scale.getLabel({value:i},{precision:a.precision}),n=a.formatter;if(n){var s={value:Ii(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};b(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,f=u&&u.getDataParams(p);f&&s.seriesData.push(f)}),V(n)?o=n.replace("{value}",o):G(n)&&(o=n(s))}return o}function Ur(i,e,t){var r=He();return Ge(r,r,t.rotation),Ae(r,r,t.position),Mt([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Gi(i,e,t,r,a,o){var n=Ht.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=a.get(["label","margin"]),zo(e,r,a,o,{position:Ur(r.axis,i,t),align:n.textAlign,verticalAlign:n.textVerticalAlign})}function ir(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function Fi(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}function Ro(i,e,t,r,a,o){return{cx:i,cy:e,r0:t,r,startAngle:a,endAngle:o,clockwise:!0}}var Jv=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,o,n){var s=a.axis,l=s.grid,u=o.get("type"),p=Sp(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var h=rr(o),c=td[u](s,f,p);c.style=h,t.graphicKey=c.type,t.pointer=c}var v=Ja(l.model,a);Gi(r,t,v,a,o,n)},e.prototype.getHandleTransform=function(t,r,a){var o=Ja(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=a.get(["handle","margin"]);var n=Ur(r.axis,t,o);return{x:n[0],y:n[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,o){var n=a.axis,s=n.grid,l=n.getGlobalExtent(!0),u=Sp(s,n).getOtherAxis(n).getGlobalExtent(),p=n.dim==="x"?0:1,f=[t.x,t.y];f[p]+=r[p],f[p]=Math.min(l[1],f[p]),f[p]=Math.max(l[0],f[p]);var h=(u[1]+u[0])/2,c=[h,h];c[p]=f[p];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:c,tooltipOption:v[p]}},e}(er);function Sp(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var td={line:function(i,e,t){var r=ir([e,t[0]],[e,t[1]],bp(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=Math.max(1,i.getBandWidth()),a=t[1]-t[0];return{type:"Rect",shape:Fi([e-r/2,t[0]],[r,a],bp(i))}}};function bp(i){return i.dim==="x"?0:1}var Tp=Jv;var ed=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Q),wp=ed;var ee=j(),rd=b;function Zi(i,e,t){if(!lt.node){var r=e.getZr();ee(r).records||(ee(r).records={}),id(r,e);var a=ee(r).records[i]||(ee(r).records[i]={});a.handler=t}}function id(i,e){if(ee(i).initialized)return;ee(i).initialized=!0,t("click",H(Cp,"click")),t("mousemove",H(Cp,"mousemove")),t("globalout",od);function t(r,a){i.on(r,function(o){var n=nd(e);rd(ee(i).records,function(s){s&&a(s,o,n.dispatchAction)}),ad(n.pendings,e)})}}function ad(i,e){var t=i.showTip.length,r=i.hideTip.length,a;t?a=i.showTip[t-1]:r&&(a=i.hideTip[r-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function od(i,e,t){i.handler("leave",null,t)}function Cp(i,e,t,r){e.handler(i,t,r)}function nd(i){var e={showTip:[],hideTip:[]},t=function(r){var a=e[r.type];a?a.push(r):(r.dispatchAction=t,i.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function Nr(i,e){if(!lt.node){var t=e.getZr(),r=(ee(t).records||{})[i];r&&(ee(t).records[i]=null)}}var sd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var o=r.getComponent("tooltip"),n=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";Zi("axisPointer",a,function(s,l,u){n!=="none"&&(s==="leave"||n.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){Nr("axisPointer",r)},e.prototype.dispose=function(t,r){Nr("axisPointer",r)},e.type="axisPointer",e}(J),Ap=sd;function Br(i,e){var t=[],r=i.seriesIndex,a;if(r==null||!(a=e.getSeriesByIndex(r)))return{point:[]};var o=a.getData(),n=Xs(o,i);if(n==null||n<0||P(n))return{point:[]};var s=o.getItemGraphicEl(n),l=a.coordinateSystem;if(a.getTooltipPosition)t=a.getTooltipPosition(n)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),p=l.getOtherAxis(u),f=p.dim,h=u.dim,c=f==="x"||f==="radius"?1:0,v=o.mapDimension(h),d=[];d[c]=o.get(v,n),d[1-c]=o.get(o.getCalculationInfo("stackResultDimension"),n),t=l.dataToPoint(d)||[]}else t=l.dataToPoint(o.getValues(z(l.dimensions,function(g){return o.mapDimension(g)}),n))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var Ip=j();function Eo(i,e,t){var r=i.currTrigger,a=[i.x,i.y],o=i,n=i.dispatchAction||R(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Xi(a)&&(a=Br({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=Xi(a),u=o.axesInfo,p=s.axesInfo,f=r==="leave"||Xi(a),h={},c={},v={list:[],map:{}},d={showPointer:H(ud,c),showTooltip:H(pd,v)};b(s.coordSysMap,function(g,x){var y=l||g.containPoint(a);b(s.coordSysAxesInfo[x],function(S,_){var T=S.axis,w=vd(u,S);if(!f&&y&&(!u||w)){var M=w&&w.value;M==null&&!l&&(M=T.pointToData(a)),M!=null&&Dp(S,M,d,!1,h)}})});var m={};return b(p,function(g,x){var y=g.linkGroup;y&&!c[x]&&b(y.axesInfo,function(S,_){var T=c[_];if(S!==g&&T){var w=T.value;y.mapper&&(w=g.axis.scale.parse(y.mapper(w,Lp(S),Lp(g)))),m[g.key]=w}})}),b(m,function(g,x){Dp(p[x],g,d,!0,h)}),fd(c,p,h),hd(v,a,i,n),cd(p,n,t),h}}function Dp(i,e,t,r,a){var o=i.axis;if(!(o.scale.isBlank()||!o.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var n=ld(e,i),s=n.payloadBatch,l=n.snapToValue;s[0]&&a.seriesIndex==null&&N(a,s[0]),!r&&i.snap&&o.containData(l)&&l!=null&&(e=l),t.showPointer(i,e,s),t.showTooltip(i,n,l)}}function ld(i,e){var t=e.axis,r=t.dim,a=i,o=[],n=Number.MAX_VALUE,s=-1;return b(e.seriesModels,function(l,u){var p=l.getData().mapDimensionsAll(r),f,h;if(l.getAxisTooltipData){var c=l.getAxisTooltipData(p,i,t);h=c.dataIndices,f=c.nestestValue}else{if(h=l.getData().indicesOfNearest(p[0],i,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(p[0],h[0])}if(!(f==null||!isFinite(f))){var v=i-f,d=Math.abs(v);d<=n&&((d<n||v>=0&&s<0)&&(n=d,s=v,a=f,o.length=0),b(h,function(m){o.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:o,snapToValue:a}}function ud(i,e,t,r){i[e.key]={value:t,payloadBatch:r}}function pd(i,e,t,r){var a=t.payloadBatch,o=e.axis,n=o.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,u=nu(l),p=i.map[u];p||(p=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(p)),p.dataByAxis.push({axisDim:o.dim,axisIndex:n.componentIndex,axisType:n.type,axisId:n.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function fd(i,e,t){var r=t.axesInfo=[];b(e,function(a,o){var n=a.axisPointerModel.option,s=i[o];s?(!a.useHandle&&(n.status="show"),n.value=s.value,n.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(n.status="hide"),n.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:n.value})})}function hd(i,e,t,r){if(Xi(e)||!i.list.length){r({type:"hideTip"});return}var a=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:i.list})}function cd(i,e,t){var r=t.getZr(),a="axisPointerLastHighlights",o=Ip(r)[a]||{},n=Ip(r)[a]={};b(i,function(u,p){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&b(f.seriesDataIndices,function(h){var c=h.seriesIndex+" | "+h.dataIndex;n[c]=h})});var s=[],l=[];b(o,function(u,p){!n[p]&&l.push(u)}),b(n,function(u,p){!o[p]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function vd(i,e){for(var t=0;t<(i||[]).length;t++){var r=i[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function Lp(i){var e=i.axis.model,t={},r=t.axisDim=i.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function Xi(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function Ft(i){Et.registerAxisPointerClass("CartesianAxisPointer",Tp),i.registerComponentModel(wp),i.registerComponentView(Ap),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!P(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=au(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Eo)}function Oo(i){E(uu),E(Ft)}var dd=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,o,n){var s=a.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),p=u.getExtent(),f=s.dataToCoord(r),h=o.get("type");if(h&&h!=="none"){var c=rr(o),v=gd[h](s,l,f,p);v.style=c,t.graphicKey=v.type,t.pointer=v}var d=o.get(["label","margin"]),m=md(r,a,o,l,d);zo(t,a,o,n,m)},e}(er);function md(i,e,t,r,a){var o=e.axis,n=o.dataToCoord(i),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,p,f;if(o.dim==="radius"){var h=He();Ge(h,h,s),Ae(h,h,[r.cx,r.cy]),u=Mt([n,-a],h);var c=e.getModel("axisLabel").get("rotate")||0,v=Ht.innerTextLayout(s,c*Math.PI/180,-1);p=v.textAlign,f=v.textVerticalAlign}else{var d=l[1];u=r.coordToPoint([d+a,n]);var m=r.cx,g=r.cy;p=Math.abs(u[0]-m)/d<.3?"center":u[0]>m?"left":"right",f=Math.abs(u[1]-g)/d<.3?"middle":u[1]>g?"top":"bottom"}return{position:u,align:p,verticalAlign:f}}var gd={line:function(i,e,t,r){return i.dim==="angle"?{type:"Line",shape:ir(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(i,e,t,r){var a=Math.max(1,i.getBandWidth()),o=Math.PI/180;return i.dim==="angle"?{type:"Sector",shape:Ro(e.cx,e.cy,r[0],r[1],(-t-a/2)*o,(-t+a/2)*o)}:{type:"Sector",shape:Ro(e.cx,e.cy,t-a/2,t+a/2,0,Math.PI*2)}}},Pp=dd;var yd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,a=this.ecModel;return a.eachComponent(t,function(o){o.getCoordSysModel()===this&&(r=o)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Q),zp=yd;var Vo=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Ct).models[0]},e.type="polarAxis",e}(Q);ie(Vo,Di);var kp=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(Vo);var Rp=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(Vo);var Uo=function(i){A(e,i);function e(t,r){return i.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(Rt);Uo.prototype.dataToRadius=Rt.prototype.dataToCoord;Uo.prototype.radiusToData=Rt.prototype.coordToData;var Ep=Uo;var xd=j(),No=function(i){A(e,i);function e(t,r){return i.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),a=t.scale,o=a.getExtent(),n=a.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),p=We(s==null?"":s+"",r.getFont(),"center","top"),f=Math.max(p.height,7),h=f/u;isNaN(h)&&(h=1/0);var c=Math.max(0,Math.floor(h)),v=xd(t.model),d=v.lastAutoInterval,m=v.lastTickCount;return d!=null&&m!=null&&Math.abs(d-c)<=1&&Math.abs(m-n)<=1&&d>c?c=d:(v.lastTickCount=n,v.lastAutoInterval=c),c},e}(Rt);No.prototype.dataToAngle=Rt.prototype.dataToCoord;No.prototype.angleToData=Rt.prototype.coordToData;var Op=No;var Bo=["radius","angle"],_d=function(){function i(e){this.dimensions=Bo,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Ep,this._angleAxis=new Op,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},i.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},i.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,a=this._radiusAxis;return r.scale.type===e&&t.push(r),a.scale.type===e&&t.push(a),t},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},i.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},i.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},i.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,a=this.getAngleAxis(),o=a.getExtent(),n=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);a.inverse?n=s-360:s=n+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,p=u<n?1:-1;u<n||u>s;)u+=p*360;return[l,u]},i.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,a=Math.cos(r)*t+this.cx,o=-Math.sin(r)*t+this.cy;return[a,o]},i.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var a=e.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-a[0]*o,endAngle:-a[1]*o,clockwise:e.inverse,contain:function(n,s){var l=n-this.cx,u=s-this.cy,p=l*l+u*u-1e-4,f=this.r,h=this.r0;return p<=f*f&&p>=h*h}}},i.prototype.convertToPixel=function(e,t,r){var a=Vp(t);return a===this?this.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=Vp(t);return a===this?this.pointToData(r):null},i}();function Vp(i){var e=i.seriesModel,t=i.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}var Up=_d;function Sd(i,e,t){var r=e.get("center"),a=t.getWidth(),o=t.getHeight();i.cx=K(r[0],a),i.cy=K(r[1],o);var n=i.getRadiusAxis(),s=Math.min(a,o)/2,l=e.get("radius");l==null?l=[0,"100%"]:P(l)||(l=[0,l]);var u=[K(l[0],s),K(l[1],s)];n.inverse?n.setExtent(u[1],u[0]):n.setExtent(u[0],u[1])}function bd(i,e){var t=this,r=t.getAngleAxis(),a=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),i.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();b($a(l,"radius"),function(u){a.scale.unionExtentFromData(l,u)}),b($a(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Ir(r.scale,r.model),Ir(a.scale,a.model),r.type==="category"&&!r.onBand){var o=r.getExtent(),n=360/r.scale.count();r.inverse?o[1]+=n:o[1]-=n,r.setExtent(o[0],o[1])}}function Td(i){return i.mainType==="angleAxis"}function Np(i,e){var t;if(i.type=e.get("type"),i.scale=Ai(e),i.onBand=e.get("boundaryGap")&&i.type==="category",i.inverse=e.get("inverse"),Td(e)){i.inverse=i.inverse!==e.get("clockwise");var r=e.get("startAngle"),a=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(i.inverse?-360:360);i.setExtent(r,a)}e.axis=i,i.model=e}var wd={dimensions:Bo,create:function(i,e){var t=[];return i.eachComponent("polar",function(r,a){var o=new Up(a+"");o.update=bd;var n=o.getRadiusAxis(),s=o.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");Np(n,l),Np(s,u),Sd(o,r,e),t.push(o),r.coordinateSystem=o,o.model=r}),i.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var a=r.getReferringComponents("polar",Ct).models[0];r.coordinateSystem=a.coordinateSystem}}),t}},Bp=wd;var Cd=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Ki(i,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=i.coordToPoint([e[0],t]),a=i.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:a[0],y2:a[1]}}function ji(i){var e=i.getRadiusAxis();return e.inverse?0:1}function Hp(i){var e=i[0],t=i[i.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&i.pop()}var Md=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var a=t.axis,o=a.polar,n=o.getRadiusAxis().getExtent(),s=a.getTicksCoords(),l=a.getMinorTicksCoords(),u=z(a.getViewLabels(),function(p){p=B(p);var f=a.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(p.tickValue):p.tickValue;return p.coord=a.dataToCoord(h),p});Hp(u),Hp(s),b(Cd,function(p){t.get([p,"show"])&&(!a.scale.isBlank()||p==="axisLine")&&Ad[p](this.group,t,o,s,l,n,u)},this)}},e.type="angleAxis",e}(Et),Ad={axisLine:function(i,e,t,r,a,o){var n=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),p=ji(t),f=p?0:1,h,c=Math.abs(u[1]-u[0])===360?"Circle":"Arc";o[f]===0?h=new ht[c]({shape:{cx:t.cx,cy:t.cy,r:o[p],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:n.getLineStyle(),z2:1,silent:!0}):h=new ul({shape:{cx:t.cx,cy:t.cy,r:o[p],r0:o[f]},style:n.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,i.add(h)},axisTick:function(i,e,t,r,a,o){var n=e.getModel("axisTick"),s=(n.get("inside")?-1:1)*n.get("length"),l=o[ji(t)],u=z(r,function(p){return new Xt({shape:Ki(t,[l,l+s],p.coord)})});i.add(Pt(u,{style:Z(n.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(i,e,t,r,a,o){if(a.length){for(var n=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(n.get("inside")?-1:1)*s.get("length"),u=o[ji(t)],p=[],f=0;f<a.length;f++)for(var h=0;h<a[f].length;h++)p.push(new Xt({shape:Ki(t,[u,u+l],a[f][h].coord)}));i.add(Pt(p,{style:Z(s.getModel("lineStyle").getLineStyle(),Z(n.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(i,e,t,r,a,o,n){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),p=e.get("triggerEvent");b(n,function(f,h){var c=l,v=f.tickValue,d=o[ji(t)],m=t.coordToPoint([d+u,f.coord]),g=t.cx,x=t.cy,y=Math.abs(m[0]-g)/d<.3?"center":m[0]>g?"left":"right",S=Math.abs(m[1]-x)/d<.3?"middle":m[1]>x?"top":"bottom";if(s&&s[v]){var _=s[v];it(_)&&_.textStyle&&(c=new At(_.textStyle,l,l.ecModel))}var T=new Y({silent:Ht.isLabelSilent(e),style:ot(c,{x:m[0],y:m[1],fill:c.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:y,verticalAlign:S})});if(i.add(T),p){var w=Ht.makeAxisEventDataBase(e);w.targetType="axisLabel",w.value=f.rawLabel,X(T).eventData=w}},this)},splitLine:function(i,e,t,r,a,o){var n=e.getModel("splitLine"),s=n.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var p=[],f=0;f<r.length;f++){var h=u++%l.length;p[h]=p[h]||[],p[h].push(new Xt({shape:Ki(t,o,r[f].coord)}))}for(var f=0;f<p.length;f++)i.add(Pt(p[f],{style:Z({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(i,e,t,r,a,o){if(a.length){for(var n=e.getModel("minorSplitLine"),s=n.getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var p=0;p<a[u].length;p++)l.push(new Xt({shape:Ki(t,o,a[u][p].coord)}));i.add(Pt(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(i,e,t,r,a,o){if(r.length){var n=e.getModel("splitArea"),s=n.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var p=[],f=Math.PI/180,h=-r[0].coord*f,c=Math.min(o[0],o[1]),v=Math.max(o[0],o[1]),d=e.get("clockwise"),m=1,g=r.length;m<=g;m++){var x=m===g?r[0].coord:r[m].coord,y=u++%l.length;p[y]=p[y]||[],p[y].push(new De({shape:{cx:t.cx,cy:t.cy,r0:c,r:v,startAngle:h,endAngle:-x*f,clockwise:d},silent:!0})),h=-x*f}for(var m=0;m<p.length;m++)i.add(Pt(p[m],{style:Z({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}}},Gp=Md;var Id=["axisLine","axisTickLabel","axisName"],Dd=["splitLine","splitArea","minorSplitLine"],Ld=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,o=this._axisGroup=new at;this.group.add(o);var n=t.axis,s=n.polar,l=s.getAngleAxis(),u=n.getTicksCoords(),p=n.getMinorTicksCoords(),f=l.getExtent()[0],h=n.getExtent(),c=zd(s,t,f),v=new Ht(t,c);b(Id,v.add,v),o.add(v.getGroup()),yi(a,o,t),b(Dd,function(d){t.get([d,"show"])&&!n.scale.isBlank()&&Pd[d](this.group,t,s,f,h,u,p)},this)}},e.type="radiusAxis",e}(Et),Pd={splitLine:function(i,e,t,r,a,o){var n=e.getModel("splitLine"),s=n.getModel("lineStyle"),l=s.get("color"),u=0,p=t.getAngleAxis(),f=Math.PI/180,h=p.getExtent(),c=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],d=0;d<o.length;d++){var m=u++%l.length;v[m]=v[m]||[],v[m].push(new ht[c]({shape:{cx:t.cx,cy:t.cy,r:Math.max(o[d].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:p.inverse}}))}for(var d=0;d<v.length;d++)i.add(Pt(v[d],{style:Z({stroke:l[d%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(i,e,t,r,a,o,n){if(n.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],p=0;p<n.length;p++)for(var f=0;f<n[p].length;f++)u.push(new ll({shape:{cx:t.cx,cy:t.cy,r:n[p][f].coord}}));i.add(Pt(u,{style:Z({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(i,e,t,r,a,o){if(o.length){var n=e.getModel("splitArea"),s=n.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var p=[],f=o[0].coord,h=1;h<o.length;h++){var c=u++%l.length;p[c]=p[c]||[],p[c].push(new De({shape:{cx:t.cx,cy:t.cy,r0:f,r:o[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=o[h].coord}for(var h=0;h<p.length;h++)i.add(Pt(p[h],{style:Z({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function zd(i,e,t){return{position:[i.cx,i.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var Fp=Ld;function Wp(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function Zp(i,e){return e.dim+i.model.componentIndex}function kd(i,e,t){var r={},a=Rd(ut(e.getSeriesByType(i),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));e.eachSeriesByType(i,function(o){if(o.coordinateSystem.type==="polar"){var n=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=Zp(s,l),p=Wp(o),f=a[u][p],h=f.offset,c=f.width,v=s.getOtherAxis(l),d=o.coordinateSystem.cx,m=o.coordinateSystem.cy,g=o.get("barMinHeight")||0,x=o.get("barMinAngle")||0;r[p]=r[p]||[];for(var y=n.mapDimension(v.dim),S=n.mapDimension(l.dim),_=Mi(n,y),T=l.dim!=="radius"||!o.get("roundCap",!0),w=v.model,M=w.get("startValue"),C=v.dataToCoord(M||0),I=0,L=n.count();I<L;I++){var k=n.get(y,I),D=n.get(S,I),O=k>=0?"p":"n",F=C;_&&(r[p][D]||(r[p][D]={p:C,n:C}),F=r[p][D][O]);var W=void 0,tt=void 0,et=void 0,nt=void 0;if(v.dim==="radius"){var xt=v.dataToCoord(k)-C,wt=l.dataToCoord(D);Math.abs(xt)<g&&(xt=(xt<0?-1:1)*g),W=F,tt=F+xt,et=wt-h,nt=et-c,_&&(r[p][D][O]=tt)}else{var It=v.dataToCoord(k,T)-C,Te=l.dataToCoord(D);Math.abs(It)<x&&(It=(It<0?-1:1)*x),W=Te+h,tt=W+c,et=F,nt=F+It,_&&(r[p][D][O]=nt)}n.setItemLayout(I,{cx:d,cy:m,r0:W,r:tt,startAngle:-et*Math.PI/180,endAngle:-nt*Math.PI/180,clockwise:et>=nt})}}})}function Rd(i){var e={};b(i,function(r,a){var o=r.getData(),n=r.coordinateSystem,s=n.getBaseAxis(),l=Zp(n,s),u=s.getExtent(),p=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/o.count(),f=e[l]||{bandWidth:p,remainedWidth:p,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var c=Wp(r);h[c]||f.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var v=K(r.get("barWidth"),p),d=K(r.get("barMaxWidth"),p),m=r.get("barGap"),g=r.get("barCategoryGap");v&&!h[c].width&&(v=Math.min(f.remainedWidth,v),h[c].width=v,f.remainedWidth-=v),d&&(h[c].maxWidth=d),m!=null&&(f.gap=m),g!=null&&(f.categoryGap=g)});var t={};return b(e,function(r,a){t[a]={};var o=r.stacks,n=r.bandWidth,s=K(r.categoryGap,n),l=K(r.gap,1),u=r.remainedWidth,p=r.autoWidthCount,f=(u-s)/(p+(p-1)*l);f=Math.max(f,0),b(o,function(d,m){var g=d.maxWidth;g&&g<f&&(g=Math.min(g,u),d.width&&(g=Math.min(g,d.width)),u-=g,d.width=g,p--)}),f=(u-s)/(p+(p-1)*l),f=Math.max(f,0);var h=0,c;b(o,function(d,m){d.width||(d.width=f),c=d,h+=d.width*(1+l)}),c&&(h-=c.width*l);var v=-h/2;b(o,function(d,m){t[a][m]=t[a][m]||{offset:v,width:d.width},v+=d.width*(1+l)})}),t}var Yp=kd;var Ed={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Od={splitNumber:5},Vd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(J);function Ho(i){E(Ft),Et.registerAxisPointerClass("PolarAxisPointer",Pp),i.registerCoordinateSystem("polar",Bp),i.registerComponentModel(zp),i.registerComponentView(Vd),Lr(i,"angle",kp,Ed),Lr(i,"radius",Rp,Od),i.registerComponentView(Gp),i.registerComponentView(Fp),i.registerLayout(H(Yp,"bar"))}function Hr(i,e){e=e||{};var t=i.coordinateSystem,r=i.axis,a={},o=r.position,n=r.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[n==="vertical"?u.vertical[o]:l[0],n==="horizontal"?u.horizontal[o]:l[3]];var p={horizontal:0,vertical:1};a.rotation=Math.PI/2*p[n];var f={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=f[o],i.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Dt(e.labelInside,i.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var h=e.rotate;return h==null&&(h=i.get(["axisLabel","rotate"])),a.labelRotation=o==="top"?-h:h,a.z2=1,a}var Ud=["axisLine","axisTickLabel","axisName"],Nd=["splitArea","splitLine"],Bd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,a,o){var n=this.group;n.removeAll();var s=this._axisGroup;this._axisGroup=new at;var l=Hr(t),u=new Ht(t,l);b(Ud,u.add,u),n.add(this._axisGroup),n.add(u.getGroup()),b(Nd,function(p){t.get([p,"show"])&&Hd[p](this,this.group,this._axisGroup,t)},this),yi(s,this._axisGroup,t),i.prototype.render.call(this,t,r,a,o)},e.prototype.remove=function(){lu(this)},e.type="singleAxis",e}(Et),Hd={splitLine:function(i,e,t,r){var a=r.axis;if(!a.scale.isBlank()){var o=r.getModel("splitLine"),n=o.getModel("lineStyle"),s=n.get("color");s=s instanceof Array?s:[s];for(var l=n.get("width"),u=r.coordinateSystem.getRect(),p=a.isHorizontal(),f=[],h=0,c=a.getTicksCoords({tickModel:o}),v=[],d=[],m=0;m<c.length;++m){var g=a.toGlobalCoord(c[m].coord);p?(v[0]=g,v[1]=u.y,d[0]=g,d[1]=u.y+u.height):(v[0]=u.x,v[1]=g,d[0]=u.x+u.width,d[1]=g);var x=new Xt({shape:{x1:v[0],y1:v[1],x2:d[0],y2:d[1]},silent:!0});dl(x.shape,l);var y=h++%s.length;f[y]=f[y]||[],f[y].push(x)}for(var S=n.getLineStyle(["color"]),m=0;m<f.length;++m)e.add(Pt(f[m],{style:Z({stroke:s[m%s.length]},S),silent:!0}))}},splitArea:function(i,e,t,r){su(i,t,r,r)}},Kp=Bd;var jp=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Q);ie(jp,Di.prototype);var qi=jp;var Gd=function(i){A(e,i);function e(t,r,a,o,n){var s=i.call(this,t,r,a)||this;return s.type=o||"value",s.position=n||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e}(Rt),qp=Gd;var Go=["single"],Fd=function(){function i(e,t,r){this.type="single",this.dimension="single",this.dimensions=Go,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return i.prototype._init=function(e,t,r){var a=this.dimension,o=new qp(a,Ai(e),[0,0],e.get("type"),e.get("position")),n=o.type==="category";o.onBand=n&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},i.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var a=r.getData();b(a.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(a,o)},this),Ir(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(e,t){this._rect=mt({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),a=r?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(a[o],a[1-o]),this._updateAxisTransform(t,r?e.x:e.y)},i.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),a=r[0]+r[1],o=e.isHorizontal();e.toGlobalCoord=o?function(n){return n+t}:function(n){return a-n+t},e.toLocalCoord=o?function(n){return n-t}:function(n){return a-n+t}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),a=r.orient;return a==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},i.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},i.prototype.dataToPoint=function(e){var t=this.getAxis(),r=this.getRect(),a=[],o=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),a[o]=t.toGlobalCoord(t.dataToCoord(+e)),a[1-o]=o===0?r.y+r.height/2:r.x+r.width/2,a},i.prototype.convertToPixel=function(e,t,r){var a=$p(t);return a===this?this.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=$p(t);return a===this?this.pointToData(r):null},i}();function $p(i){var e=i.seriesModel,t=i.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}var Qp=Fd;function Wd(i,e){var t=[];return i.eachComponent("singleAxis",function(r,a){var o=new Qp(r,i,e);o.name="single_"+a,o.resize(r,e),r.coordinateSystem=o,t.push(o)}),i.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var a=r.getReferringComponents("singleAxis",Ct).models[0];r.coordinateSystem=a&&a.coordinateSystem}}),t}var Zd={create:Wd,dimensions:Go},Jp=Zd;var tf=["x","y"],Yd=["width","height"],Xd=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,o,n){var s=a.axis,l=s.coordinateSystem,u=Fo(l,1-$i(s)),p=l.dataToPoint(r)[0],f=o.get("type");if(f&&f!=="none"){var h=rr(o),c=Kd[f](s,p,u);c.style=h,t.graphicKey=c.type,t.pointer=c}var v=Hr(a);Gi(r,t,v,a,o,n)},e.prototype.getHandleTransform=function(t,r,a){var o=Hr(r,{labelInside:!1});o.labelMargin=a.get(["handle","margin"]);var n=Ur(r.axis,t,o);return{x:n[0],y:n[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,o){var n=a.axis,s=n.coordinateSystem,l=$i(n),u=Fo(s,l),p=[t.x,t.y];p[l]+=r[l],p[l]=Math.min(u[1],p[l]),p[l]=Math.max(u[0],p[l]);var f=Fo(s,1-l),h=(f[1]+f[0])/2,c=[h,h];return c[l]=p[l],{x:p[0],y:p[1],rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}},e}(er),Kd={line:function(i,e,t){var r=ir([e,t[0]],[e,t[1]],$i(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=i.getBandWidth(),a=t[1]-t[0];return{type:"Rect",shape:Fi([e-r/2,t[0]],[r,a],$i(i))}}};function $i(i){return i.isHorizontal()?0:1}function Fo(i,e){var t=i.getRect();return[t[tf[e]],t[tf[e]]+t[Yd[e]]]}var ef=Xd;var jd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}(J);function Wo(i){E(Ft),Et.registerAxisPointerClass("SingleAxisPointer",ef),i.registerComponentView(jd),i.registerComponentView(Kp),i.registerComponentModel(qi),Lr(i,"single",qi,qi.defaultOption),i.registerCoordinateSystem("single",Jp)}var qd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,a){var o=qe(t);i.prototype.init.apply(this,arguments),rf(t,o)},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),rf(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Q);function rf(i,e){var t=i.cellSize,r;P(t)?r=t:r=i.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var a=z([0,1],function(o){return Cl(e,o)&&(r[o]="auto"),r[o]!=null&&r[o]!=="auto"});je(i,e,{type:"box",ignoreSize:a})}var af=qd;var $d=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var o=this.group;o.removeAll();var n=t.coordinateSystem,s=n.getRangeInfo(),l=n.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,s,o),this._renderLines(t,s,l,o),this._renderYearText(t,s,l,o),this._renderMonthText(t,u,l,o),this._renderWeekText(t,u,s,l,o)},e.prototype._renderDayRect=function(t,r,a){for(var o=t.coordinateSystem,n=t.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=r.start.time;u<=r.end.time;u=o.getNextNDay(u,1).time){var p=o.dataToRect([u],!1).tl,f=new ft({shape:{x:p[0],y:p[1],width:s,height:l},cursor:"default",style:n});a.add(f)}},e.prototype._renderLines=function(t,r,a,o){var n=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),p=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,h=0;f.time<=r.end.time;h++){v(f.formatedDate),h===0&&(f=s.getDateInfo(r.start.y+"-"+r.start.m));var c=f.date;c.setMonth(c.getMonth()+1),f=s.getDateInfo(c)}v(s.getNextNDay(r.end.time,1).formatedDate);function v(d){n._firstDayOfMonth.push(s.getDateInfo(d)),n._firstDayPoints.push(s.dataToRect([d],!1).tl);var m=n._getLinePointsOfOneWeek(t,d,a);n._tlpoints.push(m[0]),n._blpoints.push(m[m.length-1]),u&&n._drawSplitline(m,l,o)}u&&this._drawSplitline(n._getEdgesPoints(n._tlpoints,p,a),l,o),u&&this._drawSplitline(n._getEdgesPoints(n._blpoints,p,a),l,o)},e.prototype._getEdgesPoints=function(t,r,a){var o=[t[0].slice(),t[t.length-1].slice()],n=a==="horizontal"?0:1;return o[0][n]=o[0][n]-r/2,o[1][n]=o[1][n]+r/2,o},e.prototype._drawSplitline=function(t,r,a){var o=new mi({z2:20,shape:{points:t},style:r});a.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,r,a){for(var o=t.coordinateSystem,n=o.getDateInfo(r),s=[],l=0;l<7;l++){var u=o.getNextNDay(n.time,l),p=o.dataToRect([u.time],!1);s[2*u.day]=p.tl,s[2*u.day+1]=p[a==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,r){return V(t)&&t?Tl(t,r):G(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,a,o,n){var s=r[0],l=r[1],u=["center","bottom"];o==="bottom"?(l+=n,u=["center","top"]):o==="left"?s-=n:o==="right"?(s+=n,u=["center","top"]):l-=n;var p=0;return(o==="left"||o==="right")&&(p=Math.PI/2),{rotation:p,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,a,o){var n=t.getModel("yearLabel");if(n.get("show")){var s=n.get("margin"),l=n.get("position");l||(l=a!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=a==="horizontal"?0:1,c={top:[p,u[h][1]],bottom:[p,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},v=r.start.y;+r.end.y>+r.start.y&&(v=v+"-"+r.end.y);var d=n.get("formatter"),m={start:r.start.y,end:r.end.y,nameMap:v},g=this._formatterLabel(d,m),x=new Y({z2:30,style:ot(n,{text:g})});x.attr(this._yearTextPositionControl(x,c[l],a,l,s)),o.add(x)}},e.prototype._monthTextPositionControl=function(t,r,a,o,n){var s="left",l="top",u=t[0],p=t[1];return a==="horizontal"?(p=p+n,r&&(s="center"),o==="start"&&(l="bottom")):(u=u+n,r&&(l="middle"),o==="start"&&(s="right")),{x:u,y:p,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,a,o){var n=t.getModel("monthLabel");if(n.get("show")){var s=n.get("nameMap"),l=n.get("margin"),u=n.get("position"),p=n.get("align"),f=[this._tlpoints,this._blpoints];(!s||V(s))&&(s&&(r=Fa(s)||r),s=r.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,c=a==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=p==="center",d=0;d<f[h].length-1;d++){var m=f[h][d].slice(),g=this._firstDayOfMonth[d];if(v){var x=this._firstDayPoints[d];m[c]=(x[c]+f[0][d+1][c])/2}var y=n.get("formatter"),S=s[+g.m-1],_={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:S},T=this._formatterLabel(y,_),w=new Y({z2:30,style:N(ot(n,{text:T}),this._monthTextPositionControl(m,v,a,u,l))});o.add(w)}}},e.prototype._weekTextPositionControl=function(t,r,a,o,n){var s="center",l="middle",u=t[0],p=t[1],f=a==="start";return r==="horizontal"?(u=u+o+(f?1:-1)*n[0]/2,s=f?"right":"left"):(p=p+o+(f?1:-1)*n[1]/2,l=f?"bottom":"top"),{x:u,y:p,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,a,o,n){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,u=s.get("position"),p=s.get("nameMap"),f=s.get("margin"),h=l.getFirstDayOfWeek();if(!p||V(p)){p&&(r=Fa(p)||r);var c=r.get(["time","dayOfWeekShort"]);p=c||z(r.get(["time","dayOfWeekAbbr"]),function(_){return _[0]})}var v=l.getNextNDay(a.end.time,7-a.lweek).time,d=[l.getCellWidth(),l.getCellHeight()];f=K(f,Math.min(d[1],d[0])),u==="start"&&(v=l.getNextNDay(a.start.time,-(7+a.fweek)).time,f=-f);for(var m=0;m<7;m++){var g=l.getNextNDay(v,m),x=l.dataToRect([g.time],!1).center,y=m;y=Math.abs((m+h)%7);var S=new Y({z2:30,style:N(ot(s,{text:p[y]}),this._weekTextPositionControl(x,o,u,f,d))});n.add(S)}}},e.type="calendar",e}(J),of=$d;var Zo=864e5,Qd=function(){function i(e,t,r){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=e}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(e){e=Ns(e);var t=e.getFullYear(),r=e.getMonth()+1,a=r<10?"0"+r:""+r,o=e.getDate(),n=o<10?"0"+o:""+o,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:a,d:n,day:s,time:e.getTime(),formatedDate:t+"-"+a+"-"+n,date:e}},i.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},i.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,a=["width","height"],o=this._model.getCellSize().slice(),n=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];b([0,1],function(f){p(o,f)&&(n[a[f]]=o[f]*s[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=mt(n,l);b([0,1],function(f){p(o,f)||(o[f]=u[a[f]]/s[f])});function p(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=o[0],this._sh=o[1]},i.prototype.dataToPoint=function(e,t){P(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),a=this._rangeInfo,o=r.formatedDate;if(t&&!(r.time>=a.start.time&&r.time<a.end.time+Zo))return[NaN,NaN];var n=r.day,s=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+n*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]},i.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},i.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},i.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,a):this._getDateByWeeksAndDay(t,r-1,a)},i.prototype.convertToPixel=function(e,t,r){var a=nf(t);return a===this?a.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=nf(t);return a===this?a.pointToData(r):null},i.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(P(e)&&e.length===1&&(e=e[0]),P(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var a=this.getDateInfo(r),o=a.date;o.setMonth(o.getMonth()+1);var n=this.getNextNDay(o,-1);t=[a.formatedDate,n.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},i.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var a=Math.floor(t[1].time/Zo)-Math.floor(t[0].time/Zo)+1,o=new Date(t[0].time),n=o.getDate(),s=t[1].date.getDate();o.setDate(n+a-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-t[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-t[1].time)*u>0;)a-=u,o.setDate(l-u);var p=Math.floor((a+t[0].day+6)/7),f=r?-p+1:p-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:a,weeks:p,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},i.prototype._getDateByWeeksAndDay=function(e,t,r){var a=this._getRangeInfo(r);if(e>a.weeks||e===0&&t<a.fweek||e===a.weeks&&t>a.lweek)return null;var o=(e-1)*7-a.fweek+t,n=new Date(a.start.time);return n.setDate(+a.start.d+o),this.getDateInfo(n)},i.create=function(e,t){var r=[];return e.eachComponent("calendar",function(a){var o=new i(a,e,t);r.push(o),a.coordinateSystem=o}),e.eachSeries(function(a){a.get("coordinateSystem")==="calendar"&&(a.coordinateSystem=r[a.get("calendarIndex")||0])}),r},i.dimensions=["time","value"],i}();function nf(i){var e=i.calendarModel,t=i.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}var sf=Qd;function Yo(i){i.registerComponentModel(af),i.registerComponentView(of),i.registerCoordinateSystem("calendar",sf)}function Jd(i,e){var t=i.existing;if(e.id=i.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function lf(i,e){var t;return b(e,function(r){i[r]!=null&&i[r]!=="auto"&&(t=!0)}),t}function tm(i,e,t){var r=N({},t),a=i[e],o=t.$action||"merge";if(o==="merge")if(a){if(0)var n;q(a,r,!0),je(a,r,{ignoreSize:!0}),Ml(t,a),Qi(t,a),Qi(t,a,"shape"),Qi(t,a,"style"),Qi(t,a,"extra"),t.clipPath=a.clipPath}else i[e]=r;else o==="replace"?i[e]=r:o==="remove"&&a&&(i[e]=null)}var uf=["transition","enterFrom","leaveTo"],em=uf.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Qi(i,e,t){if(t&&(!i[t]&&e[t]&&(i[t]={}),i=i[t],e=e[t]),!(!i||!e))for(var r=t?uf:em,a=0;a<r.length;a++){var o=r[a];i[o]==null&&e[o]!=null&&(i[o]=e[o])}}function rm(i,e){if(i&&(i.hv=e.hv=[lf(e,["left","right"]),lf(e,["top","bottom"])],i.type==="group")){var t=i,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var pf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var a=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,t,r),this.option.elements=a},e.prototype.optionUpdated=function(t,r){var a=this.option,o=(r?a:t).elements,n=a.elements=r?[]:a.elements,s=[];this._flatten(o,s,null);var l=Fs(n,s,"normalMerge"),u=this._elOptionsToUpdate=[];b(l,function(p,f){var h=p.newOption;h&&(u.push(h),Jd(p,h),tm(n,f,h),rm(n[f],h))},this),a.elements=ut(n,function(p){return p&&delete p.$action,p!=null})},e.prototype._flatten=function(t,r,a){b(t,function(o){if(o){a&&(o.parentOption=a),r.push(o);var n=o.children;n&&n.length&&this._flatten(n,r,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Q);var ff={path:null,compoundPath:null,group:at,image:le,text:Y},Ot=j(),vf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=$()},e.prototype.render=function(t,r,a){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,a)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var a=this._elMap,o=this.group,n=t.get("z"),s=t.get("zlevel");b(r,function(l){var u=Ie(l.id,null),p=u!=null?a.get(u):null,f=Ie(l.parentId,null),h=f!=null?a.get(f):o,c=l.type,v=l.style;c==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var d=l.textContent,m=l.textConfig;if(v&&ku(v,c,!!m,!!d)){var g=Ru(v,c,!0);!m&&g.textConfig&&(m=l.textConfig=g.textConfig),!d&&g.textContent&&(d=g.textContent)}var x=im(l),y=l.$action||"merge",S=y==="merge",_=y==="replace";if(S){var T=!p,w=p;T?w=hf(u,h,l.type,a):(w&&(Ot(w).isNew=!1),Uu(w)),w&&(Pi(w,x,t,{isInit:T}),cf(w,l,n,s))}else if(_){Ji(p,l,a,t);var M=hf(u,h,l.type,a);M&&(Pi(M,x,t,{isInit:!0}),cf(M,l,n,s))}else y==="remove"&&(Eu(p,l),Ji(p,l,a,t));var C=a.get(u);if(C&&d)if(S){var I=C.getTextContent();I?I.attr(d):C.setTextContent(new Y(d))}else _&&C.setTextContent(new Y(d));if(C){var L=l.clipPath;if(L){var k=L.type,D=void 0,T=!1;if(S){var O=C.getClipPath();T=!O||Ot(O).type!==k,D=T?Xo(k):O}else _&&(T=!0,D=Xo(k));C.setClipPath(D),Pi(D,L,t,{isInit:T}),ro(D,L.keyframeAnimation,t)}var F=Ot(C);C.setTextConfig(m),F.option=l,am(C,t,l),Ye({el:C,componentModel:t,itemName:C.name,itemTooltipOption:l.tooltip}),ro(C,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var a=t.option.elements,o=this.group,n=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],p=0;p<a.length;p++){var f=a[p],h=Ie(f.id,null),c=h!=null?n.get(h):null;if(!(!c||!c.isGroup)){var v=c.parent,d=v===o,m=Ot(c),g=Ot(v);m.width=K(m.option.width,d?s:g.width)||0,m.height=K(m.option.height,d?l:g.height)||0}}for(var p=a.length-1;p>=0;p--){var f=a[p],h=Ie(f.id,null),c=h!=null?n.get(h):null;if(c){var v=c.parent,g=Ot(v),x=v===o?{width:s,height:l}:{width:g.width,height:g.height},y={},S=Ke(c,f,x,null,{hv:f.hv,boundingMode:f.bounding},y);if(!Ot(c).isNew&&S){for(var _=f.transition,T={},w=0;w<u.length;w++){var M=u[w],C=y[M];_&&(Vu(_)||rt(_,M)>=0)?T[M]=C:c[M]=C}Ut(c,T,t,0)}else c.attr(y)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(a){Ji(a,Ot(a).option,r,t._lastGraphicModel)}),this._elMap=$()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(J);function Xo(i){var e=oe(ff,i)?ff[i]:vl(i),t=new e({});return Ot(t).type=i,t}function hf(i,e,t,r){var a=Xo(t);return e.add(a),r.set(i,a),Ot(a).id=i,Ot(a).isNew=!0,a}function Ji(i,e,t,r){var a=i&&i.parent;a&&(i.type==="group"&&i.traverse(function(o){Ji(o,e,t,r)}),Ou(i,e,r),t.removeKey(Ot(i).id))}function cf(i,e,t,r){i.isGroup||b([["cursor",vi.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(a){var o=a[0];oe(e,o)?i[o]=pt(e[o],a[1]):i[o]==null&&(i[o]=a[1])}),b(yt(e),function(a){if(a.indexOf("on")===0){var o=e[a];i[a]=G(o)?o:null}}),oe(e,"draggable")&&(i.draggable=e.draggable),e.name!=null&&(i.name=e.name),e.id!=null&&(i.id=e.id)}function im(i){return i=N({},i),b(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(wl),function(e){delete i[e]}),i}function am(i,e,t){var r=X(i).eventData;!i.silent&&!i.ignore&&!r&&(r=X(i).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:i.name}),r&&(r.info=t.info)}function Ko(i){i.registerComponentModel(pf),i.registerComponentView(vf),i.registerPreprocessor(function(e){var t=e.graphic;P(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var jo=["x","y","radius","angle","single"],om=["cartesian2d","polar","singleAxis"];function df(i){var e=i.get("coordinateSystem");return rt(om,e)>=0}function Vt(i){return i+"Axis"}function mf(i,e){var t=$(),r=[],a=$();i.eachComponent({mainType:"dataZoom",query:e},function(p){a.get(p.uid)||s(p)});var o;do o=!1,i.eachComponent("dataZoom",n);while(o);function n(p){!a.get(p.uid)&&l(p)&&(s(p),o=!0)}function s(p){a.set(p.uid,!0),r.push(p),u(p)}function l(p){var f=!1;return p.eachTargetAxis(function(h,c){var v=t.get(h);v&&v[c]&&(f=!0)}),f}function u(p){p.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return r}function ta(i){var e=i.ecModel,t={infoList:[],infoMap:$()};return i.eachTargetAxis(function(r,a){var o=e.getComponent(Vt(r),a);if(o){var n=o.getCoordSysModel();if(n){var s=n.uid,l=t.infoMap.get(s);l||(l={model:n,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(o)}}}),t}var qo=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},i}(),nm=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,a){var o=gf(t);this.settledOption=o,this.mergeDefaultAndTheme(t,a),this._doInit(o)},e.prototype.mergeOption=function(t){var r=gf(t);q(this.option,t,!0),q(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var a=this.settledOption;b([["start","startValue"],["end","endValue"]],function(o,n){this._rangePropMode[n]==="value"&&(r[o[0]]=a[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=$(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return b(jo,function(a){var o=this.getReferringComponents(Vt(a),js);if(o.specified){r=!0;var n=new qo;b(o.models,function(s){n.add(s.componentIndex)}),t.set(a,n)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var a=this.ecModel,o=!0;if(o){var n=r==="vertical"?"y":"x",s=a.findComponents({mainType:n+"Axis"});l(s,n)}if(o){var s=a.findComponents({mainType:"singleAxis",filter:function(p){return p.get("orient",!0)===r}});l(s,"single")}function l(u,p){var f=u[0];if(f){var h=new qo;if(h.add(f.componentIndex),t.set(p,h),o=!1,p==="x"||p==="y"){var c=f.getReferringComponents("grid",Ct).models[0];c&&b(u,function(v){f.componentIndex!==v.componentIndex&&c===v.getReferringComponents("grid",Ct).models[0]&&h.add(v.componentIndex)})}}}o&&b(jo,function(u){if(o){var p=a.findComponents({mainType:Vt(u),filter:function(h){return h.get("type",!0)==="category"}});if(p[0]){var f=new qo;f.add(p[0].componentIndex),t.set(u,f),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,a=this.get("rangeMode");b([["start","startValue"],["end","endValue"]],function(o,n){var s=t[o[0]]!=null,l=t[o[1]]!=null;s&&!l?r[n]="percent":!s&&l?r[n]="value":a?r[n]=a[n]:s&&(r[n]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,a){t==null&&(t=this.ecModel.getComponent(Vt(r),a))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(a,o){b(a.indexList,function(n){t.call(r,o,n)})})},e.prototype.getAxisProxy=function(t,r){var a=this.getAxisModel(t,r);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var a=this._targetAxisInfoMap.get(t);if(a&&a.indexMap[r])return this.ecModel.getComponent(Vt(t),r)},e.prototype.setRawRange=function(t){var r=this.option,a=this.settledOption;b([["start","startValue"],["end","endValue"]],function(o){(t[o[0]]!=null||t[o[1]]!=null)&&(r[o[0]]=a[o[0]]=t[o[0]],r[o[1]]=a[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;b(["start","startValue","end","endValue"],function(a){r[a]=t[a]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),o=0;o<a.length;o++)for(var n=a[o],s=this._targetAxisInfoMap.get(n),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(n,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Q);function gf(i){var e={};return b(["start","end","startValue","endValue","throttle"],function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}var me=nm;var sm=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(me),yf=sm;var lm=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a,o){this.dataZoomModel=t,this.ecModel=r,this.api=a},e.type="dataZoom",e}(J),ar=lm;var um=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(ar),xf=um;var or=b,_f=St,pm=function(){function i(e,t,r,a){this._dimName=e,this._axisIndex=t,this.ecModel=a,this._dataZoomModel=r}return i.prototype.hostedBy=function(e){return this._dataZoomModel===e},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(df(t)){var r=Vt(this._dimName),a=t.getReferringComponents(r,Ct).models[0];a&&this._axisIndex===a.componentIndex&&e.push(t)}},this),e},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return B(this._minMaxSpan)},i.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,o=this._dataZoomModel.getRangePropMode(),n=[0,100],s=[],l=[],u;or(["start","end"],function(h,c){var v=e[h],d=e[h+"Value"];o[c]==="percent"?(v==null&&(v=n[c]),d=a.parse(vt(v,n,t))):(u=!0,d=d==null?t[c]:a.parse(d),v=vt(d,t,n)),l[c]=d==null||isNaN(d)?t[c]:d,s[c]=v==null||isNaN(v)?n[c]:v}),_f(l),_f(s);var p=this._minMaxSpan;u?f(l,s,t,n,!1):f(s,l,n,t,!0);function f(h,c,v,d,m){var g=m?"Span":"ValueSpan";Gt(0,h,v,"all",p["min"+g],p["max"+g]);for(var x=0;x<2;x++)c[x]=vt(h[x],v,d,!0),m&&(c[x]=a.parse(c[x]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=fm(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),o=e.get("filterMode"),n=this._valueWindow;if(o==="none")return;or(a,function(l){var u=l.getData(),p=u.mapDimensionsAll(r);if(p.length){if(o==="weakFilter"){var f=u.getStore(),h=z(p,function(c){return u.getDimensionIndex(c)},u);u.filterSelf(function(c){for(var v,d,m,g=0;g<p.length;g++){var x=f.get(h[g],c),y=!isNaN(x),S=x<n[0],_=x>n[1];if(y&&!S&&!_)return!0;y&&(m=!0),S&&(v=!0),_&&(d=!0)}return m&&v&&d})}else or(p,function(c){if(o==="empty")l.setData(u=u.map(c,function(d){return s(d)?d:NaN}));else{var v={};v[c]=n,u.selectRange(v)}});or(p,function(c){u.setApproximateExtent(n,c)})}});function s(l){return l>=n[0]&&l<=n[1]}},i.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;or(["min","max"],function(a){var o=t.get(a+"Span"),n=t.get(a+"ValueSpan");n!=null&&(n=this.getAxisModel().axis.scale.parse(n)),n!=null?o=vt(r[0]+n,r,[0,100],!0):o!=null&&(n=vt(o,[0,100],r,!0)-r[0]),e[a+"Span"]=o,e[a+"ValueSpan"]=n},this)},i.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var a=Us(r,[0,500]);a=Math.min(a,20);var o=e.axis.scale.rawExtentInfo;t[0]!==0&&o.setDeterminedMinMax("min",+r[0].toFixed(a)),t[1]!==100&&o.setDeterminedMinMax("max",+r[1].toFixed(a)),o.freeze()}},i}();function fm(i,e,t){var r=[1/0,-1/0];or(t,function(n){Xl(r,n.getData(),e)});var a=i.getAxisModel(),o=Yl(a.axis.scale,a,r).calculate();return[o.min,o.max]}var Sf=pm;var hm={getTargetSeries:function(i){function e(a){i.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(n,s){var l=i.getComponent(Vt(n),s);a(n,s,l,o)})})}e(function(a,o,n,s){n.__dzAxisProxy=null});var t=[];e(function(a,o,n,s){n.__dzAxisProxy||(n.__dzAxisProxy=new Sf(a,o,s,i),t.push(n.__dzAxisProxy))});var r=$();return b(t,function(a){b(a.getTargetSeriesModels(),function(o){r.set(o.uid,o)})}),r},overallReset:function(i,e){i.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).reset(t)}),t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).filterData(t,e)})}),i.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),o=r.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:o[0],endValue:o[1]})}})}},bf=hm;function $o(i){i.registerAction("dataZoom",function(e,t){var r=mf(t,e);b(r,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var Tf=!1;function Oe(i){Tf||(Tf=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,bf),$o(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function wf(i){i.registerComponentModel(yf),i.registerComponentView(xf),Oe(i)}var gt=function(){function i(){}return i}();var Cf={};function ge(i,e){Cf[i]=e}function ea(i){return Cf[i]}var vm=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;b(this.option.feature,function(r,a){var o=ea(a);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),q(r,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Q),Mf=vm;function Af(i,e,t){var r=e.getBoxLayoutParams(),a=e.get("padding"),o={width:t.getWidth(),height:t.getHeight()},n=mt(r,o,a);Nt(e.get("orient"),i,e.get("itemGap"),n.width,n.height),Ke(i,r,o,a)}function ra(i,e){var t=fe(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),i=new ft({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),i}var mm=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a,o){var n=this.group;if(n.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},p=this._features||(this._features={}),f=[];b(u,function(v,d){f.push(d)}),new Ar(this._featureNames||[],f).add(h).update(h).remove(H(h,null)).execute(),this._featureNames=f;function h(v,d){var m=f[v],g=f[d],x=u[m],y=new At(x,t,t.ecModel),S;if(o&&o.newTitle!=null&&o.featureName===m&&(x.title=o.newTitle),m&&!g){if(gm(m))S={onclick:y.option.onclick,featureName:m};else{var _=ea(m);if(!_)return;S=new _}p[m]=S}else if(S=p[g],!S)return;S.uid=_l("toolbox-feature"),S.model=y,S.ecModel=r,S.api=a;var T=S instanceof gt;if(!m&&g){T&&S.dispose&&S.dispose(r,a);return}if(!y.get("show")||T&&S.unusable){T&&S.remove&&S.remove(r,a);return}c(y,S,m),y.setIconStatus=function(w,M){var C=this.option,I=this.iconPaths;C.iconStatus=C.iconStatus||{},C.iconStatus[w]=M,I[w]&&(M==="emphasis"?Ha:Ga)(I[w])},S instanceof gt&&S.render&&S.render(y,r,a,o)}function c(v,d,m){var g=v.getModel("iconStyle"),x=v.getModel(["emphasis","iconStyle"]),y=d instanceof gt&&d.getIcons?d.getIcons():v.get("icon"),S=v.get("title")||{},_,T;V(y)?(_={},_[m]=y):_=y,V(S)?(T={},T[m]=S):T=S;var w=v.iconPaths={};b(_,function(M,C){var I=pe(M,{},{x:-s/2,y:-s/2,width:s,height:s});I.setStyle(g.getItemStyle());var L=I.ensureState("emphasis");L.style=x.getItemStyle();var k=new Y({style:{text:T[C],align:x.get("textAlign"),borderRadius:x.get("textBorderRadius"),padding:x.get("textPadding"),fill:null,font:gl({fontStyle:x.get("textFontStyle"),fontFamily:x.get("textFontFamily"),fontSize:x.get("textFontSize"),fontWeight:x.get("textFontWeight")},r)},ignore:!0});I.setTextContent(k),Ye({el:I,componentModel:t,itemName:C,formatterParamsExtra:{title:T[C]}}),I.__title=T[C],I.on("mouseover",function(){var D=x.getItemStyle(),O=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";k.setStyle({fill:x.get("textFill")||D.fill||D.stroke||"#000",backgroundColor:x.get("textBackgroundColor")}),I.setTextConfig({position:x.get("textPosition")||O}),k.ignore=!t.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",C])!=="emphasis"&&a.leaveEmphasis(this),k.hide()}),(v.get(["iconStatus",C])==="emphasis"?Ha:Ga)(I),n.add(I),I.on("click",R(d.onclick,d,r,a,C)),w[C]=I})}Af(n,t,a),n.add(ra(n.getBoundingRect(),t)),l||n.eachChild(function(v){var d=v.__title,m=v.ensureState("emphasis"),g=m.textConfig||(m.textConfig={}),x=v.getTextContent(),y=x&&x.ensureState("emphasis");if(y&&!G(y)&&d){var S=y.style||(y.style={}),_=We(d,Y.makeFont(S)),T=v.x+n.x,w=v.y+n.y+s,M=!1;w+_.height>a.getHeight()&&(g.position="top",M=!0);var C=M?-5-_.height:s+10;T+_.width/2>a.getWidth()?(g.position=["100%",C],S.align="right"):T-_.width/2<0&&(g.position=[0,C],S.align="left")}})},e.prototype.updateView=function(t,r,a,o){b(this._features,function(n){n instanceof gt&&n.updateView&&n.updateView(n.model,r,a,o)})},e.prototype.remove=function(t,r){b(this._features,function(a){a instanceof gt&&a.remove&&a.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){b(this._features,function(a){a instanceof gt&&a.dispose&&a.dispose(t,r)})},e.type="toolbox",e}(J);function gm(i){return i.indexOf("my")===0}var If=mm;var ym=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var a=this.model,o=a.get("name")||t.get("title.0.text")||"echarts",n=r.getZr().painter.getType()==="svg",s=n?"svg":a.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:a.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),u=lt.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var p=document.createElement("a");p.download=o+"."+s,p.target="_blank",p.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});p.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||n){var h=l.split(","),c=h[0].indexOf("base64")>-1,v=n?decodeURIComponent(h[1]):h[1];c&&(v=window.atob(v));var d=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=v.length,g=new Uint8Array(m);m--;)g[m]=v.charCodeAt(m);var x=new Blob([g]);window.navigator.msSaveOrOpenBlob(x,d)}else{var y=document.createElement("iframe");document.body.appendChild(y);var S=y.contentWindow,_=S.document;_.open("image/svg+xml","replace"),_.write(v),_.close(),S.focus(),_.execCommand("SaveAs",!0,d),document.body.removeChild(y)}}else{var T=a.get("lang"),w='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(T&&T[0]||"")+'" /></body>',M=window.open();M.document.write(w),M.document.title=o}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(gt),Df=ym;var Lf="__ec_magicType_stack__";var xm=[["line","bar"],["stack"]],_m=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),a={};return b(t.get("type"),function(o){r[o]&&(a[o]=r[o])}),a},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,a){var o=this.model,n=o.get(["seriesIndex",a]);if(Pf[a]){var s={series:[]},l=function(f){var h=f.subType,c=f.id,v=Pf[a](h,c,f,o);v&&(Z(v,f.option),s.series.push(v));var d=f.coordinateSystem;if(d&&d.type==="cartesian2d"&&(a==="line"||a==="bar")){var m=d.getAxesByScale("ordinal")[0];if(m){var g=m.dim,x=g+"Axis",y=f.getReferringComponents(x,Ct).models[0],S=y.componentIndex;s[x]=s[x]||[];for(var _=0;_<=S;_++)s[x][S]=s[x][S]||{};s[x][S].boundaryGap=a==="bar"}}};b(xm,function(f){rt(f,a)>=0&&b(f,function(h){o.setIconStatus(h,"normal")})}),o.setIconStatus(a,"emphasis"),t.eachComponent({mainType:"series",query:n==null?null:{seriesIndex:n}},l);var u,p=a;a==="stack"&&(u=q({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",a])!=="emphasis"&&(p="tiled")),r.dispatchAction({type:"changeMagicType",currentType:p,newOption:s,newTitle:u,featureName:"magicType"})}},e}(gt),Pf={line:function(i,e,t,r){if(i==="bar")return q({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(i,e,t,r){if(i==="line")return q({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(i,e,t,r){var a=t.get("stack")===Lf;if(i==="line"||i==="bar")return r.setIconStatus("stack",a?"normal":"emphasis"),q({id:e,stack:a?"":Lf},r.get(["option","stack"])||{},!0)}};Qe({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});var kf=_m;var aa=new Array(60).join("-"),nr="	";function Sm(i){var e={},t=[],r=[];return i.eachRawSeries(function(a){var o=a.coordinateSystem;if(o&&(o.type==="cartesian2d"||o.type==="polar")){var n=o.getBaseAxis();if(n.type==="category"){var s=n.dim+"_"+n.index;e[s]||(e[s]={categoryAxis:n,valueAxis:o.getOtherAxis(n),series:[]},r.push({axisDim:n.dim,axisIndex:n.index})),e[s].series.push(a)}else t.push(a)}else t.push(a)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function bm(i){var e=[];return b(i,function(t,r){var a=t.categoryAxis,o=t.valueAxis,n=o.dim,s=[" "].concat(z(t.series,function(c){return c.name})),l=[a.model.getCategories()];b(t.series,function(c){var v=c.getRawData();l.push(c.getRawData().mapArray(v.mapDimension(n),function(d){return d}))});for(var u=[s.join(nr)],p=0;p<l[0].length;p++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][p]);u.push(f.join(nr))}e.push(u.join(`
`))}),e.join(`

`+aa+`

`)}function Tm(i){return z(i,function(e){var t=e.getRawData(),r=[e.name],a=[];return t.each(t.dimensions,function(){for(var o=arguments.length,n=arguments[o-1],s=t.getName(n),l=0;l<o-1;l++)a[l]=arguments[l];r.push((s?s+nr:"")+a.join(nr))}),r.join(`
`)}).join(`

`+aa+`

`)}function wm(i){var e=Sm(i);return{value:ut([bm(e.seriesGroupByCategoryAxis),Tm(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+aa+`

`),meta:e.meta}}function ia(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cm(i){var e=i.slice(0,i.indexOf(`
`));if(e.indexOf(nr)>=0)return!0}var Qo=new RegExp("["+nr+"]+","g");function Mm(i){for(var e=i.split(/\n+/g),t=ia(e.shift()).split(Qo),r=[],a=z(t,function(l){return{name:l,data:[]}}),o=0;o<e.length;o++){var n=ia(e[o]).split(Qo);r.push(n.shift());for(var s=0;s<n.length;s++)a[s]&&(a[s].data[o]=n[s])}return{series:a,categories:r}}function Am(i){for(var e=i.split(/\n+/g),t=ia(e.shift()),r=[],a=0;a<e.length;a++){var o=ia(e[a]);if(o){var n=o.split(Qo),s="",l=void 0,u=!1;isNaN(n[0])?(u=!0,s=n[0],n=n.slice(1),r[a]={name:s,value:[]},l=r[a].value):l=r[a]=[];for(var p=0;p<n.length;p++)l.push(+n[p]);l.length===1&&(u?r[a].value=l[0]:r[a]=l[0])}}return{name:t,data:r}}function Im(i,e){var t=i.split(new RegExp(`
*`+aa+`
*`,"g")),r={series:[]};return b(t,function(a,o){if(Cm(a)){var n=Mm(a),s=e[o],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:n.categories},r.series=r.series.concat(n.series))}else{var n=Am(a);r.series.push(n)}}),r}var Dm=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var a=r.getDom(),o=this.model;this._dom&&a.removeChild(this._dom);var n=document.createElement("div");n.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",n.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var u=document.createElement("div"),p=document.createElement("textarea");u.style.cssText="overflow:auto";var f=o.get("optionToContent"),h=o.get("contentToOption"),c=wm(t);if(G(f)){var v=f(r.getOption());V(v)?u.innerHTML=v:gr(v)&&u.appendChild(v)}else{p.readOnly=o.get("readOnly");var d=p.style;d.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",d.color=o.get("textColor"),d.borderColor=o.get("textareaBorderColor"),d.backgroundColor=o.get("textareaColor"),p.value=c.value,u.appendChild(p)}var m=c.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),S=document.createElement("div");x+=";background-color:"+o.get("buttonColor"),x+=";color:"+o.get("buttonTextColor");var _=this;function T(){a.removeChild(n),_._dom=null}Ea(y,"click",T),Ea(S,"click",function(){if(h==null&&f!=null||h!=null&&f==null){T();return}var w;try{G(h)?w=h(u,r.getOption()):w=Im(p.value,m)}catch(M){throw T(),new Error("Data view format error "+M)}w&&r.dispatchAction({type:"changeDataView",newOption:w}),T()}),y.innerHTML=l[1],S.innerHTML=l[2],S.style.cssText=y.style.cssText=x,!o.get("readOnly")&&g.appendChild(S),g.appendChild(y),n.appendChild(s),n.appendChild(u),n.appendChild(g),u.style.height=a.clientHeight-80+"px",a.appendChild(n),this._dom=n},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(gt);function Lm(i,e){return z(i,function(t,r){var a=e&&e[r];if(it(a)&&!P(a)){var o=it(t)&&!P(t);o||(t={value:t});var n=a.name!=null&&t.name==null;return t=Z(t,a),n&&delete t.name,t}else return t})}Qe({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,e){var t=[];b(i.newOption.series,function(r){var a=e.getSeriesByName(r.name)[0];if(!a)t.push(N({type:"scatter"},r));else{var o=a.get("data");t.push({name:r.name,data:Lm(r.data,o)})}}),e.mergeOption(Z({series:t},i.newOption))});var Rf=Dm;var Ef=b,Of=j();function Vf(i,e){var t=Jo(i);Ef(e,function(r,a){for(var o=t.length-1;o>=0;o--){var n=t[o];if(n[a])break}if(o<0){var s=i.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var l=s.getPercentRange();t[0][a]={dataZoomId:a,start:l[0],end:l[1]}}}}),t.push(e)}function Uf(i){var e=Jo(i),t=e[e.length-1];e.length>1&&e.pop();var r={};return Ef(t,function(a,o){for(var n=e.length-1;n>=0;n--)if(a=e[n][o],a){r[o]=a;break}}),r}function Nf(i){Of(i).snapshots=null}function Bf(i){return Jo(i).length}function Jo(i){var e=Of(i);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Pm=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){Nf(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(gt);Qe({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});var Gf=Pm;var zm=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],km=function(){function i(e,t,r){var a=this;this._targetInfoList=[];var o=Ff(t,e);b(Rm,function(n,s){(!r||!r.include||rt(r.include,s)>=0)&&n(o,a._targetInfoList)})}return i.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,a,o){if((r.coordRanges||(r.coordRanges=[])).push(a),!r.coordRange){r.coordRange=a;var n=tn[r.brushType](0,o,a);r.__rangeOffset={offset:Xf[r.brushType](n.values,r.range,[1,1]),xyMinMax:n.xyMinMax}}}),e},i.prototype.matchOutputRanges=function(e,t,r){b(e,function(a){var o=this.findTargetInfo(a,t);o&&o!==!0&&b(o.coordSyses,function(n){var s=tn[a.brushType](1,n,a.range,!0);r(a,s.values,n,t)})},this)},i.prototype.setInputRanges=function(e,t){b(e,function(r){var a=this.findTargetInfo(r,t);if(r.range=r.range||[],a&&a!==!0){r.panelId=a.panelId;var o=tn[r.brushType](0,a.coordSys,r.coordRange),n=r.__rangeOffset;r.range=n?Xf[r.brushType](o.values,n.offset,Em(o.xyMinMax,n.xyMinMax)):o.values}},this)},i.prototype.makePanelOpts=function(e,t){return z(this._targetInfoList,function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:_u(a),isTargetByCursor:bu(a,e,r.coordSysModel),getLinearBrushOtherExtent:Su(a)}})},i.prototype.controlSeries=function(e,t,r){var a=this.findTargetInfo(e,r);return a===!0||a&&rt(a.coordSyses,t.coordinateSystem)>=0},i.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,a=Ff(t,e),o=0;o<r.length;o++){var n=r[o],s=e.panelId;if(s){if(n.panelId===s)return n}else for(var l=0;l<Wf.length;l++)if(Wf[l](a,n))return n}return!0},i}();function en(i){return i[0]>i[1]&&i.reverse(),i}function Ff(i,e){return ci(i,e,{includeMainTypes:zm})}var Rm={grid:function(i,e){var t=i.xAxisModels,r=i.yAxisModels,a=i.gridModels,o=$(),n={},s={};!t&&!r&&!a||(b(t,function(l){var u=l.axis.grid.model;o.set(u.id,u),n[u.id]=!0}),b(r,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),b(a,function(l){o.set(l.id,l),n[l.id]=!0,s[l.id]=!0}),o.each(function(l){var u=l.coordinateSystem,p=[];b(u.getCartesians(),function(f,h){(rt(t,f.getAxis("x").model)>=0||rt(r,f.getAxis("y").model)>=0)&&p.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:p[0],coordSyses:p,getPanelRect:Zf.grid,xAxisDeclared:n[l.id],yAxisDeclared:s[l.id]})}))},geo:function(i,e){b(i.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:Zf.geo})})}},Wf=[function(i,e){var t=i.xAxisModel,r=i.yAxisModel,a=i.gridModel;return!a&&t&&(a=t.axis.grid.model),!a&&r&&(a=r.axis.grid.model),a&&a===e.gridModel},function(i,e){var t=i.geoModel;return t&&t===e.geoModel}],Zf={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,e=i.getBoundingRect().clone();return e.applyTransform(ue(i)),e}},tn={lineX:H(Yf,0),lineY:H(Yf,1),rect:function(i,e,t,r){var a=i?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),o=i?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),n=[en([a[0],o[0]]),en([a[1],o[1]])];return{values:n,xyMinMax:n}},polygon:function(i,e,t,r){var a=[[1/0,-1/0],[1/0,-1/0]],o=z(t,function(n){var s=i?e.pointToData(n,r):e.dataToPoint(n,r);return a[0][0]=Math.min(a[0][0],s[0]),a[1][0]=Math.min(a[1][0],s[1]),a[0][1]=Math.max(a[0][1],s[0]),a[1][1]=Math.max(a[1][1],s[1]),s});return{values:o,xyMinMax:a}}};function Yf(i,e,t,r){var a=t.getAxis(["x","y"][i]),o=en(z([0,1],function(s){return e?a.coordToData(a.toLocalCoord(r[s]),!0):a.toGlobalCoord(a.dataToCoord(r[s]))})),n=[];return n[i]=o,n[1-i]=[NaN,NaN],{values:o,xyMinMax:n}}var Xf={lineX:H(Kf,0),lineY:H(Kf,1),rect:function(i,e,t){return[[i[0][0]-t[0]*e[0][0],i[0][1]-t[0]*e[0][1]],[i[1][0]-t[1]*e[1][0],i[1][1]-t[1]*e[1][1]]]},polygon:function(i,e,t){return z(i,function(r,a){return[r[0]-t[0]*e[a][0],r[1]-t[1]*e[a][1]]})}};function Kf(i,e,t,r){return[e[0]-r[i]*t[0],e[1]-r[i]*t[1]]}function Em(i,e){var t=jf(i),r=jf(e),a=[t[0]/r[0],t[1]/r[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function jf(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}var Gr=km;var rn=b,Om=Zs("toolbox-dataZoom_");var Vm=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a,o){this._brushController||(this._brushController=new Li(a.getZr()),this._brushController.on("brush",R(this._onBrush,this)).mount()),Bm(t,r,this,o,a),Nm(t,r)},e.prototype.onclick=function(t,r,a){Um[a].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var a={},o=this.ecModel;this._brushController.updateCovers([]);var n=new Gr(an(this.model),o,{include:["grid"]});n.matchOutputRanges(r,o,function(u,p,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",f,p[0]),s("y",f,p[1])):s({lineX:"x",lineY:"y"}[h],f,p)}}),Vf(o,a),this._dispatchZoomAction(a);function s(u,p,f){var h=p.getAxis(u),c=h.model,v=l(u,c,o),d=v.findRepresentativeAxisProxy(c).getMinMaxSpan();(d.minValueSpan!=null||d.maxValueSpan!=null)&&(f=Gt(0,f.slice(),h.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),v&&(a[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(u,p,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(c){var v=c.getAxisModel(u,p.componentIndex);v&&(h=c)}),h}},e.prototype._dispatchZoomAction=function(t){var r=[];rn(t,function(a,o){r.push(B(a))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(gt),Um={zoom:function(){var i=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:i})},back:function(){this._dispatchZoomAction(Uf(this.ecModel))}};function an(i){var e={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Nm(i,e){i.setIconStatus("back",Bf(e)>1?"emphasis":"normal")}function Bm(i,e,t,r,a){var o=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(o=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=o,i.setIconStatus("zoom",o?"emphasis":"normal");var n=new Gr(an(i),e,{include:["grid"]}),s=n.makePanelOpts(a,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(o&&s.length?{brushType:"auto",brushStyle:i.getModel("brushStyle").getItemStyle()}:!1)}Ll("dataZoom",function(i){var e=i.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),a=[],o=an(r),n=ci(i,o);rn(n.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),rn(n.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,p){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:Om+u+f};h[p]=f,a.push(h)}return a});var qf=Vm;function on(i){i.registerComponentModel(Mf),i.registerComponentView(If),ge("saveAsImage",Df),ge("magicType",kf),ge("dataView",Rf),ge("dataZoom",qf),ge("restore",Gf),E(wf)}var Hm=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Q),$f=Hm;function oa(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function Qf(i){if(lt.domSupported){for(var e=document.documentElement.style,t=0,r=i.length;t<r;t++)if(i[t]in e)return i[t]}}var nn=Qf(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jf=Qf(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function sn(i,e){if(!i)return e;e=_i(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function th(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?e?t[e]:t:null}var Gm=sn(Jf,"transition"),ln=sn(nn,"transform"),Fm="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(lt.transform3dSupported?"will-change:transform;":"");function Wm(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function Zm(i,e,t){if(!V(t)||t==="inside")return"";var r=i.get("backgroundColor"),a=i.get("borderWidth");e=Xe(e);var o=Wm(t),n=Math.max(Math.round(a)*1.5,6),s="",l=ln+":",u;rt(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=o==="top"?225:45)+"deg)");var p=u*Math.PI/180,f=n+a,h=f*Math.abs(Math.cos(p))+f*Math.abs(Math.sin(p)),c=Math.round(((h-Math.SQRT2*a)/2+Math.SQRT2*a-(h-f)/2)*100)/100;s+=";"+o+":-"+c+"px";var v=e+" solid "+a+"px;",d=["position:absolute;width:"+n+"px;height:"+n+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+r+";"];return'<div style="'+d.join("")+'"></div>'}function Ym(i,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+i/2+"s "+t,a="opacity"+r+",visibility"+r;return e||(r=" "+i+"s "+t,a+=lt.transformSupported?","+ln+r:",left"+r+",top"+r),Gm+":"+a}function eh(i,e,t){var r=i.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!lt.transformSupported)return t?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var o=lt.transform3dSupported,n="translate"+(o?"3d":"")+"("+r+","+a+(o?",0":"")+")";return t?"top:0;left:0;"+ln+":"+n+";":[["top",0],["left",0],[nn,n]]}function Xm(i){var e=[],t=i.get("fontSize"),r=i.getTextColor();r&&e.push("color:"+r),e.push("font:"+i.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var a=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,n=i.get("textShadowOffsetX")||0,s=i.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+n+"px "+s+"px "+o+"px "+a),b(["decoration","align"],function(l){var u=i.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function Km(i,e,t){var r=[],a=i.get("transitionDuration"),o=i.get("backgroundColor"),n=i.get("shadowBlur"),s=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),p=i.getModel("textStyle"),f=bi(i,"html"),h=l+"px "+u+"px "+n+"px "+s;return r.push("box-shadow:"+h),e&&a&&r.push(Ym(a,t)),o&&r.push("background-color:"+o),b(["width","color","radius"],function(c){var v="border-"+c,d=_i(v),m=i.get(d);m!=null&&r.push(v+":"+m+(c==="color"?"":"px"))}),r.push(Xm(p)),f!=null&&r.push("padding:"+fe(f).join("px ")+"px"),r.join(";")+";"}function rh(i,e,t,r,a){var o=e&&e.painter;if(t){var n=o&&o.getViewportRoot();n&&gs(i,n,t,r,a)}else{i[0]=r,i[1]=a;var s=o&&o.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var jm=function(){function i(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,lt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var a=this._zr=e.getZr(),o=t.appendTo,n=o&&(V(o)?document.querySelector(o):gr(o)?o:G(o)&&o(e.getDom()));rh(this._styleCoord,a,n,e.getWidth()/2,e.getHeight()/2),(n||e.getDom()).appendChild(r),this._api=e,this._container=n;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,p=a.painter.getViewportRoot();ys(p,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=th(t,"position"),a=t.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative")}var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,o=this._styleCoord;r.innerHTML?a.cssText=Fm+Km(e,!this._firstShow,this._longHide)+eh(o[0],o[1],!0)+("border-color:"+Xe(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,r,a,o){var n=this.el;if(e==null){n.innerHTML="";return}var s="";if(V(o)&&r.get("trigger")==="item"&&!oa(r)&&(s=Zm(r,a,o)),V(e))n.innerHTML=e+s;else if(e){n.innerHTML="",P(e)||(e=[e]);for(var l=0;l<e.length;l++)gr(e[l])&&e[l].parentNode!==n&&n.appendChild(e[l]);if(s&&n.childNodes.length){var u=document.createElement("div");u.innerHTML=s,n.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},i.prototype.moveTo=function(e,t){var r=this._styleCoord;if(rh(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var a=this.el.style,o=eh(r[0],r[1]);b(o,function(n){a[n[0]]=n[1]})}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",lt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(R(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},i}(),ih=jm;var qm=function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),oh(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,r,a,o){var n=this;it(e)&&st(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new Y({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:bi(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),b(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){n.el.style[u]=r.get(u)}),b(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){n.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=ah(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},i.prototype.moveTo=function(e,t){var r=this.el;if(r){var a=this._styleCoord;oh(a,this._zr,e,t),e=a[0],t=a[1];var o=r.style,n=ye(o.borderWidth||0),s=ah(o);r.x=e+n+s.left,r.y=t+n+s.top,r.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(R(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function ye(i){return Math.max(0,i)}function ah(i){var e=ye(i.shadowBlur||0),t=ye(i.shadowOffsetX||0),r=ye(i.shadowOffsetY||0);return{left:ye(e-t),right:ye(e+t),top:ye(e-r),bottom:ye(e+r)}}function oh(i,e,t,r){i[0]=t,i[1]=r,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var nh=qm;var $m=new ft({shape:{x:-1,y:-1,width:2,height:2}}),Qm=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(lt.node||!r.getDom())){var a=t.getComponent("tooltip"),o=this._renderMode=$s(a.get("renderMode"));this._tooltipContent=o==="richText"?new nh(r):new ih(r,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(t,r,a){if(!(lt.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=a;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Kt(this,"_updatePosition",50,"fixRate"):Le(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");Zi("itemTooltip",this._api,R(function(a,o,n){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(o,n):a==="leave"&&this._hide(n))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,a=this._api,o=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&n.manuallyShowTip(t,r,a,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,a,o){if(!(o.from===this.uid||lt.node||!a.getDom())){var n=sh(o,a);this._ticket="";var s=o.dataByCoordSys,l=rg(o,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},n)}else if(o.tooltip&&o.x!=null&&o.y!=null){var p=$m;p.x=o.x,p.y=o.y,p.update(),X(p).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:p},n)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},n);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,a,o))return;var f=Br(o,r),h=f.point[0],c=f.point[1];h!=null&&c!=null&&this._tryShow({offsetX:h,offsetY:c,target:f.el,position:o.position,positionDefault:"bottom"},n)}else o.x!=null&&o.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:a.getZr().findHover(o.x,o.y).target},n))}},e.prototype.manuallyHideTip=function(t,r,a,o){var n=this._tooltipContent;this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(sh(o,a))},e.prototype._manuallyAxisShowTip=function(t,r,a,o){var n=o.seriesIndex,s=o.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(n==null||s==null||l==null)){var u=r.getSeriesByIndex(n);if(u){var p=u.getData(),f=Fr([p.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:s,position:o.position}),!0}}},e.prototype._tryShow=function(t,r){var a=t.target,o=this._tooltipModel;if(o){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;if(n&&n.length)this._showAxisTooltip(n,t);else if(a){var s=X(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Ci(a,function(p){if(X(p).dataIndex!=null)return l=p,!0;if(X(p).tooltipConfig!=null)return u=p,!0},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var a=t.get("showDelay");r=R(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},e.prototype._showAxisTooltip=function(t,r){var a=this._ecModel,o=this._tooltipModel,n=[r.offsetX,r.offsetY],s=Fr([r.tooltipOption],o),l=this._renderMode,u=[],p=he("section",{blocks:[],noHeader:!0}),f=[],h=new Ti;b(t,function(x){b(x.dataByAxis,function(y){var S=a.getComponent(y.axisDim+"Axis",y.axisIndex),_=y.value;if(!(!S||_==null)){var T=ko(_,S.axis,a,y.seriesDataIndices,y.valueLabelOpt),w=he("section",{header:T,noHeader:!vs(T),sortBlocks:!0,blocks:[]});p.blocks.push(w),b(y.seriesDataIndices,function(M){var C=a.getSeriesByIndex(M.seriesIndex),I=M.dataIndexInside,L=C.getDataParams(I);if(!(L.dataIndex<0)){L.axisDim=y.axisDim,L.axisIndex=y.axisIndex,L.axisType=y.axisType,L.axisId=y.axisId,L.axisValue=Ii(S.axis,{value:_}),L.axisValueLabel=T,L.marker=h.makeTooltipMarker("item",Xe(L.color),l);var k=Ya(C.formatTooltip(I,!0,null)),D=k.frag;if(D){var O=Fr([C],o).get("valueFormatter");w.blocks.push(O?N({valueFormatter:O},D):D)}k.text&&f.push(k.text),u.push(L)}})}})}),p.blocks.reverse(),f.reverse();var c=r.position,v=s.get("order"),d=Ka(p,h,l,v,a.get("useUTC"),s.get("textStyle"));d&&f.unshift(d);var m=l==="richText"?`

`:"<br/>",g=f.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,c,n[0],n[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",n[0],n[1],c,null,h)})},e.prototype._showSeriesItemTooltip=function(t,r,a){var o=this._ecModel,n=X(r),s=n.seriesIndex,l=o.getSeriesByIndex(s),u=n.dataModel||l,p=n.dataIndex,f=n.dataType,h=u.getData(f),c=this._renderMode,v=t.positionDefault,d=Fr([h.getItemModel(p),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=d.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(p,f),x=new Ti;g.marker=x.makeTooltipMarker("item",Xe(g.color),c);var y=Ya(u.formatTooltip(p,!1,f)),S=d.get("order"),_=d.get("valueFormatter"),T=y.frag,w=T?Ka(_?N({valueFormatter:_},T):T,x,c,S,o.get("useUTC"),d.get("textStyle")):y.text,M="item_"+u.name+"_"+p;this._showOrMove(d,function(){this._showTooltipContent(d,w,g,M,t.offsetX,t.offsetY,t.position,t.target,x)}),a({type:"showTip",dataIndexInside:p,dataIndex:h.getRawIndex(p),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,a){var o=this._renderMode==="html",n=X(r),s=n.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(V(l)){var p=l;l={content:p,formatter:p},u=!0}u&&o&&l.content&&(l=B(l),l.content=si(l.content));var f=[l],h=this._ecModel.getComponent(n.componentMainType,n.componentIndex);h&&f.push(h),f.push({formatter:l.content});var c=t.positionDefault,v=Fr(f,this._tooltipModel,c?{position:c}:null),d=v.get("content"),m=Math.random()+"",g=new Ti;this._showOrMove(v,function(){var x=B(v.get("formatterParams")||{});this._showTooltipContent(v,d,x,m,t.offsetX,t.offsetY,t.position,r,g)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,a,o,n,s,l,u,p){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var c=r,v=this._getNearestPoint([n,s],a,t.get("trigger"),t.get("borderColor")),d=v.color;if(h)if(V(h)){var m=t.ecModel.get("useUTC"),g=P(a)?a[0]:a,x=g&&g.axisType&&g.axisType.indexOf("time")>=0;c=h,x&&(c=Sl(g.axisValue,c,m)),c=bl(c,a,!0)}else if(G(h)){var y=R(function(S,_){S===this._ticket&&(f.setContent(_,p,t,d,l),this._updatePosition(t,l,n,s,f,a,u))},this);this._ticket=o,c=h(a,o,y)}else c=h;f.setContent(c,p,t,d,l),f.show(t,d),this._updatePosition(t,l,n,s,f,a,u)}},e.prototype._getNearestPoint=function(t,r,a,o){if(a==="axis"||P(r))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!P(r))return{color:o||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,a,o,n,s,l){var u=this._api.getWidth(),p=this._api.getHeight();r=r||t.get("position");var f=n.getSize(),h=t.get("align"),c=t.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),G(r)&&(r=r([a,o],s,n.el,v,{viewSize:[u,p],contentSize:f.slice()})),P(r))a=K(r[0],u),o=K(r[1],p);else if(it(r)){var d=r;d.width=f[0],d.height=f[1];var m=mt(d,{width:u,height:p});a=m.x,o=m.y,h=null,c=null}else if(V(r)&&l){var g=eg(r,v,f,t.get("borderWidth"));a=g[0],o=g[1]}else{var g=Jm(a,o,n,u,p,h?null:20,c?null:20);a=g[0],o=g[1]}if(h&&(a-=lh(h)?f[0]/2:h==="right"?f[0]:0),c&&(o-=lh(c)?f[1]/2:c==="bottom"?f[1]:0),oa(t)){var g=tg(a,o,n,u,p);a=g[0],o=g[1]}n.moveTo(a,o)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var a=this._lastDataByCoordSys,o=this._cbParamsList,n=!!a&&a.length===t.length;return n&&b(a,function(s,l){var u=s.dataByAxis||[],p=t[l]||{},f=p.dataByAxis||[];n=n&&u.length===f.length,n&&b(u,function(h,c){var v=f[c]||{},d=h.seriesDataIndices||[],m=v.seriesDataIndices||[];n=n&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&d.length===m.length,n&&b(d,function(g,x){var y=m[x];n=n&&g.seriesIndex===y.seriesIndex&&g.dataIndex===y.dataIndex}),o&&b(h.seriesDataIndices,function(g){var x=g.seriesIndex,y=r[x],S=o[x];y&&S&&S.data!==y.data&&(n=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){lt.node||!r.getDom()||(Le(this,"_updatePosition"),this._tooltipContent.dispose(),Nr("itemTooltip",r))},e.type="tooltip",e}(J);function Fr(i,e,t){var r=e.ecModel,a;t?(a=new At(t,r,r),a=new At(e.option,a,r)):a=e;for(var o=i.length-1;o>=0;o--){var n=i[o];n&&(n instanceof At&&(n=n.get("tooltip",!0)),V(n)&&(n={formatter:n}),n&&(a=new At(n,a,r)))}return a}function sh(i,e){return i.dispatchAction||R(e.dispatchAction,e)}function Jm(i,e,t,r,a,o,n){var s=t.getSize(),l=s[0],u=s[1];return o!=null&&(i+l+o+2>r?i-=l+o:i+=o),n!=null&&(e+u+n>a?e-=u+n:e+=n),[i,e]}function tg(i,e,t,r,a){var o=t.getSize(),n=o[0],s=o[1];return i=Math.min(i+n,r)-n,e=Math.min(e+s,a)-s,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function eg(i,e,t,r){var a=t[0],o=t[1],n=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,p=e.height;switch(i){case"inside":s=e.x+u/2-a/2,l=e.y+p/2-o/2;break;case"top":s=e.x+u/2-a/2,l=e.y-o-n;break;case"bottom":s=e.x+u/2-a/2,l=e.y+p+n;break;case"left":s=e.x-a-n,l=e.y+p/2-o/2;break;case"right":s=e.x+u+n,l=e.y+p/2-o/2}return[s,l]}function lh(i){return i==="center"||i==="middle"}function rg(i,e,t){var r=Ks(i).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var o=qs(e,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),n=o.models[0];if(n){var s=t.getViewOfComponentModel(n),l;if(s.group.traverse(function(u){var p=X(u).tooltipConfig;if(p&&p.name===i.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:n.componentIndex,el:l}}}}var uh=Qm;function un(i){E(Ft),i.registerComponentModel($f),i.registerComponentView(uh),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ne),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ne)}var ig=["rect","polygon","keep","clear"];function pn(i,e){var t=Lt(i?i.brush:[]);if(t.length){var r=[];b(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var a=i&&i.toolbox;P(a)&&(a=a[0]),a||(a={feature:{}},i.toolbox=[a]);var o=a.feature||(a.feature={}),n=o.brush||(o.brush={}),s=n.type||(n.type=[]);s.push.apply(s,r),ag(s),e&&!s.length&&s.push.apply(s,ig)}}function ag(i){var e={};b(i,function(t){e[t]=1}),i.length=0,b(e,function(t,r){i.push(r)})}var ph=b;function fh(i){if(i){for(var e in i)if(i.hasOwnProperty(e))return!0}}function Wr(i,e,t){var r={};return ph(e,function(o){var n=r[o]=a();ph(i[o],function(s,l){if(dt.isValidType(l)){var u={type:l,visual:s};t&&t(u,o),n[l]=new dt(u),l==="opacity"&&(u=B(u),u.type="colorAlpha",n.__hidden.__alphaForOpacity=new dt(u))}})}),r;function a(){var o=function(){};o.prototype.__hidden=o.prototype;var n=new o;return n}}function na(i,e,t){var r;b(t,function(a){e.hasOwnProperty(a)&&fh(e[a])&&(r=!0)}),r&&b(t,function(a){e.hasOwnProperty(a)&&fh(e[a])?i[a]=B(e[a]):delete i[a]})}function hh(i,e,t,r,a,o){var n={};b(i,function(f){var h=dt.prepareVisualTypes(e[f]);n[f]=h});var s;function l(f){return ja(t,s,f)}function u(f,h){qa(t,s,f,h)}o==null?t.each(p):t.each([o],p);function p(f,h){s=o==null?f:h;var c=t.getRawDataItem(s);if(!(c&&c.visualMap===!1))for(var v=r.call(a,f),d=e[v],m=n[v],g=0,x=m.length;g<x;g++){var y=m[g];d[y]&&d[y].applyVisual(f,l,u)}}}function ch(i,e,t,r){var a={};return b(i,function(o){var n=dt.prepareVisualTypes(e[o]);a[o]=n}),{progress:function(n,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(_){return ja(s,f,_)}function p(_,T){qa(s,f,_,T)}for(var f,h=s.getStore();(f=n.next())!=null;){var c=s.getRawDataItem(f);if(!(c&&c.visualMap===!1))for(var v=r!=null?h.get(l,f):f,d=t(v),m=e[d],g=a[d],x=0,y=g.length;x<y;x++){var S=g[x];m[S]&&m[S].applyVisual(v,u,p)}}}}}function mh(i){var e=i.brushType,t={point:function(r){return vh[e].point(r,t,i)},rect:function(r){return vh[e].rect(r,t,i)}};return t}var vh={lineX:dh(0),lineY:dh(1),rect:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])},rect:function(i,e,t){return i&&t.boundingRect.intersect(i)}},polygon:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])&&Je(t.range,i[0],i[1])},rect:function(i,e,t){var r=t.range;if(!i||r.length<=1)return!1;var a=i.x,o=i.y,n=i.width,s=i.height,l=r[0];if(Je(r,a,o)||Je(r,a+n,o)||Je(r,a,o+s)||Je(r,a+n,o+s)||_t.create(i).contain(l[0],l[1])||wr(a,o,a+n,o,r)||wr(a,o,a,o+s,r)||wr(a+n,o,a+n,o+s,r)||wr(a,o+s,a+n,o+s,r))return!0}}};function dh(i){var e=["x","y"],t=["width","height"];return{point:function(r,a,o){if(r){var n=o.range,s=r[i];return Zr(s,n)}},rect:function(r,a,o){if(r){var n=o.range,s=[r[e[i]],r[e[i]]+r[t[i]]];return s[1]<s[0]&&s.reverse(),Zr(s[0],n)||Zr(s[1],n)||Zr(n[0],s)||Zr(n[1],s)}}}}function Zr(i,e){return e[0]<=i&&i<=e[1]}var gh=["inBrush","outOfBrush"],fn="__ecBrushSelect",hn="__ecInBrushSelectEvent";function cn(i){i.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new Gr(e.option,i);t.setInputRanges(e.areas,i)})}function vn(i,e,t){var r=[],a,o;i.eachComponent({mainType:"brush"},function(n){t&&t.type==="takeGlobalCursor"&&n.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),cn(i),i.eachComponent({mainType:"brush"},function(n,s){var l={brushId:n.id,brushIndex:s,brushName:n.name,areas:B(n.areas),selected:[]};r.push(l);var u=n.option,p=u.brushLink,f=[],h=[],c=[],v=!1;s||(a=u.throttleType,o=u.throttleDelay);var d=z(n.areas,function(_){var T=lg[_.brushType],w=Z({boundingRect:T?T(_):void 0},_);return w.selectors=mh(w),w}),m=Wr(n.option,gh,function(_){_.mappingMethod="fixed"});P(p)&&b(p,function(_){f[_]=1});function g(_){return p==="all"||!!f[_]}function x(_){return!!_.length}i.eachSeries(function(_,T){var w=c[T]=[];_.subType==="parallel"?y(_,T):S(_,T,w)});function y(_,T){var w=_.coordinateSystem;v=v||w.hasAxisBrushed(),g(T)&&w.eachActiveState(_.getData(),function(M,C){M==="active"&&(h[C]=1)})}function S(_,T,w){if(!(!_.brushSelector||sg(n,T))&&(b(d,function(C){n.brushTargetManager.controlSeries(C,_,i)&&w.push(C),v=v||x(w)}),g(T)&&x(w))){var M=_.getData();M.each(function(C){yh(_,w,M,C)&&(h[C]=1)})}}i.eachSeries(function(_,T){var w={seriesId:_.id,seriesIndex:T,seriesName:_.name,dataIndex:[]};l.selected.push(w);var M=c[T],C=_.getData(),I=g(T)?function(L){return h[L]?(w.dataIndex.push(C.getRawIndex(L)),"inBrush"):"outOfBrush"}:function(L){return yh(_,M,C,L)?(w.dataIndex.push(C.getRawIndex(L)),"inBrush"):"outOfBrush"};(g(T)?v:x(M))&&hh(gh,m,C,I)})}),og(e,a,o,r,t)}function og(i,e,t,r,a){if(a){var o=i.getZr();if(!o[hn]){o[fn]||(o[fn]=ng);var n=Kt(o,fn,t,e);n(i,r)}}}function ng(i,e){if(!i.isDisposed()){var t=i.getZr();t[hn]=!0,i.dispatchAction({type:"brushSelect",batch:e}),t[hn]=!1}}function yh(i,e,t,r){for(var a=0,o=e.length;a<o;a++){var n=e[a];if(i.brushSelector(r,t,n.selectors,n))return!0}}function sg(i,e){var t=i.option.seriesIndex;return t!=null&&t!=="all"&&(P(t)?rt(t,e)<0:e!==t)}var lg={rect:function(i){return xh(i.range)},polygon:function(i){for(var e,t=i.range,r=0,a=t.length;r<a;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=t[r];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&xh(e)}};function xh(i){return new _t(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var ug=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new Li(r.getZr())).on("brush",R(this._onBrush,this)).mount()},e.prototype.render=function(t,r,a,o){this.model=t,this._updateController(t,r,a,o)},e.prototype.updateTransform=function(t,r,a,o){cn(r),this._updateController(t,r,a,o)},e.prototype.updateVisual=function(t,r,a,o){this.updateTransform(t,r,a,o)},e.prototype.updateView=function(t,r,a,o){this._updateController(t,r,a,o)},e.prototype._updateController=function(t,r,a,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(a)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,a=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:B(a),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:B(a),$from:r})},e.type="brush",e}(J),_h=ug;var pg="#ddd",fg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var a=this.option;!r&&na(a,t,["inBrush","outOfBrush"]);var o=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:pg},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=z(t,function(r){return Sh(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=Sh(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Q);function Sh(i,e){return q({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new At(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},e,!0)}var bh=fg;var hg=["rect","polygon","lineX","lineY","keep","clear"],cg=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a){var o,n,s;r.eachComponent({mainType:"brush"},function(l){o=l.brushType,n=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=n,b(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?n==="multiple":l==="clear"?s:l===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,a){this.render(t,r,a)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),a={};return b(t.get("type",!0),function(o){r[o]&&(a[o]=r[o])}),a},e.prototype.onclick=function(t,r,a){var o=this._brushType,n=this._brushMode;a==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?o:o===a?!1:a,brushMode:a==="keep"?n==="multiple"?"single":"multiple":n}})},e.getDefaultOption=function(t){var r={show:!0,type:hg.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e}(gt),Th=cg;function dn(i){i.registerComponentView(_h),i.registerComponentModel(bh),i.registerPreprocessor(pn),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,vn),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ne),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ne),ge("brush",Th)}var vg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Q),dg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){if(this.group.removeAll(),!!t.get("show")){var o=this.group,n=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=pt(t.get("textBaseline"),t.get("textVerticalAlign")),p=new Y({style:ot(n,{text:t.get("text"),fill:n.getTextColor()},{disableBox:!0}),z2:10}),f=p.getBoundingRect(),h=t.get("subtext"),c=new Y({style:ot(s,{text:h,fill:s.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),d=t.get("sublink"),m=t.get("triggerEvent",!0);p.silent=!v&&!m,c.silent=!d&&!m,v&&p.on("click",function(){Wa(v,"_"+t.get("target"))}),d&&c.on("click",function(){Wa(d,"_"+t.get("subtarget"))}),X(p).eventData=X(c).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(p),h&&o.add(c);var g=o.getBoundingRect(),x=t.getBoxLayoutParams();x.width=g.width,x.height=g.height;var y=mt(x,{width:a.getWidth(),height:a.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?y.x+=y.width:l==="center"&&(y.x+=y.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?y.y+=y.height:u==="middle"&&(y.y+=y.height/2),u=u||"top"),o.x=y.x,o.y=y.y,o.markRedraw();var S={align:l,verticalAlign:u};p.setStyle(S),c.setStyle(S),g=o.getBoundingRect();var _=y.margin,T=t.getItemStyle(["color","opacity"]);T.fill=t.get("backgroundColor");var w=new ft({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g.height+_[0]+_[2],r:t.get("borderRadius")},style:T,subPixelOptimize:!0,silent:!0});o.add(w)}},e.type="title",e}(J);function mn(i){i.registerComponentModel(vg),i.registerComponentView(dg)}var mg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),this._initData()},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],a=t.axisType,o=this._names=[],n;a==="category"?(n=[],b(r,function(u,p){var f=Ie(Gs(u),""),h;it(u)?(h=B(u),h.value=p):h=p,n.push(h),o.push(f)})):n=r;var s={category:"ordinal",time:"time",value:"number"}[a]||"number",l=this._data=new Bt([{name:"value",type:s}],this);l.initData(n,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Q),gn=mg;var wh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=zt(gn.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(gn);ie(wh,Cr.prototype);var Ch=wh;var gg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(J),Mh=gg;var yg=function(i){A(e,i);function e(t,r,a,o){var n=i.call(this,t,r,a)||this;return n.type=o||"value",n}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Rt),Ah=yg;var yn=Math.PI,Ih=j(),xg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,a){if(this.model=t,this.api=a,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,a),n=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,t);t.formatTooltip=function(u){var p=l.scale.getLabel({value:u});return he("nameValue",{noName:!0,value:p})},b(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,n,l,t)},this),this._renderAxisLabel(o,s,l,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var a=t.get(["label","position"]),o=t.get("orient"),n=Sg(t,r),s;a==null||a==="auto"?s=o==="horizontal"?n.y+n.height/2<r.getHeight()/2?"-":"+":n.x+n.width/2<r.getWidth()/2?"+":"-":V(a)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][a]:s=a;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},p={horizontal:0,vertical:yn/2},f=o==="vertical"?n.height:n.width,h=t.getModel("controlStyle"),c=h.get("show",!0),v=c?h.get("itemSize"):0,d=c?h.get("itemGap"):0,m=v+d,g=t.get(["label","rotate"])||0;g=g*yn/180;var x,y,S,_=h.get("position",!0),T=c&&h.get("showPlayBtn",!0),w=c&&h.get("showPrevBtn",!0),M=c&&h.get("showNextBtn",!0),C=0,I=f;_==="left"||_==="bottom"?(T&&(x=[0,0],C+=m),w&&(y=[C,0],C+=m),M&&(S=[I-v,0],I-=m)):(T&&(x=[I-v,0],I-=m),w&&(y=[0,0],C+=m),M&&(S=[I-v,0],I-=m));var L=[C,I];return t.get("inverse")&&L.reverse(),{viewRect:n,mainLength:f,orient:o,rotation:p[o],labelRotation:g,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[o],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[o],playPosition:x,prevBtnPosition:y,nextBtnPosition:S,axisExtent:L,controlSize:v,controlGap:d}},e.prototype._position=function(t,r){var a=this._mainGroup,o=this._labelGroup,n=t.viewRect;if(t.orient==="vertical"){var s=He(),l=n.x,u=n.y+n.height;Ae(s,s,[-l,-u]),Ge(s,s,-yn/2),Ae(s,s,[l,u]),n=n.clone(),n.applyTransform(s)}var p=x(n),f=x(a.getBoundingRect()),h=x(o.getBoundingRect()),c=[a.x,a.y],v=[o.x,o.y];v[0]=c[0]=p[0][0];var d=t.labelPosOpt;if(d==null||V(d)){var m=d==="+"?0:1;y(c,f,p,1,m),y(v,h,p,1,1-m)}else{var m=d>=0?0:1;y(c,f,p,1,m),v[1]=c[1]+d}a.setPosition(c),o.setPosition(v),a.rotation=o.rotation=t.rotation,g(a),g(o);function g(S){S.originX=p[0][0]-S.x,S.originY=p[1][0]-S.y}function x(S){return[[S.x,S.x+S.width],[S.y,S.y+S.height]]}function y(S,_,T,w,M){S[w]+=T[w][M]-_[w][M]}},e.prototype._createAxis=function(t,r){var a=r.getData(),o=r.get("axisType"),n=_g(r,o);n.getTicks=function(){return a.mapArray(["value"],function(u){return{value:u}})};var s=a.getDataExtent("value");n.setExtent(s[0],s[1]),n.calcNiceTicks();var l=new Ah("value",n,t.axisExtent,o);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new at;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,a,o){var n=a.getExtent();if(o.get(["lineStyle","show"])){var s=new Xt({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:N({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new Xt({shape:{x1:n[0],x2:this._currentPointer?this._currentPointer.x:n[0],y1:0,y2:0},style:Z({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,a,o){var n=this,s=o.getData(),l=a.scale.getTicks();this._tickSymbols=[],b(l,function(u){var p=a.dataToCoord(u.value),f=s.getItemModel(u.value),h=f.getModel("itemStyle"),c=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),d={x:p,y:0,onclick:R(n._changeTimeline,n,u.value)},m=Dh(f,h,r,d);m.ensureState("emphasis").style=c.getItemStyle(),m.ensureState("progress").style=v.getItemStyle(),Jt(m);var g=X(m);f.get("tooltip")?(g.dataIndex=u.value,g.dataModel=o):g.dataIndex=g.dataModel=null,n._tickSymbols.push(m)})},e.prototype._renderAxisLabel=function(t,r,a,o){var n=this,s=a.getLabelModel();if(s.get("show")){var l=o.getData(),u=a.getViewLabels();this._tickLabels=[],b(u,function(p){var f=p.tickValue,h=l.getItemModel(f),c=h.getModel("label"),v=h.getModel(["emphasis","label"]),d=h.getModel(["progress","label"]),m=a.dataToCoord(p.tickValue),g=new Y({x:m,y:0,rotation:t.labelRotation-t.rotation,onclick:R(n._changeTimeline,n,f),silent:!1,style:ot(c,{text:p.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});g.ensureState("emphasis").style=ot(v),g.ensureState("progress").style=ot(d),r.add(g),Jt(g),Ih(g).dataIndex=f,n._tickLabels.push(g)})}},e.prototype._renderControl=function(t,r,a,o){var n=t.controlSize,s=t.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),p=o.getPlayState(),f=o.get("inverse",!0);h(t.nextBtnPosition,"next",R(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",R(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,p?"stop":"play",R(this._handlePlayClick,this,!p),!0);function h(c,v,d,m){if(c){var g=Sr(pt(o.get(["controlStyle",v+"BtnSize"]),n),n),x=[0,-g/2,g,g],y=bg(o,v+"Icon",x,{x:c[0],y:c[1],originX:n/2,originY:0,rotation:m?-s:0,rectHover:!0,style:l,onclick:d});y.ensureState("emphasis").style=u,r.add(y),Jt(y)}}},e.prototype._renderCurrentPointer=function(t,r,a,o){var n=o.getData(),s=o.getCurrentIndex(),l=n.getItemModel(s).getModel("checkpointStyle"),u=this,p={onCreate:function(f){f.draggable=!0,f.drift=R(u._handlePointerDrag,u),f.ondragend=R(u._handlePointerDragend,u),Lh(f,u._progressLine,s,a,o,!0)},onUpdate:function(f){Lh(f,u._progressLine,s,a,o)}};this._currentPointer=Dh(l,l,this._mainGroup,{},this._currentPointer,p)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var a=this._toAxisCoord(t)[0],o=this._axis,n=St(o.getExtent().slice());a>n[1]&&(a=n[1]),a<n[0]&&(a=n[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=a,s.dirty());var l=this._findNearestTick(a),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return Mt(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),a=1/0,o,n=this._axis;return r.each(["value"],function(s,l){var u=n.dataToCoord(s),p=Math.abs(u-t);p<a&&(a=p,o=l)}),o},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,a=this._tickLabels;if(r)for(var o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",o<t);if(a)for(var o=0;o<a.length;o++)a&&a[o]&&a[o].toggleState("progress",Ih(a[o]).dataIndex<=t)},e.type="timeline.slider",e}(Mh);function _g(i,e){if(e=e||i.get("type"),e)switch(e){case"category":return new Fl({ordinalMeta:i.getCategories(),extent:[1/0,-1/0]});case"time":return new Zl({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new Wl}}function Sg(i,e){return mt(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},i.get("padding"))}function bg(i,e,t,r){var a=r.style,o=pe(i.get(["controlStyle",e]),r||{},new _t(t[0],t[1],t[2],t[3]));return a&&o.setStyle(a),o}function Dh(i,e,t,r,a,o){var n=e.get("color");if(a)a.setColor(n),t.add(a),o&&o.onUpdate(a);else{var s=i.get("symbol");a=kt(s,-1,-1,2,2,n),a.setStyle("strokeNoScale",!0),t.add(a),o&&o.onCreate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l),r=q({rectHover:!0,z2:100},r,!0);var u=El(i.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var p=Ol(i.get("symbolOffset"),u);p&&(r.x=(r.x||0)+p[0],r.y=(r.y||0)+p[1]);var f=i.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,a.attr(r),a.updateTransform(),a}function Lh(i,e,t,r,a,o){if(!i.dragging){var n=a.getModel("checkpointStyle"),s=r.dataToCoord(a.getData().get("value",t));if(o||!n.get("animation",!0))i.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:n.get("animationDuration",!0),easing:n.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var Ph=xg;function zh(i){i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var a=t.getComponent("timeline");return a&&e.currentIndex!=null&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),Z({currentIndex:a.option.currentIndex},e)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function xn(i){var e=i&&i.timeline;P(e)||(e=e?[e]:[]),b(e,function(t){t&&Tg(t)})}function Tg(i){var e=i.type,t={number:"value",time:"time"};if(t[e]&&(i.axisType=t[e],delete i.type),kh(i),Ve(i,"controlPosition")){var r=i.controlStyle||(i.controlStyle={});Ve(r,"position")||(r.position=i.controlPosition),r.position==="none"&&!Ve(r,"show")&&(r.show=!1,delete r.position),delete i.controlPosition}b(i.data||[],function(a){it(a)&&!P(a)&&(!Ve(a,"value")&&Ve(a,"name")&&(a.value=a.name),kh(a))})}function kh(i){var e=i.itemStyle||(i.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=i.label||i.label||{},a=r.normal||(r.normal={}),o={normal:1,emphasis:1};b(r,function(n,s){!o[s]&&!Ve(a,s)&&(a[s]=n)}),t.label&&!Ve(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function Ve(i,e){return i.hasOwnProperty(e)}function _n(i){i.registerComponentModel(Ch),i.registerComponentView(Ph),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),zh(i),i.registerPreprocessor(xn)}function Ue(i,e){if(!i)return!1;for(var t=P(i)?i:[i],r=0;r<t.length;r++)if(t[r]&&t[r][e])return!0;return!1}function la(i){Hs(i,"label",["show"])}var ua=j(),Rh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),this._mergeOption(t,a,!1,!0)},e.prototype.isAnimationEnabled=function(){if(lt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},e.prototype._mergeOption=function(t,r,a,o){var n=this.mainType;a||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=ua(s)[n];if(!l||!l.data){ua(s)[n]=null;return}u?u._mergeOption(l,r,!0):(o&&la(l),b(l.data,function(p){p instanceof Array?(la(p[0]),la(p[1])):la(p)}),u=this.createMarkerModelFromSeries(l,this,r),N(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),ua(s)[n]=u},this)},e.prototype.formatTooltip=function(t,r,a){var o=this.getData(),n=this.getRawValue(t),s=o.getName(t);return he("section",{header:this.name,blocks:[he("nameValue",{name:s,value:n,noName:!s,noValue:n==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,r){var a=Cr.prototype.getDataParams.call(this,t,r),o=this.__hostSeries;return o&&(a.seriesId=o.id,a.seriesName=o.name,a.seriesType=o.subType),a},e.getMarkerModelFromSeries=function(t,r){return ua(t)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Q);ie(Rh,Cr.prototype);var Tt=Rh;var wg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(Tt),Eh=wg;function bn(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function Cg(i){return!isNaN(parseFloat(i.x))&&!isNaN(parseFloat(i.y))}function pa(i,e,t,r,a,o){var n=[],s=Mi(e,r),l=s?e.getCalculationInfo("stackResultDimension"):r,u=ha(e,l,i),p=e.indicesOfNearest(l,u)[0];n[a]=e.get(t,p),n[o]=e.get(l,p);var f=e.get(r,p),h=Vs(e.get(r,p));return h=Math.min(h,20),h>=0&&(n[o]=+n[o].toFixed(h)),[n,f]}var Sn={min:H(pa,"min"),max:H(pa,"max"),average:H(pa,"average"),median:H(pa,"median")};function xe(i,e){if(e){var t=i.getData(),r=i.coordinateSystem,a=r&&r.dimensions;if(!Cg(e)&&!P(e.coord)&&P(a)){var o=Tn(e,t,r,i);if(e=B(e),e.type&&Sn[e.type]&&o.baseAxis&&o.valueAxis){var n=rt(a,o.baseAxis.dim),s=rt(a,o.valueAxis.dim),l=Sn[e.type](t,o.baseDataDim,o.valueDataDim,n,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!P(a))e.coord=[];else for(var u=e.coord,p=0;p<2;p++)Sn[u[p]]&&(u[p]=ha(t,t.mapDimension(a[p]),u[p]));return e}}function Tn(i,e,t,r){var a={};return i.valueIndex!=null||i.valueDim!=null?(a.valueDataDim=i.valueIndex!=null?e.getDimension(i.valueIndex):i.valueDim,a.valueAxis=t.getAxis(Mg(r,a.valueDataDim)),a.baseAxis=t.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=r.getBaseAxis(),a.valueAxis=t.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function Mg(i,e){var t=i.getData().getDimensionInfo(e);return t&&t.coordDim}function _e(i,e){return i&&i.containData&&e.coord&&!bn(e)?i.containData(e.coord):!0}function Oh(i,e,t){return i&&i.containZone&&e.coord&&t.coord&&!bn(e)&&!bn(t)?i.containZone(e.coord,t.coord):!0}function fa(i,e){return i?function(t,r,a,o){var n=o<2?t.coord&&t.coord[o]:t.value;return $e(n,e[o])}:function(t,r,a,o){return $e(t.value,e[o])}}function ha(i,e,t){if(t==="average"){var r=0,a=0;return i.each(e,function(o,n){isNaN(o)||(r+=o,a++)}),r/a}else return t==="median"?i.getMedian(e):i.getDataExtent(e)[t==="max"?1:0]}var Cn=j(),Ag=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=$()},e.prototype.render=function(t,r,a){var o=this,n=this.markerGroupMap;n.each(function(s){Cn(s).keep=!1}),r.eachSeries(function(s){var l=Tt.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,r,a)}),n.each(function(s){!Cn(s).keep&&o.group.remove(s.group)})},e.prototype.markKeep=function(t){Cn(t).keep=!0},e.prototype.toggleBlurSeries=function(t,r){var a=this;b(t,function(o){var n=Tt.getMarkerModelFromSeries(o,a.type);if(n){var s=n.getData();s.eachItemGraphicEl(function(l){l&&(r?il(l):al(l))})}})},e.type="marker",e}(J),sr=Ag;function Vh(i,e,t){var r=e.coordinateSystem;i.each(function(a){var o=i.getItemModel(a),n,s=K(o.get("x"),t.getWidth()),l=K(o.get("y"),t.getHeight());if(!isNaN(s)&&!isNaN(l))n=[s,l];else if(e.getMarkerPosition)n=e.getMarkerPosition(i.getValues(i.dimensions,a));else if(r){var u=i.get(r.dimensions[0],a),p=i.get(r.dimensions[1],a);n=r.dataToPoint([u,p])}isNaN(s)||(n[0]=s),isNaN(l)||(n[1]=l),i.setItemLayout(a,n)})}var Ig=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(o){var n=Tt.getMarkerModelFromSeries(o,"markPoint");n&&(Vh(n.getData(),o,a),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,r,a,o){var n=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,p=u.get(s)||u.set(s,new tu),f=Dg(n,t,r);r.setData(f),Vh(r.getData(),t,o),f.each(function(h){var c=f.getItemModel(h),v=c.getShallow("symbol"),d=c.getShallow("symbolSize"),m=c.getShallow("symbolRotate"),g=c.getShallow("symbolOffset"),x=c.getShallow("symbolKeepAspect");if(G(v)||G(d)||G(m)||G(g)){var y=r.getRawValue(h),S=r.getDataParams(h);G(v)&&(v=v(y,S)),G(d)&&(d=d(y,S)),G(m)&&(m=m(y,S)),G(g)&&(g=g(y,S))}var _=c.getModel("itemStyle").getItemStyle(),T=ce(l,"color");_.fill||(_.fill=T),f.setItemVisual(h,{symbol:v,symbolSize:d,symbolRotate:m,symbolOffset:g,symbolKeepAspect:x,style:_})}),p.updateData(f),this.group.add(p.group),f.eachItemGraphicEl(function(h){h.traverse(function(c){X(c).dataModel=r})}),this.markKeep(p),p.group.silent=r.get("silent")||t.get("silent")},e.type="markPoint",e}(sr);function Dg(i,e,t){var r;i?r=z(i&&i.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return N(N({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Bt(r,t),o=z(t.get("data"),H(xe,e));i&&(o=ut(o,H(_e,i)));var n=fa(!!i,r);return a.initData(o,null,n),a}var Uh=Ig;function Mn(i){i.registerComponentModel(Eh),i.registerComponentView(Uh),i.registerPreprocessor(function(e){Ue(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var Lg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(Tt),Nh=Lg;var ca=j(),Pg=function(i,e,t,r){var a=i.getData(),o;if(P(r))o=r;else{var n=r.type;if(n==="min"||n==="max"||n==="average"||n==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=Dt(r.yAxis,r.xAxis);else{var u=Tn(r,a,e,i);s=u.valueAxis;var p=Gl(a,u.valueDataDim);l=ha(a,p,n)}var f=s.dim==="x"?0:1,h=1-f,c=B(r),v={coord:[]};c.type=null,c.coord=[],c.coord[h]=-1/0,v.coord[h]=1/0;var d=t.get("precision");d>=0&&ae(l)&&(l=+l.toFixed(Math.min(d,20))),c.coord[f]=v.coord[f]=l,o=[c,v,{type:n,valueIndex:r.valueIndex,value:l}]}else o=[]}var m=[xe(i,o[0]),xe(i,o[1]),N({},o[2])];return m[2].type=m[2].type||null,q(m[2],m[0]),q(m[2],m[1]),m};function va(i){return!isNaN(i)&&!isFinite(i)}function Bh(i,e,t,r){var a=1-i,o=r.dimensions[i];return va(e[a])&&va(t[a])&&e[i]===t[i]&&r.getAxis(o).containData(e[i])}function zg(i,e){if(i.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(Bh(1,t,r,i)||Bh(0,t,r,i)))return!0}return _e(i,e[0])&&_e(i,e[1])}function An(i,e,t,r,a){var o=r.coordinateSystem,n=i.getItemModel(e),s,l=K(n.get("x"),a.getWidth()),u=K(n.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(i.getValues(i.dimensions,e));else{var p=o.dimensions,f=i.get(p[0],e),h=i.get(p[1],e);s=o.dataToPoint([f,h])}if(Dr(o,"cartesian2d")){var c=o.getAxis("x"),v=o.getAxis("y"),p=o.dimensions;va(i.get(p[0],e))?s[0]=c.toGlobalCoord(c.getExtent()[t?0:1]):va(i.get(p[1],e))&&(s[1]=v.toGlobalCoord(v.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}i.setItemLayout(e,s)}var kg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(o){var n=Tt.getMarkerModelFromSeries(o,"markLine");if(n){var s=n.getData(),l=ca(n).from,u=ca(n).to;l.each(function(p){An(l,p,!0,o,a),An(u,p,!1,o,a)}),s.each(function(p){s.setItemLayout(p,[l.getItemLayout(p),u.getItemLayout(p)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,a,o){var n=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,p=u.get(s)||u.set(s,new mu);this.group.add(p.group);var f=Rg(n,t,r),h=f.from,c=f.to,v=f.line;ca(r).from=h,ca(r).to=c,r.setData(v);var d=r.get("symbol"),m=r.get("symbolSize"),g=r.get("symbolRotate"),x=r.get("symbolOffset");P(d)||(d=[d,d]),P(m)||(m=[m,m]),P(g)||(g=[g,g]),P(x)||(x=[x,x]),f.from.each(function(S){y(h,S,!0),y(c,S,!1)}),v.each(function(S){var _=v.getItemModel(S).getModel("lineStyle").getLineStyle();v.setItemLayout(S,[h.getItemLayout(S),c.getItemLayout(S)]),_.stroke==null&&(_.stroke=h.getItemVisual(S,"style").fill),v.setItemVisual(S,{fromSymbolKeepAspect:h.getItemVisual(S,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(S,"symbolOffset"),fromSymbolRotate:h.getItemVisual(S,"symbolRotate"),fromSymbolSize:h.getItemVisual(S,"symbolSize"),fromSymbol:h.getItemVisual(S,"symbol"),toSymbolKeepAspect:c.getItemVisual(S,"symbolKeepAspect"),toSymbolOffset:c.getItemVisual(S,"symbolOffset"),toSymbolRotate:c.getItemVisual(S,"symbolRotate"),toSymbolSize:c.getItemVisual(S,"symbolSize"),toSymbol:c.getItemVisual(S,"symbol"),style:_})}),p.updateData(v),f.line.eachItemGraphicEl(function(S){X(S).dataModel=r,S.traverse(function(_){X(_).dataModel=r})});function y(S,_,T){var w=S.getItemModel(_);An(S,_,T,t,o);var M=w.getModel("itemStyle").getItemStyle();M.fill==null&&(M.fill=ce(l,"color")),S.setItemVisual(_,{symbolKeepAspect:w.get("symbolKeepAspect"),symbolOffset:pt(w.get("symbolOffset",!0),x[T?0:1]),symbolRotate:pt(w.get("symbolRotate",!0),g[T?0:1]),symbolSize:pt(w.get("symbolSize"),m[T?0:1]),symbol:pt(w.get("symbol",!0),d[T?0:1]),style:M})}this.markKeep(p),p.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e}(sr);function Rg(i,e,t){var r;i?r=z(i&&i.dimensions,function(u){var p=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return N(N({},p),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Bt(r,t),o=new Bt(r,t),n=new Bt([],t),s=z(t.get("data"),H(Pg,e,i,t));i&&(s=ut(s,H(zg,i)));var l=fa(!!i,r);return a.initData(z(s,function(u){return u[0]}),null,l),o.initData(z(s,function(u){return u[1]}),null,l),n.initData(z(s,function(u){return u[2]})),n.hasItemOption=!0,{from:a,to:o,line:n}}var Hh=kg;function In(i){i.registerComponentModel(Nh),i.registerComponentView(Hh),i.registerPreprocessor(function(e){Ue(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var Eg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(Tt),Gh=Eg;var da=j(),Og=function(i,e,t,r){var a=r[0],o=r[1];if(!(!a||!o)){var n=xe(i,a),s=xe(i,o),l=n.coord,u=s.coord;l[0]=Dt(l[0],-1/0),l[1]=Dt(l[1],-1/0),u[0]=Dt(u[0],1/0),u[1]=Dt(u[1],1/0);var p=us([{},n,s]);return p.coord=[n.coord,s.coord],p.x0=n.x,p.y0=n.y,p.x1=s.x,p.y1=s.y,p}};function ma(i){return!isNaN(i)&&!isFinite(i)}function Fh(i,e,t,r){var a=1-i;return ma(e[a])&&ma(t[a])}function Vg(i,e){var t=e.coord[0],r=e.coord[1],a={coord:t,x:e.x0,y:e.y0},o={coord:r,x:e.x1,y:e.y1};return Dr(i,"cartesian2d")?t&&r&&(Fh(1,t,r,i)||Fh(0,t,r,i))?!0:Oh(i,a,o):_e(i,a)||_e(i,o)}function Wh(i,e,t,r,a){var o=r.coordinateSystem,n=i.getItemModel(e),s,l=K(n.get(t[0]),a.getWidth()),u=K(n.get(t[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var p=i.getValues(["x0","y0"],e),f=i.getValues(["x1","y1"],e),h=o.clampData(p),c=o.clampData(f),v=[];t[0]==="x0"?v[0]=h[0]>c[0]?f[0]:p[0]:v[0]=h[0]>c[0]?p[0]:f[0],t[1]==="y0"?v[1]=h[1]>c[1]?f[1]:p[1]:v[1]=h[1]>c[1]?p[1]:f[1],s=r.getMarkerPosition(v,t,!0)}else{var d=i.get(t[0],e),m=i.get(t[1],e),g=[d,m];o.clampData&&o.clampData(g,g),s=o.dataToPoint(g,!0)}if(Dr(o,"cartesian2d")){var x=o.getAxis("x"),y=o.getAxis("y"),d=i.get(t[0],e),m=i.get(t[1],e);ma(d)?s[0]=x.toGlobalCoord(x.getExtent()[t[0]==="x0"?0:1]):ma(m)&&(s[1]=y.toGlobalCoord(y.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var Zh=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Ug=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(o){var n=Tt.getMarkerModelFromSeries(o,"markArea");if(n){var s=n.getData();s.each(function(l){var u=z(Zh,function(f){return Wh(s,l,f,o,a)});s.setItemLayout(l,u);var p=s.getItemGraphicEl(l);p.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,a,o){var n=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,p=u.get(s)||u.set(s,{group:new at});this.group.add(p.group),this.markKeep(p);var f=Ng(n,t,r);r.setData(f),f.each(function(h){var c=z(Zh,function(M){return Wh(f,h,M,t,o)}),v=n.getAxis("x").scale,d=n.getAxis("y").scale,m=v.getExtent(),g=d.getExtent(),x=[v.parse(f.get("x0",h)),v.parse(f.get("x1",h))],y=[d.parse(f.get("y0",h)),d.parse(f.get("y1",h))];St(x),St(y);var S=!(m[0]>x[1]||m[1]<x[0]||g[0]>y[1]||g[1]<y[0]),_=!S;f.setItemLayout(h,{points:c,allClipped:_});var T=f.getItemModel(h).getModel("itemStyle").getItemStyle(),w=ce(l,"color");T.fill||(T.fill=w,V(T.fill)&&(T.fill=Va(T.fill,.4))),T.stroke||(T.stroke=w),f.setItemVisual(h,"style",T)}),f.diff(da(p).data).add(function(h){var c=f.getItemLayout(h);if(!c.allClipped){var v=new te({shape:{points:c.points}});f.setItemGraphicEl(h,v),p.group.add(v)}}).update(function(h,c){var v=da(p).data.getItemGraphicEl(c),d=f.getItemLayout(h);d.allClipped?v&&p.group.remove(v):(v?Ut(v,{shape:{points:d.points}},r,h):v=new te({shape:{points:d.points}}),f.setItemGraphicEl(h,v),p.group.add(v))}).remove(function(h){var c=da(p).data.getItemGraphicEl(h);p.group.remove(c)}).execute(),f.eachItemGraphicEl(function(h,c){var v=f.getItemModel(c),d=f.getItemVisual(c,"style");h.useStyle(f.getItemVisual(c,"style")),xi(h,ml(v),{labelFetcher:r,labelDataIndex:c,defaultText:f.getName(c)||"",inheritColor:V(d.fill)?Va(d.fill,1):"#000"}),nl(h,v),ol(h,null,null,v.get(["emphasis","disabled"])),X(h).dataModel=r}),da(p).data=f,p.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e}(sr);function Ng(i,e,t){var r,a,o=["x0","y0","x1","y1"];if(i){var n=z(i&&i.dimensions,function(u){var p=e.getData(),f=p.getDimensionInfo(p.mapDimension(u))||{};return N(N({},f),{name:u,ordinalMeta:null})});a=z(o,function(u,p){return{name:u,type:n[p%2].type}}),r=new Bt(a,t)}else a=[{name:"value",type:"float"}],r=new Bt(a,t);var s=z(t.get("data"),H(Og,e,i,t));i&&(s=ut(s,H(Vg,i)));var l=i?function(u,p,f,h){var c=u.coord[Math.floor(h/2)][h%2];return $e(c,a[h])}:function(u,p,f,h){return $e(u.value,a[h])};return r.initData(s,null,l),r.hasItemOption=!0,r}var Yh=Ug;function Dn(i){i.registerComponentModel(Gh),i.registerComponentView(Yh),i.registerPreprocessor(function(e){Ue(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var Bg=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},Hg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,a=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),P(r)&&b(r,function(o,n){V(o)&&(o={type:o}),r[n]=q(o,Bg(a,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<t.length;a++){var o=t[a].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],a=[];t.eachRawSeries(function(l){var u=l.name;a.push(u);var p;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(a=a.concat(h)),h.length?r=r.concat(h):p=!0}else p=!0;p&&Ws(l)&&r.push(l.name)}),this._availableNames=a;var o=this.get("data")||r,n=$(),s=z(o,function(l){return(V(l)||ae(l))&&(l={name:l}),n.get(l.name)?null:(n.set(l.name,!0),new At(l,this,this.ecModel))},this);this._data=ut(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var o=this._data;b(o,function(n){r[n.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;b(t,function(a){r[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;b(t,function(a){var o=a.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&rt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Q),Yr=Hg;var lr=H,Ln=b,ga=at,Gg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new ga),this.group.add(this._selectorGroup=new ga),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,a){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var n=t.get("align"),s=t.get("orient");(!n||n==="auto")&&(n=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(n,t,r,a,l,s,u);var p=t.getBoxLayoutParams(),f={width:a.getWidth(),height:a.getHeight()},h=t.get("padding"),c=mt(p,f,h),v=this.layoutInner(t,n,c,o,l,u),d=mt(Z({width:v.width,height:v.height},p),f,h);this.group.x=d.x-v.x,this.group.y=d.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ra(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,a,o,n,s,l){var u=this.getContentGroup(),p=$(),f=r.get("selectedMode"),h=[];a.eachRawSeries(function(c){!c.get("legendHoverLink")&&h.push(c.id)}),Ln(r.getData(),function(c,v){var d=c.get("name");if(!this.newlineDisabled&&(d===""||d===`
`)){var m=new ga;m.newline=!0,u.add(m);return}var g=a.getSeriesByName(d)[0];if(!p.get(d))if(g){var x=g.getData(),y=x.getVisual("legendLineStyle")||{},S=x.getVisual("legendIcon"),_=x.getVisual("style"),T=this._createItem(g,d,v,c,r,t,y,_,S,f,o);T.on("click",lr(Xh,d,null,o,h)).on("mouseover",lr(Pn,g.name,null,o,h)).on("mouseout",lr(zn,g.name,null,o,h)),a.ssr&&T.eachChild(function(w){var M=X(w);M.seriesIndex=g.seriesIndex,M.dataIndex=v,M.ssrType="legend"}),p.set(d,!0)}else a.eachRawSeries(function(w){if(!p.get(d)&&w.legendVisualProvider){var M=w.legendVisualProvider;if(!M.containName(d))return;var C=M.indexOfName(d),I=M.getItemVisual(C,"style"),L=M.getItemVisual(C,"legendIcon"),k=Ss(I.fill);k&&k[3]===0&&(k[3]=.2,I=N(N({},I),{fill:bs(k,"rgba")}));var D=this._createItem(w,d,v,c,r,t,{},I,L,f,o);D.on("click",lr(Xh,null,d,o,h)).on("mouseover",lr(Pn,null,d,o,h)).on("mouseout",lr(zn,null,d,o,h)),a.ssr&&D.eachChild(function(O){var F=X(O);F.seriesIndex=w.seriesIndex,F.dataIndex=v,F.ssrType="legend"}),p.set(d,!0)}},this)},this),n&&this._createSelector(n,r,o,s,l)},e.prototype._createSelector=function(t,r,a,o,n){var s=this.getSelectorGroup();Ln(t,function(u){var p=u.type,f=new Y({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:p==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(f);var h=r.getModel("selectorLabel"),c=r.getModel(["emphasis","selectorLabel"]);xi(f,{normal:h,emphasis:c},{defaultText:u.title}),Jt(f)})},e.prototype._createItem=function(t,r,a,o,n,s,l,u,p,f,h){var c=t.visualDrawType,v=n.get("itemWidth"),d=n.get("itemHeight"),m=n.isSelected(r),g=o.get("symbolRotate"),x=o.get("symbolKeepAspect"),y=o.get("icon");p=y||p||"roundRect";var S=Fg(p,o,l,u,c,m,h),_=new ga,T=o.getModel("textStyle");if(G(t.getLegendIcon)&&(!y||y==="inherit"))_.add(t.getLegendIcon({itemWidth:v,itemHeight:d,icon:p,iconRotate:g,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:x}));else{var w=y==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;_.add(Wg({itemWidth:v,itemHeight:d,icon:p,iconRotate:w,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:x}))}var M=s==="left"?v+5:-5,C=s,I=n.get("formatter"),L=r;V(I)&&I?L=I.replace("{name}",r??""):G(I)&&(L=I(r));var k=m?T.getTextColor():o.get("inactiveColor");_.add(new Y({style:ot(T,{text:L,x:M,y:d/2,fill:k,align:C,verticalAlign:"middle"},{inheritColor:k})}));var D=new ft({shape:_.getBoundingRect(),style:{fill:"transparent"}}),O=o.getModel("tooltip");return O.get("show")&&Ye({el:D,componentModel:n,itemName:r,itemTooltipOption:O.option}),_.add(D),_.eachChild(function(F){F.silent=!0}),D.silent=!f,this.getContentGroup().add(_),Jt(_),_.__legendDataIndex=a,_},e.prototype.layoutInner=function(t,r,a,o,n,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Nt(t.get("orient"),l,t.get("itemGap"),a.width,a.height);var p=l.getBoundingRect(),f=[-p.x,-p.y];if(u.markRedraw(),l.markRedraw(),n){Nt("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),c=[-h.x,-h.y],v=t.get("selectorButtonGap",!0),d=t.getOrient().index,m=d===0?"width":"height",g=d===0?"height":"width",x=d===0?"y":"x";s==="end"?c[d]+=p[m]+v:f[d]+=h[m]+v,c[1-d]+=p[g]/2-h[g]/2,u.x=c[0],u.y=c[1],l.x=f[0],l.y=f[1];var y={x:0,y:0};return y[m]=p[m]+v+h[m],y[g]=Math.max(p[g],h[g]),y[x]=Math.min(0,h[x]+c[1-d]),y}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(J);function Fg(i,e,t,r,a,o,n){function s(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),Ln(m,function(x,y){m[y]==="inherit"&&(m[y]=g[y])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),p=i.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:Hl(f,n),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[p]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:t).opacity),s(u,r);var h=e.getModel("lineStyle"),c=h.getLineStyle();if(s(c,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),c.stroke==="auto"&&(c.stroke=r.fill),!o){var v=e.get("inactiveBorderWidth"),d=u[p];u.lineWidth=v==="auto"?r.lineWidth>0&&d?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),c.stroke=h.get("inactiveColor"),c.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:c}}function Wg(i){var e=i.icon||"roundRect",t=kt(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Xh(i,e,t,r){zn(i,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:i??e}),Pn(i,e,t,r)}function Kh(i){for(var e=i.getZr().storage.getDisplayList(),t,r=0,a=e.length;r<a&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function Pn(i,e,t,r){Kh(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:r})}function zn(i,e,t,r){Kh(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:r})}var ya=Gg;function kn(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Xr(i,e,t){var r={},a=i==="toggleSelected",o;return t.eachComponent("legend",function(n){a&&o!=null?n[o?"select":"unSelect"](e.name):i==="allSelect"||i==="inverseSelect"?n[i]():(n[i](e.name),o=n.isSelected(e.name));var s=n.getData();b(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var p=n.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&p:r[u]=p}})}),i==="allSelect"||i==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function jh(i){i.registerAction("legendToggleSelect","legendselectchanged",H(Xr,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",H(Xr,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",H(Xr,"inverseSelect")),i.registerAction("legendSelect","legendselected",H(Xr,"select")),i.registerAction("legendUnSelect","legendunselected",H(Xr,"unSelect"))}function xa(i){i.registerComponentModel(Yr),i.registerComponentView(ya),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,kn),i.registerSubTypeDefaulter("legend",function(){return"plain"}),jh(i)}var Zg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,a){var o=qe(t);i.prototype.init.call(this,t,r,a),qh(this,t,o)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),qh(this,this.option,t)},e.type="legend.scroll",e.defaultOption=zt(Yr.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Yr);function qh(i,e,t){var r=i.getOrient(),a=[1,1];a[r.index]=0,je(e,t,{type:"box",ignoreSize:!!a})}var $h=Zg;var Qh=at,Rn=["width","height"],En=["x","y"],Yg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new Qh),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Qh)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,a,o,n,s,l){var u=this;i.prototype.renderInner.call(this,t,r,a,o,n,s,l);var p=this._controllerGroup,f=r.get("pageIconSize",!0),h=P(f)?f:[f,f];v("pagePrev",0);var c=r.getModel("pageTextStyle");p.add(new Y({name:"pageText",style:{text:"xx/xx",fill:c.getTextColor(),font:c.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(d,m){var g=d+"DataIndex",x=pe(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:R(u._pageGo,u,g,r,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});x.name=d,p.add(x)}},e.prototype.layoutInner=function(t,r,a,o,n,s){var l=this.getSelectorGroup(),u=t.getOrient().index,p=Rn[u],f=En[u],h=Rn[1-u],c=En[1-u];n&&Nt("horizontal",l,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),d=l.getBoundingRect(),m=[-d.x,-d.y],g=B(a);n&&(g[p]=a[p]-d[p]-v);var x=this._layoutContentAndController(t,o,g,u,p,h,c,f);if(n){if(s==="end")m[u]+=x[p]+v;else{var y=d[p]+v;m[u]-=y,x[f]-=y}x[p]+=d[p]+v,m[1-u]+=x[c]+x[h]/2-d[h]/2,x[h]=Math.max(x[h],d[h]),x[c]=Math.min(x[c],d[c]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return x},e.prototype._layoutContentAndController=function(t,r,a,o,n,s,l,u){var p=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;Nt(t.get("orient"),p,t.get("itemGap"),o?a.width:null,o?null:a.height),Nt("horizontal",h,t.get("pageButtonItemGap",!0));var c=p.getBoundingRect(),v=h.getBoundingRect(),d=this._showController=c[n]>a[n],m=[-c.x,-c.y];r||(m[o]=p[u]);var g=[0,0],x=[-v.x,-v.y],y=pt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(d){var S=t.get("pageButtonPosition",!0);S==="end"?x[o]+=a[n]-v[n]:g[o]+=v[n]+y}x[1-o]+=c[s]/2-v[s]/2,p.setPosition(m),f.setPosition(g),h.setPosition(x);var _={x:0,y:0};if(_[n]=d?a[n]:c[n],_[s]=Math.max(c[s],v[s]),_[l]=Math.min(0,v[l]+x[1-o]),f.__rectSize=a[n],d){var T={x:0,y:0};T[n]=Math.max(a[n]-v[n]-y,0),T[s]=_[s],f.setClipPath(new ft({shape:T})),f.__rectSize=T[n]}else h.eachChild(function(M){M.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(t);return w.pageIndex!=null&&Ut(p,{x:w.contentPosition[0],y:w.contentPosition[1]},d?t:null),this._updatePageInfoView(t,w),_},e.prototype._pageGo=function(t,r,a){var o=this._getPageInfo(r)[t];o!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var a=this._controllerGroup;b(["pagePrev","pageNext"],function(p){var f=p+"DataIndex",h=r[f]!=null,c=a.childOfName(p);c&&(c.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),c.cursor=h?"pointer":"default")});var o=a.childOfName("pageText"),n=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;o&&n&&o.setStyle("text",V(n)?n.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):n({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),a=this.getContentGroup(),o=this._containerGroup.__rectSize,n=t.getOrient().index,s=Rn[n],l=En[n],u=this._findTargetItemIndex(r),p=a.children(),f=p[u],h=p.length,c=h?1:0,v={contentPosition:[a.x,a.y],pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var d=S(f);v.contentPosition[n]=-d.s;for(var m=u+1,g=d,x=d,y=null;m<=h;++m)y=S(p[m]),(!y&&x.e>g.s+o||y&&!_(y,g.s))&&(x.i>g.i?g=x:g=y,g&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=g.i),++v.pageCount)),x=y;for(var m=u-1,g=d,x=d,y=null;m>=-1;--m)y=S(p[m]),(!y||!_(x,y.s))&&g.i<x.i&&(x=g,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=g.i),++v.pageCount,++v.pageIndex),g=y;return v;function S(T){if(T){var w=T.getBoundingRect(),M=w[l]+T[l];return{s:M,e:M+w[s],i:T.__legendDataIndex}}}function _(T,w){return T.e>=w&&T.s<=w+o}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,a=this.getContentGroup(),o;return a.eachChild(function(n,s){var l=n.__legendDataIndex;o==null&&l!=null&&(o=s),l===t&&(r=s)}),r??o},e.type="legend.scroll",e}(ya),Jh=Yg;function On(i){i.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(r)})})}function tc(i){E(xa),i.registerComponentModel($h),i.registerComponentView(Jh),On(i)}function Vn(i){E(xa),E(tc)}var Xg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=zt(me.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(me),ec=Xg;var Un=j();function rc(i,e,t){Un(i).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(e.uid);a&&(a.getRange=t)})}function ic(i,e){for(var t=Un(i).coordSysRecordMap,r=t.keys(),a=0;a<r.length;a++){var o=r[a],n=t.get(o),s=n.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||ac(t,n))}}}function ac(i,e){if(e){i.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function Kg(i,e){var t={model:e,containsPoint:H(qg,e),dispatchAction:H(jg,i),dataZoomInfoMap:null,controller:null},r=t.controller=new hu(i.getZr());return b(["pan","zoom","scrollMove"],function(a){r.on(a,function(o){var n=[];t.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,o);!s.model.get("disabled",!0)&&u&&n.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),n.length&&t.dispatchAction(n)})}),t}function jg(i,e){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function qg(i,e,t,r){return i.coordinateSystem.containPoint([t,r])}function $g(i){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return i.each(function(o){var n=o.model,s=n.get("disabled",!0)?!1:n.get("zoomLock",!0)?"move":!0;r[t+s]>r[t+e]&&(e=s),a=a&&n.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function oc(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=Un(t),a=r.coordSysRecordMap||(r.coordSysRecordMap=$());a.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var n=ta(o);b(n.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,Kg(t,s.model)),p=u.dataZoomInfoMap||(u.dataZoomInfoMap=$());p.set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),a.each(function(o){var n=o.controller,s,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){ac(a,o);return}var p=$g(l);n.enable(p.controlType,p.opt),n.setPointerChecker(o.containsPoint),Kt(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var Jg=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,a){if(i.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),rc(a,t,{pan:R(Nn.pan,this),zoom:R(Nn.zoom,this),scrollMove:R(Nn.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){ic(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(ar),Nn={zoom:function(i,e,t,r){var a=this.range,o=a.slice(),n=i.axisModels[0];if(n){var s=Bn[e](null,[r.originX,r.originY],n,t,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/r.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var p=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Gt(0,o,[0,100],0,p.minSpan,p.maxSpan),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}},pan:nc(function(i,e,t,r,a,o){var n=Bn[r]([o.oldX,o.oldY],[o.newX,o.newY],e,a,t);return n.signal*(i[1]-i[0])*n.pixel/n.pixelLength}),scrollMove:nc(function(i,e,t,r,a,o){var n=Bn[r]([0,0],[o.scrollDelta,o.scrollDelta],e,a,t);return n.signal*(i[1]-i[0])*o.scrollDelta})};function nc(i){return function(e,t,r,a){var o=this.range,n=o.slice(),s=e.axisModels[0];if(s){var l=i(n,s,e,t,r,a);if(Gt(l,n,[0,100],"all"),this.range=n,o[0]!==n[0]||o[1]!==n[1])return n}}}var Bn={grid:function(i,e,t,r,a){var o=t.axis,n={},s=a.model.coordinateSystem.getRect();return i=i||[0,0],o.dim==="x"?(n.pixel=e[0]-i[0],n.pixelLength=s.width,n.pixelStart=s.x,n.signal=o.inverse?1:-1):(n.pixel=e[1]-i[1],n.pixelLength=s.height,n.pixelStart=s.y,n.signal=o.inverse?-1:1),n},polar:function(i,e,t,r,a){var o=t.axis,n={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(n.pixel=e[0]-i[0],n.pixelLength=l[1]-l[0],n.pixelStart=l[0],n.signal=o.inverse?1:-1):(n.pixel=e[1]-i[1],n.pixelLength=u[1]-u[0],n.pixelStart=u[0],n.signal=o.inverse?-1:1),n},singleAxis:function(i,e,t,r,a){var o=t.axis,n=a.model.coordinateSystem.getRect(),s={};return i=i||[0,0],o.orient==="horizontal"?(s.pixel=e[0]-i[0],s.pixelLength=n.width,s.pixelStart=n.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-i[1],s.pixelLength=n.height,s.pixelStart=n.y,s.signal=o.inverse?-1:1),s}},sc=Jg;function Kr(i){Oe(i),i.registerComponentModel(ec),i.registerComponentView(sc),oc(i)}var ty=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=zt(me.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(me),lc=ty;var jr=ft,uc=7,ey=1,Hn=30,ry=7,qr="horizontal",pc="vertical",iy=5,ay=["line","bar","candlestick","scatter"],oy={easing:"cubicOut",duration:100,delay:0},ny=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=R(this._onBrush,this),this._onBrushEnd=R(this._onBrushEnd,this)},e.prototype.render=function(t,r,a,o){if(i.prototype.render.apply(this,arguments),Kt(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Le(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new at;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,a=t.get("brushSelect"),o=a?ry:0,n=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===qr?{right:s.width-n.x-n.width,top:s.height-Hn-uc-o,width:n.width,height:Hn}:{right:uc,top:n.y,width:Hn,height:n.height},u=qe(t.option);b(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var p=mt(u,s);this._location={x:p.x,y:p.y},this._size=[p.width,p.height],this._orient===pc&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,a=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),n=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===qr&&!n?{scaleY:l?1:-1,scaleX:1}:a===qr&&n?{scaleY:l?1:-1,scaleX:-1}:a===pc&&!n?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,o=t.get("brushSelect");a.add(new jr({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var n=new jr({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:R(this._onClickPanel,this)}),s=this.api.getZr();o?(n.on("mousedown",this._onBrushStart,this),n.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(n)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,a=this._shadowSize||[],o=t.series,n=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&n.getDimensionInfo(s)?o.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,p=this._shadowPolylinePts;if(n!==this._shadowData||l!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var f=n.getDataExtent(l),h=(f[1]-f[0])*.3;f=[f[0]-h,f[1]+h];var c=[0,r[1]],v=[0,r[0]],d=[[r[0],0],[0,0]],m=[],g=v[1]/(n.count()-1),x=0,y=Math.round(n.count()/r[0]),S;n.each([l],function(C,I){if(y>0&&I%y){x+=g;return}var L=C==null||isNaN(C)||C==="",k=L?0:vt(C,f,c,!0);L&&!S&&I?(d.push([d[d.length-1][0],0]),m.push([m[m.length-1][0],0])):!L&&S&&(d.push([x,0]),m.push([x,0])),d.push([x,k]),m.push([x,k]),x+=g,S=L}),u=this._shadowPolygonPts=d,p=this._shadowPolylinePts=m}this._shadowData=n,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var _=this.dataZoomModel;function T(C){var I=_.getModel(C?"selectedDataBackground":"dataBackground"),L=new at,k=new te({shape:{points:u},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),D=new mi({shape:{points:p},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return L.add(k),L.add(D),L}for(var w=0;w<3;w++){var M=T(w===1);this._displayables.sliderGroup.add(M),this._displayables.dataShadowSegs.push(M)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var a,o=this.ecModel;return t.eachTargetAxis(function(n,s){var l=t.getAxisProxy(n,s).getTargetSeriesModels();b(l,function(u){if(!a&&!(r!==!0&&rt(ay,u.get("type"))<0)){var p=o.getComponent(Vt(n),s).axis,f=sy(n),h,c=u.coordinateSystem;f!=null&&c.getOtherAxis&&(h=c.getOtherAxis(p).inverse),f=u.getData().mapDimension(f),a={thisAxis:p,series:u,thisDim:n,otherDim:f,otherAxisInverse:h}}},this)},this),a}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,a=r.handles=[null,null],o=r.handleLabels=[null,null],n=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,p=l.get("borderRadius")||0,f=l.get("brushSelect"),h=r.filler=new jr({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});n.add(h),n.add(new jr({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:p},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:ey,fill:"rgba(0,0,0,0)"}})),b([0,1],function(y){var S=l.get("handleIcon");!Rl[S]&&S.indexOf("path://")<0&&S.indexOf("image://")<0&&(S="path://"+S);var _=kt(S,-1,0,2,2,null,!0);_.attr({cursor:fc(this._orient),draggable:!0,drift:R(this._onDragMove,this,y),ondragend:R(this._onDragEnd,this),onmouseover:R(this._showDataInfo,this,!0),onmouseout:R(this._showDataInfo,this,!1),z2:5});var T=_.getBoundingRect(),w=l.get("handleSize");this._handleHeight=K(w,this._size[1]),this._handleWidth=T.width/T.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Jt(_);var M=l.get("handleColor");M!=null&&(_.style.fill=M),n.add(a[y]=_);var C=l.getModel("textStyle");t.add(o[y]=new Y({silent:!0,invisible:!0,style:ot(C,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:C.getTextColor(),font:C.getFont()}),z2:10}))},this);var c=h;if(f){var v=K(l.get("moveHandleSize"),s[1]),d=r.moveHandle=new ft({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),m=v*.8,g=r.moveHandleIcon=kt(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);g.silent=!0,g.y=s[1]+v/2-.5,d.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var x=Math.min(s[1]/2,Math.max(v,10));c=r.moveZone=new ft({invisible:!0,shape:{y:s[1]-x,height:v+x}}),c.on("mouseover",function(){u.enterEmphasis(d)}).on("mouseout",function(){u.leaveEmphasis(d)}),n.add(d),n.add(g),n.add(c)}c.attr({draggable:!0,cursor:fc(this._orient),drift:R(this._onDragMove,this,"all"),ondragstart:R(this._showDataInfo,this,!0),ondragend:R(this._onDragEnd,this),onmouseover:R(this._showDataInfo,this,!0),onmouseout:R(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[vt(t[0],[0,100],r,!0),vt(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var a=this.dataZoomModel,o=this._handleEnds,n=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Gt(r,o,n,a.get("zoomLock")?"all":t,s.minSpan!=null?vt(s.minSpan,l,n,!0):null,s.maxSpan!=null?vt(s.maxSpan,l,n,!0):null);var u=this._range,p=this._range=St([vt(o[0],n,l,!0),vt(o[1],n,l,!0)]);return!u||u[0]!==p[0]||u[1]!==p[1]},e.prototype._updateView=function(t){var r=this._displayables,a=this._handleEnds,o=St(a.slice()),n=this._size;b([0,1],function(c){var v=r.handles[c],d=this._handleHeight;v.attr({scaleX:d/2,scaleY:d/2,x:a[c]+(c?-1:1),y:n[1]/2-d/2})},this),r.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:n[1]});var s={x:o[0],width:o[1]-o[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,o[0],o[1],n[0]],p=0;p<l.length;p++){var f=l[p],h=f.getClipPath();h||(h=new ft,f.setClipPath(h)),h.setShape({x:u[p],y:0,width:u[p+1]-u[p],height:n[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,a=this._displayables,o=a.handleLabels,n=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,p=this._range,f=t?l.calculateDataWindow({start:p[0],end:p[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=St(this._handleEnds.slice());c.call(this,0),c.call(this,1);function c(v){var d=ue(a.handles[v].parent,this.group),m=gi(v===0?"right":"left",d),g=this._handleWidth/2+iy,x=Mt([h[v]+(v===0?-g:g),this._size[1]/2],d);o[v].setStyle({x:x[0],y:x[1],verticalAlign:n===qr?"middle":m,align:n===qr?m:"center",text:s[v]})}},e.prototype._formatLabel=function(t,r){var a=this.dataZoomModel,o=a.get("labelFormatter"),n=a.get("labelPrecision");(n==null||n==="auto")&&(n=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(n,20));return G(o)?o(t,s):V(o)?o.replace("{value}",s):s},e.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,a=r.handleLabels;a[0].attr("invisible",!t),a[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,r,a,o){this._dragging=!0,Qt(o.event);var n=this._displayables.sliderGroup.getLocalTransform(),s=Mt([r,a],n,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var o=this._handleEnds,n=(o[0]+o[1])/2,s=this._updateInterval("all",a[0]-n);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,a=t.offsetY;this._brushStart=new Wt(r,a),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(a.width)<5)){var n=this._getViewExtent(),s=[0,100];this._range=St([vt(a.x,n,s,!0),vt(a.x+a.width,n,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Qt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var a=this._displayables,o=this.dataZoomModel,n=a.brushRect;n||(n=a.brushRect=new jr({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(n)),n.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),p=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),n.setShape({x:p[0],y:0,width:u[0]-p[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?oy:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=ta(this.dataZoomModel).infoList;if(!t&&r.length){var a=r[0].model.coordinateSystem;t=a.getRect&&a.getRect()}if(!t){var o=this.api.getWidth(),n=this.api.getHeight();t={x:o*.2,y:n*.2,width:o*.6,height:n*.6}}return t},e.type="dataZoom.slider",e}(ar);function sy(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function fc(i){return i==="vertical"?"ns-resize":"ew-resize"}var hc=ny;function $r(i){i.registerComponentModel(lc),i.registerComponentView(hc),Oe(i)}function Gn(i){E(Kr),E($r)}var ly={get:function(i,e,t){var r=B((uy[i]||{})[e]);return t&&P(r)?r[r.length-1]:r}},uy={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},_a=ly;var cc=dt.mapVisual,py=dt.eachVisual,fy=P,vc=b,hy=St,cy=vt,vy=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a)},e.prototype.optionUpdated=function(t,r){var a=this.option;!r&&na(a,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=R(t,this),this.controllerVisuals=Wr(this.option.controller,r,t),this.targetVisuals=Wr(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(a,o){r.push(o)}):r=Lt(t),r},e.prototype.eachTargetSeries=function(t,r){b(this.getTargetSeriesIndices(),function(a){var o=this.ecModel.getSeriesByIndex(a);o&&t.call(r,o)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(a){a===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,a){var o=this.option,n=o.precision,s=this.dataBound,l=o.formatter,u;a=a||["<",">"],P(t)&&(t=t.slice(),u=!0);var p=r?t:u?[f(t[0]),f(t[1])]:f(t);if(V(l))return l.replace("{value}",u?p[0]:p).replace("{value2}",u?p[1]:p);if(G(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?a[0]+" "+p[1]:t[1]===s[1]?a[1]+" "+p[0]:p[0]+" - "+p[1];return p;function f(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(n,20))}},e.prototype.resetExtent=function(){var t=this.option,r=hy([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var a=t.dimensions,o=a.length-1;o>=0;o--){var n=a[o],s=t.getDimensionInfo(n);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,a={inRange:r.inRange,outOfRange:r.outOfRange},o=r.target||(r.target={}),n=r.controller||(r.controller={});q(o,a),q(n,a);var s=this.isCategory();l.call(this,o),l.call(this,n),u.call(this,o,"inRange","outOfRange"),p.call(this,n);function l(f){fy(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,h,c){var v=f[h],d=f[c];v&&!d&&(d=f[c]={},vc(v,function(m,g){if(dt.isValidType(g)){var x=_a.get(g,"inactive",s);x!=null&&(d[g]=x,g==="color"&&!d.hasOwnProperty("opacity")&&!d.hasOwnProperty("colorAlpha")&&(d.opacity=[0,0]))}}))}function p(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,c=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),d=this.getItemSymbol(),m=d||"roundRect";vc(this.stateList,function(g){var x=this.itemSize,y=f[g];y||(y=f[g]={color:s?v:[v]}),y.symbol==null&&(y.symbol=h&&B(h)||(s?m:[m])),y.symbolSize==null&&(y.symbolSize=c&&B(c)||(s?x[0]:[x[0],x[0]])),y.symbol=cc(y.symbol,function(T){return T==="none"?m:T});var S=y.symbolSize;if(S!=null){var _=-1/0;py(S,function(T){T>_&&(_=T)}),y.symbolSize=cc(S,function(T){return cy(T,[0,_],[0,x[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Q),ur=vy;var dc=[20,140],dy=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=dc[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=dc[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):P(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),b(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=St((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,a=this.getExtent();return(r[0]<=a[0]||r[0]<=t)&&(r[1]>=a[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(a){var o=[],n=a.getData();n.each(this.getDataDimensionIndex(n),function(s,l){t[0]<=s&&s<=t[1]&&o.push(l)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},e.prototype.getVisualMeta=function(t){var r=mc(this,"outOfRange",this.getExtent()),a=mc(this,"inRange",this.option.range.slice()),o=[];function n(c,v){o.push({value:c,color:t(c,v)})}for(var s=0,l=0,u=a.length,p=r.length;l<p&&(!a.length||r[l]<=a[0]);l++)r[l]<a[s]&&n(r[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&o.length&&n(a[s],"outOfRange"),n(a[s],"inRange");for(var f=1;l<p;l++)(!a.length||a[a.length-1]<r[l])&&(f&&(o.length&&n(o[o.length-1].value,"outOfRange"),f=0),n(r[l],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=zt(ur.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(ur);function mc(i,e,t){if(t[0]===t[1])return t.slice();for(var r=200,a=(t[1]-t[0])/r,o=t[0],n=[],s=0;s<=r&&o<t[1];s++)n.push(o),o+=a;return n.push(t[1]),n}var gc=dy;var my=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,a,o){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,a,o)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,a=fe(r.get("padding")||0),o=t.getBoundingRect();t.add(new ft({z2:-1,silent:!0,shape:{x:o.x-a[3],y:o.y-a[0],width:o.width+a[3]+a[1],height:o.height+a[0]+a[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,a){a=a||{};var o=a.forceState,n=this.visualMapModel,s={};if(r==="color"){var l=n.get("contentColor");s.color=l}function u(c){return s[c]}function p(c,v){s[c]=v}var f=n.controllerVisuals[o||n.getValueState(t)],h=dt.prepareVisualTypes(f);return b(h,function(c){var v=f[c];a.convertOpacityToAlpha&&c==="opacity"&&(c="colorAlpha",v=f.__alphaForOpacity),dt.dependsOn(c,r)&&v&&v.applyVisual(t,u,p)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,a=this.api;Ke(t,r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},e.prototype.doRender=function(t,r,a,o){},e.type="visualMap",e}(J),Sa=my;var yc=[["left","right","width"],["top","bottom","height"]];function ba(i,e,t){var r=i.option,a=r.align;if(a!=null&&a!=="auto")return a;for(var o={width:e.getWidth(),height:e.getHeight()},n=r.orient==="horizontal"?1:0,s=yc[n],l=[0,null,10],u={},p=0;p<3;p++)u[yc[1-n][p]]=l[p],u[s[p]]=p===2?t[0]:r[s[p]];var f=[["x","width",3],["y","height",0]][n],h=mt(u,o,r.padding);return s[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<o[f[1]]*.5?0:1]}function pr(i,e){return b(i||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),i}var qt=vt,gy=b,_c=Math.min,Fn=Math.max,yy=12,xy=6,_y=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,r){i.prototype.init.call(this,t,r),this._hoverLinkFromSeriesMouseOver=R(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=R(this._hideIndicator,this)},e.prototype.doRender=function(t,r,a,o){(!o||o.type!=="selectDataRange"||o.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var a=t.get("text");this._renderEndsText(r,a,0),this._renderEndsText(r,a,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,a){if(r){var o=r[1-a];o=o!=null?o+"":"";var n=this.visualMapModel,s=n.get("textGap"),l=n.itemSize,u=this._shapes.mainGroup,p=this._applyTransform([l[0]/2,a===0?-s:l[1]+s],u),f=this._applyTransform(a===0?"bottom":"top",u),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new Y({style:ot(c,{x:p[0],y:p[1],verticalAlign:h==="horizontal"?"middle":f,align:h==="horizontal"?f:"center",text:o})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,a=this._shapes,o=r.itemSize,n=this._orient,s=this._useHandle,l=ba(r,this.api,o),u=a.mainGroup=this._createBarGroup(l),p=new at;u.add(p),p.add(a.outOfRange=Sc()),p.add(a.inRange=Sc(null,s?Tc(this._orient):null,R(this._dragHandle,this,"all",!1),R(this._dragHandle,this,"all",!0))),p.setClipPath(new ft({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var f=r.textStyleModel.getTextRect("\u56FD"),h=Fn(f.width,f.height);s&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(r,u,0,o,h,n),this._createHandle(r,u,1,o,h,n)),this._createIndicator(r,u,o,h,n),t.add(u)},e.prototype._createHandle=function(t,r,a,o,n,s){var l=R(this._dragHandle,this,a,!1),u=R(this._dragHandle,this,a,!0),p=Sr(t.get("handleSize"),o[0]),f=kt(t.get("handleIcon"),-p/2,-p/2,p,p,null,!0),h=Tc(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(g){Qt(g.event)}}),f.x=o[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),sl(f,!0),r.add(f);var c=this.visualMapModel.textStyleModel,v=new Y({cursor:h,draggable:!0,drift:l,onmousemove:function(g){Qt(g.event)},ondragend:u,style:ot(c,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var d=[p,0],m=this._shapes;m.handleThumbs[a]=f,m.handleLabelPoints[a]=d,m.handleLabels[a]=v},e.prototype._createIndicator=function(t,r,a,o,n){var s=Sr(t.get("indicatorSize"),a[0]),l=kt(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof le){var p=l.style;l.useStyle(N({image:p.image,x:p.x,y:p.y,width:p.width,height:p.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,h=new Y({silent:!0,invisible:!0,style:ot(f,{x:0,y:0,text:""})});this.group.add(h);var c=[(n==="horizontal"?o/2:xy)+a[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=h,v.indicatorLabelPoint=c,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,a,o){if(this._useHandle){if(this._dragging=!r,!r){var n=this._applyTransform([a,o],this._shapes.mainGroup,!0);this._updateInterval(t,n[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():bc(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),a=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[qt(r[0],a,o,!0),qt(r[1],a,o,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var a=this.visualMapModel,o=this._handleEnds,n=[0,a.itemSize[1]];Gt(r,o,n,t,0);var s=a.getExtent();this._dataInterval=[qt(o[0],n,s,!0),qt(o[1],n,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,a=r.getExtent(),o=this._shapes,n=[0,r.itemSize[1]],s=t?n:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,s,"inRange"),u=this._createBarVisual(a,a,n,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,a,o){var n={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,n),l=[this.getControllerVisual(t[0],"symbolSize",n),this.getControllerVisual(t[1],"symbolSize",n)],u=this._createBarPoints(a,l);return{barColor:new fl(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var a=100,o=[],n=(t[1]-t[0])/a;o.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<a;s++){var l=t[0]+n*s;if(l>t[1])break;o.push({color:this.getControllerVisual(l,"color",r),offset:s/a})}return o.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),o},e.prototype._createBarPoints=function(t,r){var a=this.visualMapModel.itemSize;return[[a[0]-r[0],t[0]],[a[0],t[0]],[a[0],t[1]],[a[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,a=this.visualMapModel.get("inverse");return new at(r==="horizontal"&&!a?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&a?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!a?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var a=this._shapes,o=this.visualMapModel,n=a.handleThumbs,s=a.handleLabels,l=o.itemSize,u=o.getExtent();gy([0,1],function(p){var f=n[p];f.setStyle("fill",r.handlesColor[p]),f.y=t[p];var h=qt(t[p],[0,l[1]],u,!0),c=this.getControllerVisual(h,"symbolSize");f.scaleX=f.scaleY=c/l[0],f.x=l[0]-c/2;var v=Mt(a.handleLabelPoints[p],ue(f,this.group));s[p].setStyle({x:v[0],y:v[1],text:o.formatValueText(this._dataInterval[p]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,a,o){var n=this.visualMapModel,s=n.getExtent(),l=n.itemSize,u=[0,l[1]],p=this._shapes,f=p.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},c=this.getControllerVisual(t,"color",h),v=this.getControllerVisual(t,"symbolSize"),d=qt(t,s,u,!0),m=l[0]-v/2,g={x:f.x,y:f.y};f.y=d,f.x=m;var x=Mt(p.indicatorLabelPoint,ue(f,this.group)),y=p.indicatorLabel;y.attr("invisible",!1);var S=this._applyTransform("left",p.mainGroup),_=this._orient,T=_==="horizontal";y.setStyle({text:(a||"")+n.formatValueText(r),verticalAlign:T?S:"middle",align:T?"center":S});var w={x:m,y:d,style:{fill:c}},M={style:{x:x[0],y:x[1]}};if(n.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};f.x=g.x,f.y=g.y,f.animateTo(w,C),y.animateTo(M,C)}else f.attr(w),y.attr(M);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var L=0;L<I.length;L++)this.api.enterBlur(I[L])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var a=t.visualMapModel.itemSize,o=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);o[1]=_c(Fn(0,o[1]),a[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=a[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var a=this.visualMapModel,o=a.itemSize;if(a.option.hoverLink){var n=[0,o[1]],s=a.getExtent();t=_c(Fn(n[0],t),n[1]);var l=Sy(a,s,n),u=[t-l,t+l],p=qt(t,n,s,!0),f=[qt(u[0],n,s,!0),qt(u[1],n,s,!0)];u[0]<n[0]&&(f[0]=-1/0),u[1]>n[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(p,f[1],"< ",l):f[1]===1/0?this._showIndicator(p,f[0],"> ",l):this._showIndicator(p,p,"\u2248 ",l));var h=this._hoverLinkDataIndices,c=[];(r||bc(a))&&(c=this._hoverLinkDataIndices=a.findTargetDataIndices(f));var v=Ys(h,c);this._dispatchHighDown("downplay",pr(v[0],a)),this._dispatchHighDown("highlight",pr(v[1],a))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(Ci(t.target,function(l){var u=X(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var a=this.ecModel.getSeriesByIndex(r.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(a)){var n=a.getData(r.dataType),s=n.getStore().get(o.getDataDimensionIndex(n),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var a=0;a<r.length;a++)this.api.leaveBlur(r[a])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",pr(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,a,o){var n=ue(r,o?null:this.group);return P(t)?Mt(t,n,a):gi(t,n,a)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Sa);function Sc(i,e,t,r){return new te({shape:{points:i},draggable:!!t,cursor:e,drift:t,onmousemove:function(a){Qt(a.event)},ondragend:r})}function Sy(i,e,t){var r=yy/2,a=i.get("hoverLinkDataSize");return a&&(r=qt(a,e,t,!0)/2),r}function bc(i){var e=i.get("hoverLinkOnHandle");return!!(e??i.get("realtime"))}function Tc(i){return i==="vertical"?"ns-resize":"ew-resize"}var wc=_y;var Cc={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Mc=function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(t){t.setSelected(i.selected)})};var Ac=[{createOnAllSeries:!0,reset:function(i,e){var t=[];return e.eachComponent("visualMap",function(r){var a=i.pipelineContext;!r.isTargetSeries(i)||a&&a.large||t.push(ch(r.stateList,r.targetVisuals,R(r.getValueState,r),r.getDataDimensionIndex(i.getData())))}),t}},{createOnAllSeries:!0,reset:function(i,e){var t=i.getData(),r=[];e.eachComponent("visualMap",function(a){if(a.isTargetSeries(i)){var o=a.getVisualMeta(R(by,null,i,a))||{stops:[],outerColors:[]},n=a.getDataDimensionIndex(t);n>=0&&(o.dimension=n,r.push(o))}}),i.getData().setVisual("visualMeta",r)}}];function by(i,e,t,r){for(var a=e.targetVisuals[r],o=dt.prepareVisualTypes(a),n={color:ce(i.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],p=a[u==="opacity"?"__alphaForOpacity":u];p&&p.applyVisual(t,f,h)}return n.color;function f(c){return n[c]}function h(c,v){n[c]=v}}var Ic=b;function Wn(i){var e=i&&i.visualMap;P(e)||(e=e?[e]:[]),Ic(e,function(t){if(t){fr(t,"splitList")&&!fr(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&P(r)&&Ic(r,function(a){it(a)&&(fr(a,"start")&&!fr(a,"min")&&(a.min=a.start),fr(a,"end")&&!fr(a,"max")&&(a.max=a.end))})}})}function fr(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}var Dc=!1;function Qr(i){Dc||(Dc=!0,i.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),i.registerAction(Cc,Mc),b(Ac,function(e){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,e)}),i.registerPreprocessor(Wn))}function Jr(i){i.registerComponentModel(gc),i.registerComponentView(wc),Qr(i)}var Ty=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],wy[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var o=this.option.categories;this.resetVisual(function(n,s){a==="categories"?(n.mappingMethod="category",n.categories=B(o)):(n.dataExtent=this.getExtent(),n.mappingMethod="piecewise",n.pieceList=z(this._pieceList,function(l){return l=B(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},a=dt.listVisualTypes(),o=this.isCategory();b(t.pieces,function(s){b(a,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),b(r,function(s,l){var u=!1;b(this.stateList,function(p){u=u||n(t,p,l)||n(t.target,p,l)},this),!u&&b(this.stateList,function(p){(t[p]||(t[p]={}))[l]=_a.get(l,p==="inRange"?"active":"inactive",o)})},this);function n(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var a=this.option,o=this._pieceList,n=(r?a:t).selected||{};if(a.selected=n,b(o,function(l,u){var p=this.getSelectedMapKey(l);n.hasOwnProperty(p)||(n[p]=!0)},this),a.selectedMode==="single"){var s=!1;b(o,function(l,u){var p=this.getSelectedMapKey(l);n[p]&&(s?n[p]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=B(t)},e.prototype.getValueState=function(t){var r=dt.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],a=this._pieceList;return this.eachTargetSeries(function(o){var n=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var p=dt.findPieceIndex(l,a);p===t&&n.push(u)},this),r.push({seriesId:o.id,dataIndex:n})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var a=t.interval||[];r=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],a=["",""],o=this;function n(p,f){var h=o.getRepresentValue({interval:p});f||(f=o.getValueState(h));var c=t(h,f);p[0]===-1/0?a[0]=c:p[1]===1/0?a[1]=c:r.push({value:p[0],color:c},{value:p[1],color:c})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return b(s,function(p){var f=p.interval;f&&(f[0]>u&&n([u,f[0]],"outOfRange"),n(f.slice()),u=f[1])},this),{stops:r,outerColors:a}},e.type="visualMap.piecewise",e.defaultOption=zt(ur.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(ur),wy={splitNumber:function(i){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var o=(r[1]-r[0])/a;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&i.push({interval:[-1/0,r[0]],close:[0,0]});for(var n=0,s=r[0];n<a;s+=o,n++){var l=n===a-1?r[1]:s+o;i.push({interval:[s,l],close:[1,1]})}e.maxOpen&&i.push({interval:[r[1],1/0],close:[0,0]}),Ua(i),b(i,function(u,p){u.index=p,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var e=this.option;b(e.categories,function(t){i.push({text:this.formatValueText(t,!0),value:t})},this),Lc(e,i)},pieces:function(i){var e=this.option;b(e.pieces,function(t,r){it(t)||(t={value:t});var a={text:"",index:r};if(t.label!=null&&(a.text=t.label),t.hasOwnProperty("value")){var o=a.value=t.value;a.interval=[o,o],a.close=[1,1]}else{for(var n=a.interval=[],s=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],p=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],c=0;c<3&&n[f]==null;c++)n[f]=t[h[c]],s[f]=l[c],p[f]=c===2;n[f]==null&&(n[f]=u[f])}p[0]&&n[1]===1/0&&(s[0]=0),p[1]&&n[0]===-1/0&&(s[1]=0),n[0]===n[1]&&s[0]&&s[1]&&(a.value=n[0])}a.visual=dt.retrieveVisuals(t),i.push(a)},this),Lc(e,i),Ua(i),b(i,function(t){var r=t.close,a=[["<","\u2264"][r[1]],[">","\u2265"][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,a)},this)}};function Lc(i,e){var t=i.inverse;(i.orient==="vertical"?!t:t)&&e.reverse()}var Pc=Ty;var Cy=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,a=r.get("textGap"),o=r.textStyleModel,n=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=r.itemSize,p=this._getViewData(),f=p.endsText,h=Dt(r.get("showLabel",!0),!f);f&&this._renderEndsText(t,f[0],u,h,l),b(p.viewPieceList,function(c){var v=c.piece,d=new at;d.onclick=R(this._onItemClick,this,v),this._enableHoverLink(d,c.indexInModelPieceList);var m=r.getRepresentValue(v);if(this._createItemSymbol(d,m,[0,0,u[0],u[1]]),h){var g=this.visualMapModel.getValueState(m);d.add(new Y({style:{x:l==="right"?-a:u[0]+a,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:n,fill:s,opacity:g==="outOfRange"?.5:1}}))}t.add(d)},this),f&&this._renderEndsText(t,f[1],u,h,l),Nt(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var a=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(n){var s=a.visualMapModel;s.option.hoverLink&&a.api.dispatchAction({type:n,batch:pr(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return ba(t,this.api,t.itemSize);var a=r.align;return(!a||a==="auto")&&(a="left"),a},e.prototype._renderEndsText=function(t,r,a,o,n){if(r){var s=new at,l=this.visualMapModel.textStyleModel;s.add(new Y({style:ot(l,{x:o?n==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:o?n:"center",text:r})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=z(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),a=t.get("text"),o=t.get("orient"),n=t.get("inverse");return(o==="horizontal"?n:!n)?r.reverse():a&&(a=a.slice().reverse()),{viewPieceList:r,endsText:a}},e.prototype._createItemSymbol=function(t,r,a){t.add(kt(this.getControllerVisual(r,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(t){var r=this.visualMapModel,a=r.option,o=a.selectedMode;if(o){var n=B(a.selected),s=r.getSelectedMapKey(t);o==="single"||o===!0?(n[s]=!0,b(n,function(l,u){n[u]=u===s})):n[s]=!n[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}},e.type="visualMap.piecewise",e}(Sa),zc=Cy;function ti(i){i.registerComponentModel(Pc),i.registerComponentView(zc),Qr(i)}function Zn(i){E(Jr),E(ti)}var My={label:{enabled:!0},decal:{show:!1}},kc=j(),Ay={};function Yn(i,e){var t=i.getModel("aria");if(!t.get("enabled"))return;var r=B(My);q(r.label,i.getLocaleModel().get("aria"),!1),q(t.option,r,!1),a(),o();function a(){var u=t.getModel("decal"),p=u.get("show");if(p){var f=$();i.eachSeries(function(h){if(!h.isColorBySeries()){var c=f.get(h.type);c||(c={},f.set(h.type,c)),kc(h).scope=c}}),i.eachRawSeries(function(h){if(i.isSeriesFiltered(h))return;if(G(h.enableAriaDecal)){h.enableAriaDecal();return}var c=h.getData();if(h.isColorBySeries()){var x=Za(h.ecModel,h.name,Ay,i.getSeriesCount()),y=c.getVisual("decal");c.setVisual("decal",S(y,x))}else{var v=h.getRawData(),d={},m=kc(h).scope;c.each(function(_){var T=c.getRawIndex(_);d[T]=_});var g=v.count();v.each(function(_){var T=d[_],w=v.getName(_)||_+"",M=Za(h.ecModel,w,m,g),C=c.getItemVisual(T,"decal");c.setItemVisual(T,"decal",S(C,M))})}function S(_,T){var w=_?N(N({},T),_):T;return w.dirty=!0,w}})}}function o(){var u=e.getZr().dom;if(u){var p=i.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=Z(f.option,p),!!f.get("enabled")){if(f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=i.getSeriesCount(),c=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,d=Math.min(h,v),m;if(!(h<1)){var g=s();if(g){var x=f.get(["general","withTitle"]);m=n(x,{title:g})}else m=f.get(["general","withoutTitle"]);var y=[],S=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);m+=n(S,{seriesCount:h}),i.eachSeries(function(M,C){if(C<d){var I=void 0,L=M.get("name"),k=L?"withName":"withoutName";I=h>1?f.get(["series","multiple",k]):f.get(["series","single",k]),I=n(I,{seriesId:M.seriesIndex,seriesName:M.get("name"),seriesType:l(M.subType)});var D=M.getData();if(D.count()>c){var O=f.get(["data","partialData"]);I+=n(O,{displayCnt:c})}else I+=f.get(["data","allData"]);for(var F=f.get(["data","separator","middle"]),W=f.get(["data","separator","end"]),tt=[],et=0;et<D.count();et++)if(et<c){var nt=D.getName(et),xt=D.getValues(et),wt=f.get(["data",nt?"withName":"withoutName"]);tt.push(n(wt,{name:nt,value:xt.join(F)}))}I+=tt.join(F)+W,y.push(I)}});var _=f.getModel(["series","multiple","separator"]),T=_.get("middle"),w=_.get("end");m+=y.join(T)+w,u.setAttribute("aria-label",m)}}}}function n(u,p){if(!V(u))return u;var f=u;return b(p,function(h,c){f=f.replace(new RegExp("\\{\\s*"+c+"\\s*\\}","g"),h)}),f}function s(){var u=i.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var p=i.getLocaleModel().get(["series","typeNames"]);return p[u]||p.chart}}function Xn(i){if(!(!i||!i.aria)){var e=i.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},b(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function Kn(i){i.registerPreprocessor(Xn),i.registerVisual(i.PRIORITY.VISUAL.ARIA,Yn)}var Rc={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Iy=function(){function i(e){var t=this._condVal=V(e)?new RegExp(e):cs(e)?e:null;if(t==null){var r="";st(r)}}return i.prototype.evaluate=function(e){var t=typeof e;return V(t)?this._condVal.test(e):ae(t)?this._condVal.test(e+""):!1},i}(),Dy=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),Ly=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},i}(),Py=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},i}(),zy=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),ky=function(){function i(){}return i.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),a=e?this.valueParser(r):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?a:r))return!1;return!0},i}();function jn(i,e){if(i===!0||i===!1){var t=new Dy;return t.value=i,t}var r="";return Oc(i)||st(r),i.and?Ec("and",i,e):i.or?Ec("or",i,e):i.not?Ry(i,e):Ey(i,e)}function Ec(i,e,t){var r=e[i],a="";P(r)||st(a),r.length||st(a);var o=i==="and"?new Ly:new Py;return o.children=z(r,function(n){return jn(n,t)}),o.children.length||st(a),o}function Ry(i,e){var t=i.not,r="";Oc(t)||st(r);var a=new zy;return a.child=jn(t,e),a.child||st(r),a}function Ey(i,e){for(var t="",r=e.prepareGetValue(i),a=[],o=yt(i),n=i.parser,s=n?Si(n):null,l=0;l<o.length;l++){var u=o[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var p=oe(Rc,u)?Rc[u]:u,f=i[u],h=s?s(f):f,c=zl(p,h)||p==="reg"&&new Iy(h);c||st(t),a.push(c)}}a.length||st(t);var v=new ky;return v.valueGetterParam=r,v.valueParser=s,v.getValue=e.getValue,v.subCondList=a,v}function Oc(i){return it(i)&&!ps(i)}var Oy=function(){function i(e,t){this._cond=jn(e,t)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}();function Vc(i,e){return new Oy(i,e)}var Uc={type:"echarts:filter",transform:function(i){for(var e=i.upstream,t,r=Vc(i.config,{valueGetterAttrMap:$({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;oe(s,"dimension")||st(l);var p=e.getDimensionInfo(u);return p||st(l),{dimIdx:p.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),a=[],o=0,n=e.count();o<n;o++)t=e.getRawDataItem(o),r.evaluate()&&a.push(t);return{data:a}}};var Nc={type:"echarts:sort",transform:function(i){var e=i.upstream,t=i.config,r="",a=Lt(t);a.length||st(r);var o=[];b(a,function(p){var f=p.dimension,h=p.order,c=p.parser,v=p.incomparable;if(f==null&&st(r),h!=="asc"&&h!=="desc"&&st(r),v&&v!=="min"&&v!=="max"){var d="";st(d)}if(h!=="asc"&&h!=="desc"){var m="";st(m)}var g=e.getDimensionInfo(f);g||st(r);var x=c?Si(c):null;c&&!x&&st(r),o.push({dimIdx:g.index,parser:x,comparator:new Pl(h,v)})});var n=e.sourceFormat;n!==Al&&n!==Il&&st(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(p,f){for(var h=0;h<o.length;h++){var c=o[h],v=e.retrieveValueFromItem(p,c.dimIdx),d=e.retrieveValueFromItem(f,c.dimIdx);c.parser&&(v=c.parser(v),d=c.parser(d));var m=c.comparator.evaluate(v,d);if(m!==0)return m}return 0}),{data:s}}};function qn(i){i.registerTransform(Uc),i.registerTransform(Nc)}var Vy=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,a){i.prototype.init.call(this,t,r,a),this._sourceManager=new kl(this),Xa(this)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),Xa(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Dl},e}(Q);var Uy=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(J);function $n(i){i.registerComponentModel(Vy),i.registerComponentView(Uy)}var $t=di.CMD;function hr(i,e){return Math.abs(i-e)<1e-5}function Ta(i){var e=i.data,t=i.len(),r=[],a,o=0,n=0,s=0,l=0;function u(D,O){a&&a.length>2&&r.push(a),a=[D,O]}function p(D,O,F,W){hr(D,F)&&hr(O,W)||a.push(D,O,F,W,F,W)}function f(D,O,F,W,tt,et){var nt=Math.abs(O-D),xt=Math.tan(nt/4)*4/3,wt=O<D?-1:1,It=Math.cos(D),Te=Math.sin(D),Ne=Math.cos(O),dr=Math.sin(O),Da=It*tt+F,La=Te*et+W,we=Ne*tt+F,Ce=dr*et+W,mr=tt*xt*wt,Me=et*xt*wt;a.push(Da-mr*Te,La+Me*It,we+mr*dr,Ce-Me*Ne,we,Ce)}for(var h,c,v,d,m=0;m<t;){var g=e[m++],x=m===1;switch(x&&(o=e[m],n=e[m+1],s=o,l=n,(g===$t.L||g===$t.C||g===$t.Q)&&(a=[s,l])),g){case $t.M:o=s=e[m++],n=l=e[m++],u(s,l);break;case $t.L:h=e[m++],c=e[m++],p(o,n,h,c),o=h,n=c;break;case $t.C:a.push(e[m++],e[m++],e[m++],e[m++],o=e[m++],n=e[m++]);break;case $t.Q:h=e[m++],c=e[m++],v=e[m++],d=e[m++],a.push(o+2/3*(h-o),n+2/3*(c-n),v+2/3*(h-v),d+2/3*(c-d),v,d),o=v,n=d;break;case $t.A:var y=e[m++],S=e[m++],_=e[m++],T=e[m++],w=e[m++],M=e[m++]+w;m+=1;var C=!e[m++];h=Math.cos(w)*_+y,c=Math.sin(w)*T+S,x?(s=h,l=c,u(s,l)):p(o,n,h,c),o=Math.cos(M)*_+y,n=Math.sin(M)*T+S;for(var I=(C?-1:1)*Math.PI/2,L=w;C?L>M:L<M;L+=I){var k=C?Math.max(L+I,M):Math.min(L+I,M);f(L,k,y,S,_,T)}break;case $t.R:s=o=e[m++],l=n=e[m++],h=s+e[m++],c=l+e[m++],u(h,l),p(h,l,h,c),p(h,c,s,c),p(s,c,s,l),p(s,l,h,l);break;case $t.Z:a&&p(o,n,s,l),o=s,n=l;break}}return a&&a.length>2&&r.push(a),r}function Qn(i,e,t,r,a,o,n,s,l,u){if(hr(i,t)&&hr(e,r)&&hr(a,n)&&hr(o,s)){l.push(n,s);return}var p=2/u,f=p*p,h=n-i,c=s-e,v=Math.sqrt(h*h+c*c);h/=v,c/=v;var d=t-i,m=r-e,g=a-n,x=o-s,y=d*d+m*m,S=g*g+x*x;if(y<f&&S<f){l.push(n,s);return}var _=h*d+c*m,T=-h*g-c*x,w=y-_*_,M=S-T*T;if(w<f&&_>=0&&M<f&&T>=0){l.push(n,s);return}var C=[],I=[];Fe(i,t,a,n,.5,C),Fe(e,r,o,s,.5,I),Qn(C[0],I[0],C[1],I[1],C[2],I[2],C[3],I[3],l,u),Qn(C[4],I[4],C[5],I[5],C[6],I[6],C[7],I[7],l,u)}function Bc(i,e){var t=Ta(i),r=[];e=e||1;for(var a=0;a<t.length;a++){var o=t[a],n=[],s=o[0],l=o[1];n.push(s,l);for(var u=2;u<o.length;){var p=o[u++],f=o[u++],h=o[u++],c=o[u++],v=o[u++],d=o[u++];Qn(s,l,p,f,h,c,v,d,n,e),s=v,l=d}r.push(n)}return r}function Wc(i,e,t){var r=i[e],a=i[1-e],o=Math.abs(r/a),n=Math.ceil(Math.sqrt(o*t)),s=Math.floor(t/n);s===0&&(s=1,n=t);for(var l=[],u=0;u<n;u++)l.push(s);var p=n*s,f=t-p;if(f>0)for(var u=0;u<f;u++)l[u%n]+=1;return l}function Hc(i,e,t){for(var r=i.r0,a=i.r,o=i.startAngle,n=i.endAngle,s=Math.abs(n-o),l=s*a,u=a-r,p=l>Math.abs(u),f=Wc([l,u],p?0:1,e),h=(p?s:u)/f.length,c=0;c<f.length;c++)for(var v=(p?u:s)/f[c],d=0;d<f[c];d++){var m={};p?(m.startAngle=o+h*c,m.endAngle=o+h*(c+1),m.r0=r+v*d,m.r=r+v*(d+1)):(m.startAngle=o+v*d,m.endAngle=o+v*(d+1),m.r0=r+h*c,m.r=r+h*(c+1)),m.clockwise=i.clockwise,m.cx=i.cx,m.cy=i.cy,t.push(m)}}function Ny(i,e,t){for(var r=i.width,a=i.height,o=r>a,n=Wc([r,a],o?0:1,e),s=o?"width":"height",l=o?"height":"width",u=o?"x":"y",p=o?"y":"x",f=i[s]/n.length,h=0;h<n.length;h++)for(var c=i[l]/n[h],v=0;v<n[h];v++){var d={};d[u]=h*f,d[p]=v*c,d[s]=f,d[l]=c,d.x+=i.x,d.y+=i.y,t.push(d)}}function Gc(i,e,t,r){return i*r-t*e}function By(i,e,t,r,a,o,n,s){var l=t-i,u=r-e,p=n-a,f=s-o,h=Gc(p,f,l,u);if(Math.abs(h)<1e-6)return null;var c=i-a,v=e-o,d=Gc(c,v,p,f)/h;return d<0||d>1?null:new Wt(d*l+i,d*u+e)}function Hy(i,e,t){var r=new Wt;Wt.sub(r,t,e),r.normalize();var a=new Wt;Wt.sub(a,i,e);var o=a.dot(r);return o}function cr(i,e){var t=i[i.length-1];t&&t[0]===e[0]&&t[1]===e[1]||i.push(e)}function Gy(i,e,t){for(var r=i.length,a=[],o=0;o<r;o++){var n=i[o],s=i[(o+1)%r],l=By(n[0],n[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&a.push({projPt:Hy(l,e,t),pt:l,idx:o})}if(a.length<2)return[{points:i},{points:i}];a.sort(function(m,g){return m.projPt-g.projPt});var u=a[0],p=a[a.length-1];if(p.idx<u.idx){var f=u;u=p,p=f}for(var h=[u.pt.x,u.pt.y],c=[p.pt.x,p.pt.y],v=[h],d=[c],o=u.idx+1;o<=p.idx;o++)cr(v,i[o].slice());cr(v,c),cr(v,h);for(var o=p.idx+1;o<=u.idx+r;o++)cr(d,i[o%r].slice());return cr(d,h),cr(d,c),[{points:v},{points:d}]}function Fc(i){var e=i.points,t=[],r=[];Na(e,t,r);var a=new _t(t[0],t[1],r[0]-t[0],r[1]-t[1]),o=a.width,n=a.height,s=a.x,l=a.y,u=new Wt,p=new Wt;return o>n?(u.x=p.x=s+o/2,u.y=l,p.y=l+n):(u.y=p.y=l+n/2,u.x=s,p.x=s+o),Gy(e,u,p)}function wa(i,e,t,r){if(t===1)r.push(e);else{var a=Math.floor(t/2),o=i(e);wa(i,o[0],a,r),wa(i,o[1],t-a,r)}return r}function Fy(i,e){for(var t=[],r=0;r<e;r++)t.push(Ze(i));return t}function Wy(i,e){e.setStyle(i.style),e.z=i.z,e.z2=i.z2,e.zlevel=i.zlevel}function Zy(i){for(var e=[],t=0;t<i.length;)e.push([i[t++],i[t++]]);return e}function Zc(i,e){var t=[],r=i.shape,a;switch(i.type){case"rect":Ny(r,e,t),a=ft;break;case"sector":Hc(r,e,t),a=De;break;case"circle":Hc({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),a=De;break;default:var o=i.getComputedTransform(),n=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=z(Bc(i.getUpdatedPathProxy(),n),function(g){return Zy(g)}),l=s.length;if(l===0)wa(Fc,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var p=0,f=z(s,function(g){var x=[],y=[];Na(g,x,y);var S=(y[1]-x[1])*(y[0]-x[0]);return p+=S,{poly:g,area:S}});f.sort(function(g,x){return x.area-g.area});for(var h=e,u=0;u<l;u++){var c=f[u];if(h<=0)break;var v=u===l-1?h:Math.ceil(c.area/p*e);v<0||(wa(Fc,{points:c.poly},v,t),h-=v)}}a=te;break}if(!a)return Fy(i,e);for(var d=[],u=0;u<t.length;u++){var m=new a;m.setShape(t[u]),Wy(i,m),d.push(m)}return d}function Yy(i,e){var t=i.length,r=e.length;if(t===r)return[i,e];for(var a=[],o=[],n=t<r?i:e,s=Math.min(t,r),l=Math.abs(r-t)/6,u=(s-2)/6,p=Math.ceil(l/u)+1,f=[n[0],n[1]],h=l,c=2;c<s;){var v=n[c-2],d=n[c-1],m=n[c++],g=n[c++],x=n[c++],y=n[c++],S=n[c++],_=n[c++];if(h<=0){f.push(m,g,x,y,S,_);continue}for(var T=Math.min(h,p-1)+1,w=1;w<=T;w++){var M=w/T;Fe(v,m,x,S,M,a),Fe(d,g,y,_,M,o),v=a[3],d=o[3],f.push(a[1],o[1],a[2],o[2],v,d),m=a[5],g=o[5],x=a[6],y=o[6]}h-=T-1}return n===i?[f,e]:[i,f]}function Yc(i,e){for(var t=i.length,r=i[t-2],a=i[t-1],o=[],n=0;n<e.length;)o[n++]=r,o[n++]=a;return o}function Xy(i,e){for(var t,r,a,o=[],n=[],s=0;s<Math.max(i.length,e.length);s++){var l=i[s],u=e[s],p=void 0,f=void 0;l?u?(t=Yy(l,u),p=t[0],f=t[1],r=p,a=f):(f=Yc(a||l,l),p=l):(p=Yc(r||u,u),f=u),o.push(p),n.push(f)}return[o,n]}function Xc(i){for(var e=0,t=0,r=0,a=i.length,o=0,n=a-2;o<a;n=o,o+=2){var s=i[n],l=i[n+1],u=i[o],p=i[o+1],f=s*p-u*l;e+=f,t+=(s+u)*f,r+=(l+p)*f}return e===0?[i[0]||0,i[1]||0]:[t/e/3,r/e/3,e]}function Ky(i,e,t,r){for(var a=(i.length-2)/6,o=1/0,n=0,s=i.length,l=s-2,u=0;u<a;u++){for(var p=u*6,f=0,h=0;h<s;h+=2){var c=h===0?p:(p+h-2)%l+2,v=i[c]-t[0],d=i[c+1]-t[1],m=e[h]-r[0],g=e[h+1]-r[1],x=m-v,y=g-d;f+=x*x+y*y}f<o&&(o=f,n=u)}return n}function jy(i){for(var e=[],t=i.length,r=0;r<t;r+=2)e[r]=i[t-r-2],e[r+1]=i[t-r-1];return e}function qy(i,e,t,r){for(var a=[],o,n=0;n<i.length;n++){var s=i[n],l=e[n],u=Xc(s),p=Xc(l);o==null&&(o=u[2]<0!=p[2]<0);var f=[],h=[],c=0,v=1/0,d=[],m=s.length;o&&(s=jy(s));for(var g=Ky(s,l,u,p)*6,x=m-2,y=0;y<x;y+=2){var S=(g+y)%x+2;f[y+2]=s[S]-u[0],f[y+3]=s[S+1]-u[1]}if(f[0]=s[g]-u[0],f[1]=s[g+1]-u[1],t>0)for(var _=r/t,T=-r/2;T<=r/2;T+=_){for(var w=Math.sin(T),M=Math.cos(T),C=0,y=0;y<s.length;y+=2){var I=f[y],L=f[y+1],k=l[y]-p[0],D=l[y+1]-p[1],O=k*M-D*w,F=k*w+D*M;d[y]=O,d[y+1]=F;var W=O-I,tt=F-L;C+=W*W+tt*tt}if(C<v){v=C,c=T;for(var et=0;et<d.length;et++)h[et]=d[et]}}else for(var nt=0;nt<m;nt+=2)h[nt]=l[nt]-p[0],h[nt+1]=l[nt+1]-p[1];a.push({from:f,to:h,fromCp:u,toCp:p,rotation:-c})}return a}function ri(i){return i.__isCombineMorphing}var jc="__mOriginal_";function Ca(i,e,t){var r=jc+e,a=i[r]||i[e];i[r]||(i[r]=i[e]);var o=t.replace,n=t.after,s=t.before;i[e]=function(){var l=arguments,u;return s&&s.apply(this,l),o?u=o.apply(this,l):u=a.apply(this,l),n&&n.apply(this,l),u}}function ei(i,e){var t=jc+e;i[t]&&(i[e]=i[t],i[t]=null)}function Kc(i,e){for(var t=0;t<i.length;t++)for(var r=i[t],a=0;a<r.length;){var o=r[a],n=r[a+1];r[a++]=e[0]*o+e[2]*n+e[4],r[a++]=e[1]*o+e[3]*n+e[5]}}function qc(i,e){var t=i.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),a=Xy(Ta(t),Ta(r)),o=a[0],n=a[1],s=i.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&Kc(o,s),l&&Kc(n,l),Ca(e,"updateTransform",{replace:u}),e.transform=null;var p=qy(o,n,10,Math.PI),f=[];Ca(e,"buildPath",{replace:function(h){for(var c=e.__morphT,v=1-c,d=[],m=0;m<p.length;m++){var g=p[m],x=g.from,y=g.to,S=g.rotation*c,_=g.fromCp,T=g.toCp,w=Math.sin(S),M=Math.cos(S);ds(d,_,T,c);for(var C=0;C<x.length;C+=2){var I=x[C],L=x[C+1],k=y[C],D=y[C+1],O=I*v+k*c,F=L*v+D*c;f[C]=O*M-F*w+d[0],f[C+1]=O*w+F*M+d[1]}var W=f[0],tt=f[1];h.moveTo(W,tt);for(var C=2;C<x.length;){var k=f[C++],D=f[C++],et=f[C++],nt=f[C++],xt=f[C++],wt=f[C++];W===k&&tt===D&&et===xt&&nt===wt?h.lineTo(xt,wt):h.bezierCurveTo(k,D,et,nt,xt,wt),W=xt,tt=wt}}}})}function Aa(i,e,t){if(!i||!e)return e;var r=t.done,a=t.during;qc(i,e),e.__morphT=0;function o(){ei(e,"buildPath"),ei(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Z({during:function(n){e.dirtyShape(),a&&a(n)},done:function(){o(),r&&r()}},t)),e}function $y(i,e,t,r,a,o){var n=16;i=a===t?0:Math.round(32767*(i-t)/(a-t)),e=o===r?0:Math.round(32767*(e-r)/(o-r));for(var s=0,l,u=(1<<n)/2;u>0;u/=2){var p=0,f=0;(i&u)>0&&(p=1),(e&u)>0&&(f=1),s+=u*u*(3*p^f),f===0&&(p===1&&(i=u-1-i,e=u-1-e),l=i,i=e,e=l)}return s}function Ma(i){var e=1/0,t=1/0,r=-1/0,a=-1/0,o=z(i,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),p=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(p,e),t=Math.min(f,t),r=Math.max(p,r),a=Math.max(f,a),[p,f]}),n=z(o,function(s,l){return{cp:s,z:$y(s[0],s[1],e,t,r,a),path:i[l]}});return n.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function $c(i){return Zc(i.path,i.count)}function Jn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Qc(i,e,t){var r=[];function a(_){for(var T=0;T<_.length;T++){var w=_[T];ri(w)?a(w.childrenRef()):w instanceof Yt&&r.push(w)}}a(i);var o=r.length;if(!o)return Jn();var n=t.dividePath||$c,s=n({path:e,count:o});if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),Jn();r=Ma(r),s=Ma(s);for(var l=t.done,u=t.during,p=t.individualDelay,f=new hi,h=0;h<o;h++){var c=r[h],v=s[h];v.parent=e,v.copyTransform(f),p||qc(c,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function d(_){for(var T=0;T<s.length;T++)s[T].addSelfToZr(_)}Ca(e,"addSelfToZr",{after:function(_){d(_)}}),Ca(e,"removeSelfFromZr",{after:function(_){for(var T=0;T<s.length;T++)s[T].removeSelfFromZr(_)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,ei(e,"addSelfToZr"),ei(e,"removeSelfFromZr")}var g=s.length;if(p)for(var x=g,y=function(){x--,x===0&&(m(),l&&l())},h=0;h<g;h++){var S=p?Z({delay:(t.delay||0)+p(h,g,r[h],s[h]),done:y},t):t;Aa(r[h],s[h],S)}else e.__morphT=0,e.animateTo({__morphT:1},Z({during:function(_){for(var T=0;T<g;T++){var w=s[T];w.__morphT=e.__morphT,w.dirtyShape()}u&&u(_)},done:function(){m();for(var _=0;_<i.length;_++)ei(i[_],"updateTransform");l&&l()}},t));return e.__zr&&d(e.__zr),{fromIndividuals:r,toIndividuals:s,count:g}}function Jc(i,e,t){var r=e.length,a=[],o=t.dividePath||$c;function n(c){for(var v=0;v<c.length;v++){var d=c[v];ri(d)?n(d.childrenRef()):d instanceof Yt&&a.push(d)}}if(ri(i)){n(i.childrenRef());var s=a.length;if(s<r)for(var l=0,u=s;u<r;u++)a.push(Ze(a[l++%s]));a.length=r}else{a=o({path:i,count:r});for(var p=i.getComputedTransform(),u=0;u<a.length;u++)a[u].setLocalTransform(p);if(a.length!==r)return console.error("Invalid morphing: unmatched splitted path"),Jn()}a=Ma(a),e=Ma(e);for(var f=t.individualDelay,u=0;u<r;u++){var h=f?Z({delay:(t.delay||0)+f(u,r,a[u],e[u])},t):t;Aa(a[u],e[u],h)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function tv(i){return P(i[0])}function ev(i,e){for(var t=[],r=i.length,a=0;a<r;a++)t.push({one:i[a],many:[]});for(var a=0;a<e.length;a++){var o=e[a].length,n=void 0;for(n=0;n<o;n++)t[n%r].many.push(e[a][n])}for(var s=0,a=r-1;a>=0;a--)if(!t[a].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var o=l.length,u=Math.ceil(o/2);t[a].many=l.slice(u,o),t[s].many=l.slice(0,u),s++}return t}var Qy={clone:function(i){for(var e=[],t=1-Math.pow(1-i.path.style.opacity,1/i.count),r=0;r<i.count;r++){var a=Ze(i.path);a.setStyle("opacity",t),e.push(a)}return e},split:null};function Ia(i,e,t,r,a,o){if(!i.length||!e.length)return;var n=br("update",r,a);if(!(n&&n.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},n),u,p;tv(i)&&(u=i,p=e),tv(e)&&(u=e,p=i);function f(g,x,y,S,_){var T=g.many,w=g.one;if(T.length===1&&!_){var M=x?T[0]:w,C=x?w:T[0];if(ri(M))f({many:[M],one:C},!0,y,S,!0);else{var I=s?Z({delay:s(y,S)},l):l;Aa(M,C,I),o(M,C,M,C,I)}}else for(var L=Z({dividePath:Qy[t],individualDelay:s&&function(tt,et,nt,xt){return s(tt+y,S)}},l),k=x?Qc(T,w,L):Jc(w,T,L),D=k.fromIndividuals,O=k.toIndividuals,F=D.length,W=0;W<F;W++){var I=s?Z({delay:s(W,F)},l):l;o(D[W],O[W],x?T[W]:g.one,x?g.one:T[W],I)}}for(var h=u?u===i:i.length>e.length,c=u?ev(p,u):ev(h?e:i,[h?i:e]),v=0,d=0;d<c.length;d++)v+=c[d].many.length;for(var m=0,d=0;d<c.length;d++)f(c[d],h,m,v),m+=c[d].many.length}function Se(i){if(!i)return[];if(P(i)){for(var e=[],t=0;t<i.length;t++)e.push(Se(i[t]));return e}var r=[];return i.traverse(function(a){a instanceof Yt&&!a.disableMorphing&&!a.invisible&&!a.ignore&&r.push(a)}),r}var uv=1e4,Jy=0,rv=1,iv=2,tx=j();function ex(i,e){for(var t=i.dimensions,r=0;r<t.length;r++){var a=i.getDimensionInfo(t[r]);if(a&&a.otherDims[e]===0)return t[r]}}function rx(i,e,t){var r=i.getDimensionInfo(t),a=r&&r.ordinalMeta;if(r){var o=i.get(r.name,e);return a&&a.categories[o]||o+""}}function av(i,e,t,r){var a=r?"itemChildGroupId":"itemGroupId",o=ex(i,a);if(o){var n=rx(i,e,o);return n}var s=i.getRawDataItem(e),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return t||i.getId(e)}function ov(i){var e=[];return b(i,function(t){var r=t.data,a=t.dataGroupId;if(!(r.count()>uv))for(var o=r.getIndices(),n=0;n<o.length;n++)e.push({data:r,groupId:av(r,n,a,!1),childGroupId:av(r,n,a,!0),divide:t.divide,dataIndex:n})}),e}function ts(i,e,t){i.traverse(function(r){r instanceof Yt&&Tr(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function es(i){if(i.parent){var e=i.getComputedTransform();i.setLocalTransform(e),i.parent.remove(i)}}function vr(i){i.stopAnimation(),i.isGroup&&i.traverse(function(e){e.stopAnimation()})}function ix(i,e,t){var r=br("update",t,e);r&&i.traverse(function(a){if(a instanceof vi){var o=cl(a);o&&a.animateFrom({style:o},r)}})}function ax(i,e){var t=i.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var a=i[r],o=e[r];if(a.data.getId(a.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}function pv(i,e,t){var r=ov(i),a=ov(e);function o(y,S,_,T,w){(_||y)&&S.animateFrom({style:_&&_!==y?N(N({},_.style),y.style):y.style},w)}var n=!1,s=Jy,l=$(),u=$();r.forEach(function(y){y.groupId&&l.set(y.groupId,!0),y.childGroupId&&u.set(y.childGroupId,!0)});for(var p=0;p<a.length;p++){var f=a[p].groupId;if(u.get(f)){s=rv;break}var h=a[p].childGroupId;if(h&&l.get(h)){s=iv;break}}function c(y,S){return function(_){var T=_.data,w=_.dataIndex;return S?T.getId(w):y?s===rv?_.childGroupId:_.groupId:s===iv?_.childGroupId:_.groupId}}var v=ax(r,a),d={};if(!v)for(var p=0;p<a.length;p++){var m=a[p],g=m.data.getItemGraphicEl(m.dataIndex);g&&(d[g.id]=!0)}function x(y,S){var _=r[S],T=a[y],w=T.data.hostModel,M=_.data.getItemGraphicEl(_.dataIndex),C=T.data.getItemGraphicEl(T.dataIndex);if(M===C){C&&ix(C,T.dataIndex,w);return}M&&d[M.id]||C&&(vr(C),M?(vr(M),es(M),n=!0,Ia(Se(M),Se(C),T.divide,w,y,o)):ts(C,w,y))}new Ar(r,a,c(!0,v),c(!1,v),null,"multiple").update(x).updateManyToOne(function(y,S){var _=a[y],T=_.data,w=T.hostModel,M=T.getItemGraphicEl(_.dataIndex),C=ut(z(S,function(I){return r[I].data.getItemGraphicEl(r[I].dataIndex)}),function(I){return I&&I!==M&&!d[I.id]});M&&(vr(M),C.length?(b(C,function(I){vr(I),es(I)}),n=!0,Ia(Se(C),Se(M),_.divide,w,y,o)):ts(M,w,_.dataIndex))}).updateOneToMany(function(y,S){var _=r[S],T=_.data.getItemGraphicEl(_.dataIndex);if(!(T&&d[T.id])){var w=ut(z(y,function(C){return a[C].data.getItemGraphicEl(a[C].dataIndex)}),function(C){return C&&C!==T}),M=a[y[0]].data.hostModel;w.length&&(b(w,function(C){return vr(C)}),T?(vr(T),es(T),n=!0,Ia(Se(T),Se(w),_.divide,M,y[0],o)):b(w,function(C){return ts(C,M,y[0])}))}}).updateManyToMany(function(y,S){new Ar(S,y,function(_){return r[_].data.getId(r[_].dataIndex)},function(_){return a[_].data.getId(a[_].dataIndex)}).update(function(_,T){x(y[_],S[T])}).execute()}).execute(),n&&b(e,function(y){var S=y.data,_=S.hostModel,T=_&&t.getViewOfSeriesModel(_),w=br("update",_,0);T&&_.isAnimationEnabled()&&w&&w.duration>0&&T.group.traverse(function(M){M instanceof Yt&&!M.animators.length&&M.animateFrom({style:{opacity:0}},w)})})}function nv(i){var e=i.getModel("universalTransition").get("seriesKey");return e||i.id}function sv(i){return P(i)?i.sort().join(","):i}function be(i){if(i.hostModel)return i.hostModel.getModel("universalTransition").get("divideShape")}function ox(i,e){var t=$(),r=$(),a=$();b(i.oldSeries,function(n,s){var l=i.oldDataGroupIds[s],u=i.oldData[s],p=nv(n),f=sv(p);r.set(f,{dataGroupId:l,data:u}),P(p)&&b(p,function(h){a.set(h,{key:f,dataGroupId:l,data:u})})});function o(n){t.get(n)&&Bs("Duplicated seriesKey in universalTransition "+n)}return b(e.updatedSeries,function(n){if(n.isUniversalTransitionEnabled()&&n.isAnimationEnabled()){var s=n.get("dataGroupId"),l=n.getData(),u=nv(n),p=sv(u),f=r.get(p);if(f)t.set(p,{oldSeries:[{dataGroupId:f.dataGroupId,divide:be(f.data),data:f.data}],newSeries:[{dataGroupId:s,divide:be(l),data:l}]});else if(P(u)){var h=[];b(u,function(d){var m=r.get(d);m.data&&h.push({dataGroupId:m.dataGroupId,divide:be(m.data),data:m.data})}),h.length&&t.set(p,{oldSeries:h,newSeries:[{dataGroupId:s,data:l,divide:be(l)}]})}else{var c=a.get(u);if(c){var v=t.get(c.key);v||(v={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:be(c.data)}],newSeries:[]},t.set(c.key,v)),v.newSeries.push({dataGroupId:s,data:l,divide:be(l)})}}}}),t}function lv(i,e){for(var t=0;t<i.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===i[t].seriesIndex||e.seriesId!=null&&e.seriesId===i[t].id;if(r)return t}}function nx(i,e,t,r){var a=[],o=[];b(Lt(i.from),function(n){var s=lv(e.oldSeries,n);s>=0&&a.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:be(e.oldData[s]),groupIdDim:n.dimension})}),b(Lt(i.to),function(n){var s=lv(t.updatedSeries,n);if(s>=0){var l=t.updatedSeries[s].getData();o.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:be(l),groupIdDim:n.dimension})}}),a.length>0&&o.length>0&&pv(a,o,r)}function rs(i){i.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){b(Lt(r.seriesTransition),function(a){b(Lt(a.to),function(o){for(var n=r.updatedSeries,s=0;s<n.length;s++)(o.seriesIndex!=null&&o.seriesIndex===n[s].seriesIndex||o.seriesId!=null&&o.seriesId===n[s].id)&&(n[s][wi]=!0)})})}),i.registerUpdateLifecycle("series:transition",function(e,t,r){var a=tx(t);if(a.oldSeries&&r.updatedSeries&&r.optionChanged){var o=r.seriesTransition;if(o)b(Lt(o),function(c){nx(c,a,r,t)});else{var n=ox(a,r);b(n.keys(),function(c){var v=n.get(c);pv(v.oldSeries,v.newSeries,t)})}b(r.updatedSeries,function(c){c[wi]&&(c[wi]=!1)})}for(var s=e.getSeries(),l=a.oldSeries=[],u=a.oldDataGroupIds=[],p=a.oldData=[],f=0;f<s.length;f++){var h=s[f].getData();h.count()<uv&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),p.push(h))}})}E([Io]);E([Ao]);E([eu,ru,iu,pu,fu,cu,vu,du,gu,yu,xu,Tu,wu,Cu,Mu,Au,Iu,Du,Lu,Pu,zu,Nu]);E(Oo);E(Ho);E(to);E(Wo);E(eo);E(Yo);E(Ko);E(on);E(un);E(Ft);E(dn);E(mn);E(_n);E(Mn);E(In);E(Dn);E(Vn);E(Gn);E(Kr);E($r);E(Zn);E(Jr);E(ti);E(Kn);E(qn);E($n);E(rs);E(oo);export{Rt as Axis,hx as ChartView,Q as ComponentModel,J as ComponentView,Bt as List,At as Model,mx as PRIORITY,fx as SeriesModel,hv as color,yx as connect,Nx as dataTool,dx as dependencies,_x as disConnect,xx as disconnect,Sx as dispose,lt as env,qx as extendChartView,Xx as extendComponentModel,Kx as extendComponentView,jx as extendSeriesModel,Zx as format,Px as getCoordinateSystemDimensions,bx as getInstanceByDom,Tx as getInstanceById,Vx as getMap,Wx as graphic,Bx as helper,gx as init,Bl as innerDrawElementOnCanvas,Oa as matrix,Gx as number,Hx as parseGeoJSON,Hx as parseGeoJson,Qe as registerAction,Lx as registerCoordinateSystem,zx as registerLayout,Rx as registerLoading,px as registerLocale,Ox as registerMap,Ax as registerPostInit,Ix as registerPostUpdate,Cx as registerPreprocessor,Mx as registerProcessor,wx as registerTheme,Ux as registerTransform,Dx as registerUpdateLifecycle,kx as registerVisual,Ex as setCanvasCreator,sx as setPlatformAPI,cx as throttle,Fx as time,E as use,Yx as util,lx as vector,vx as version,U as zrUtil,ux as zrender};
