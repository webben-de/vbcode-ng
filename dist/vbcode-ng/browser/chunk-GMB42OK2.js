import{a as l}from"./chunk-GPERB25D.js";import{B as o,C as c,x as n}from"./chunk-47XNO6PC.js";import{ga as i,ma as s}from"./chunk-VMVCLMWB.js";import{g as t}from"./chunk-GAL4ENT6.js";var b=(()=>{class a{supabase=s(c).supabase;playerService=s(l);user_player=n(o.user_player);getEventsOfPlayer(){return t(this,null,function*(){let e=this.user_player()?.id;return e||(e=(yield this.playerService.getMyPlayer()).id),(yield this.supabase.from("events").select("*").contains("attendees",[e])).data})}deleteEvent(e){return t(this,null,function*(){return(yield this.supabase.from("events").delete().eq("id",e)).data})}getEvent(e){return t(this,null,function*(){return(yield this.supabase.from("events").select("*").eq("id",e).limit(1).single()).data})}getEvents(){return t(this,null,function*(){return(yield this.supabase.from("events").select("*, home_team (*), away_team (*)")).data})}createEvent(e){return t(this,null,function*(){e?.id===null&&(e.id=void 0);try{return e.id?yield this.supabase.from("events").upsert(e):yield this.supabase.from("events").insert(e)}catch(r){throw console.error(r),new Error(r)}})}static \u0275fac=function(r){return new(r||a)};static \u0275prov=i({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();export{b as a};
