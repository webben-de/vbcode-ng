import{$ as Ue,$a as _a,$c as za,Aa as An,Ab as In,Ba as Lt,Da as ft,Eb as bs,F as Y,Fa as ga,Fb as yt,Ga as gs,Gb as Fa,H as me,Hb as Ss,I as je,Ib as On,Ja as pt,Jb as Es,K as kt,Ka as jt,L as Re,La as ms,Lb as xa,Ma as Ut,N as aa,O as ca,Oa as ma,P as Nt,Pa as vs,Q as Ke,Qa as va,R as ps,Ra as $t,S as ua,T as la,Ta as ys,Tc as $a,Ua as ws,V as da,Va as Ds,Vb as ka,Vc as Cs,Wa as gt,Wc as re,X as dt,Xa as Bt,Xc as Nr,Ya as ya,Z as Fr,Za as wa,Zc as Ba,_ as X,_a as Da,a as ra,ab as ba,b as ls,ba as z,bb as Sa,c as ia,cb as Ea,cc as oe,d as Ce,da as C,db as mt,dc as $,dd as wt,e as ds,ea as ht,ec as Na,f as hs,fb as Ca,fd as Va,g as Z,gd as Mn,h as J,ha as D,hb as zt,i as En,ia as Ye,ib as Ra,ja as ha,jb as Ta,jc as La,k as ge,ka as S,kb as _s,kd as Ga,l as xt,la as v,lb as vt,lc as ja,m as se,ma as g,mb as W,mc as Ua,na as Tn,nb as Aa,o as H,oa as fa,p as b,pa as $e,pb as Ia,q as Le,qa as pa,qb as Vt,r as Cn,ra as Be,rb as U,s as sa,sa as ne,sb as Oa,t as T,tb as xr,u as Mr,v as q,vb as Ma,w as Rn,wb as kr,x as oa,xa as ze,xb as Pa,y as Pr,ya as L,yb as Je,z as fs,za as Ze,zb as Xe}from"./chunk-BYLMW57F.js";import{b as Lr,c as Ha}from"./chunk-SECEFDB3.js";import{a as m,b as j,i as h}from"./chunk-GK2WYAVW.js";var Ka=null;function Te(){return Ka}function Rs(r){Ka??=r}var Pn=class{},Fn=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>g(Ya),providedIn:"platform"})}return r})(),Ts=new S(""),Ya=(()=>{class r extends Fn{_location;_history;_doc=g(L);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Te().getBaseHref(this._doc)}onPopState(e){let n=Te().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Te().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,i){this._history.pushState(e,n,i)}replaceState(e,n,i){this._history.replaceState(e,n,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>new r,providedIn:"platform"})}return r})();function jr(r,t){return r?t?r.endsWith("/")?t.startsWith("/")?r+t.slice(1):r+t:t.startsWith("/")?r+t:`${r}/${t}`:r:t}function qa(r){let t=r.search(/#|\?|$/);return r[t-1]==="/"?r.slice(0,t-1)+r.slice(t):r}function ve(r){return r&&r[0]!=="?"?`?${r}`:r}var we=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>g($r),providedIn:"root"})}return r})(),Ur=new S(""),$r=(()=>{class r extends we{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??g(L).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return jr(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,s){let o=this.prepareExternalUrl(i+ve(s));this._platformLocation.pushState(e,n,o)}replaceState(e,n,i,s){let o=this.prepareExternalUrl(i+ve(s));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||r)(v(Fn),v(Ur,8))};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Qe=(()=>{class r{_subject=new Z;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=rd(qa(Wa(n))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+ve(n))}normalize(e){return r.stripTrailingSlash(nd(this._basePath,Wa(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(n)),i)}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n))}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n??void 0,complete:i??void 0})}static normalizeQueryParams=ve;static joinWithSlash=jr;static stripTrailingSlash=qa;static \u0275fac=function(n){return new(n||r)(v(we))};static \u0275prov=D({token:r,factory:()=>td(),providedIn:"root"})}return r})();function td(){return new Qe(v(we))}function nd(r,t){if(!r||!t.startsWith(r))return t;let e=t.substring(r.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Wa(r){return r.replace(/\/index.html$/,"")}function rd(r){if(new RegExp("^(https?:)?//").test(r)){let[,e]=r.split(/\/\/[^\/]+/);return e}return r}var Ns=(()=>{class r extends we{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=jr(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,s){let o=this.prepareExternalUrl(i+ve(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,n,o)}replaceState(e,n,i,s){let o=this.prepareExternalUrl(i+ve(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||r)(v(Fn),v(Ur,8))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})();var Ls=(function(r){return r[r.Decimal=0]="Decimal",r[r.Percent=1]="Percent",r[r.Currency=2]="Currency",r[r.Scientific=3]="Scientific",r})(Ls||{});var Q=(function(r){return r[r.Format=0]="Format",r[r.Standalone=1]="Standalone",r})(Q||{}),F=(function(r){return r[r.Narrow=0]="Narrow",r[r.Abbreviated=1]="Abbreviated",r[r.Wide=2]="Wide",r[r.Short=3]="Short",r})(F||{}),ie=(function(r){return r[r.Short=0]="Short",r[r.Medium=1]="Medium",r[r.Long=2]="Long",r[r.Full=3]="Full",r})(ie||{}),ee={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Qa(r){return oe(r)[$.LocaleId]}function ec(r,t,e){let n=oe(r),i=[n[$.DayPeriodsFormat],n[$.DayPeriodsStandalone]],s=de(i,t);return de(s,e)}function tc(r,t,e){let n=oe(r),i=[n[$.DaysFormat],n[$.DaysStandalone]],s=de(i,t);return de(s,e)}function nc(r,t,e){let n=oe(r),i=[n[$.MonthsFormat],n[$.MonthsStandalone]],s=de(i,t);return de(s,e)}function rc(r,t){let n=oe(r)[$.Eras];return de(n,t)}function xn(r,t){let e=oe(r);return de(e[$.DateFormat],t)}function kn(r,t){let e=oe(r);return de(e[$.TimeFormat],t)}function Nn(r,t){let n=oe(r)[$.DateTimeFormat];return de(n,t)}function _e(r,t){let e=oe(r),n=e[$.NumberSymbols][t];if(typeof n>"u"){if(t===ee.CurrencyDecimal)return e[$.NumberSymbols][ee.Decimal];if(t===ee.CurrencyGroup)return e[$.NumberSymbols][ee.Group]}return n}function ic(r,t){return oe(r)[$.NumberFormats][t]}function sc(r){if(!r[$.ExtraData])throw new C(2303,!1)}function oc(r){let t=oe(r);return sc(t),(t[$.ExtraData][2]||[]).map(n=>typeof n=="string"?As(n):[As(n[0]),As(n[1])])}function ac(r,t,e){let n=oe(r);sc(n);let i=[n[$.ExtraData][0],n[$.ExtraData][1]],s=de(i,t)||[];return de(s,e)||[]}function de(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new C(2304,!1)}function As(r){let[t,e]=r.split(":");return{hours:+t,minutes:+e}}var id=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Br={},sd=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function cc(r,t,e,n){let i=pd(r);t=Ve(e,t)||t;let o=[],a;for(;t;)if(a=sd.exec(t),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;t=l}else{o.push(t);break}let c=i.getTimezoneOffset();n&&(c=lc(n,c),i=fd(i,n));let u="";return o.forEach(l=>{let d=dd(l);u+=d?d(i,e,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function qr(r,t,e){let n=new Date(0);return n.setFullYear(r,t,e),n.setHours(0,0,0),n}function Ve(r,t){let e=Qa(r);if(Br[e]??={},Br[e][t])return Br[e][t];let n="";switch(t){case"shortDate":n=xn(r,ie.Short);break;case"mediumDate":n=xn(r,ie.Medium);break;case"longDate":n=xn(r,ie.Long);break;case"fullDate":n=xn(r,ie.Full);break;case"shortTime":n=kn(r,ie.Short);break;case"mediumTime":n=kn(r,ie.Medium);break;case"longTime":n=kn(r,ie.Long);break;case"fullTime":n=kn(r,ie.Full);break;case"short":let i=Ve(r,"shortTime"),s=Ve(r,"shortDate");n=zr(Nn(r,ie.Short),[i,s]);break;case"medium":let o=Ve(r,"mediumTime"),a=Ve(r,"mediumDate");n=zr(Nn(r,ie.Medium),[o,a]);break;case"long":let c=Ve(r,"longTime"),u=Ve(r,"longDate");n=zr(Nn(r,ie.Long),[c,u]);break;case"full":let l=Ve(r,"fullTime"),d=Ve(r,"fullDate");n=zr(Nn(r,ie.Full),[l,d]);break}return n&&(Br[e][t]=n),n}function zr(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,n){return t!=null&&n in t?t[n]:e})),r}function De(r,t,e="-",n,i){let s="";(r<0||i&&r<=0)&&(i?r=-r+1:(r=-r,s=e));let o=String(r);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function od(r,t){return De(r,3).substring(0,t)}function B(r,t,e=0,n=!1,i=!1){return function(s,o){let a=ad(r,s);if((e>0||a>-e)&&(a+=e),r===3)a===0&&e===-12&&(a=12);else if(r===6)return od(a,t);let c=_e(o,ee.MinusSign);return De(a,t,c,n,i)}}function ad(r,t){switch(r){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new C(2301,!1)}}function x(r,t,e=Q.Format,n=!1){return function(i,s){return cd(i,s,r,t,e,n)}}function cd(r,t,e,n,i,s){switch(e){case 2:return nc(t,i,n)[r.getMonth()];case 1:return tc(t,i,n)[r.getDay()];case 0:let o=r.getHours(),a=r.getMinutes();if(s){let u=oc(t),l=ac(t,i,n),d=u.findIndex(p=>{if(Array.isArray(p)){let[f,y]=p,_=o>=f.hours&&a>=f.minutes,w=o<y.hours||o===y.hours&&a<y.minutes;if(f.hours<y.hours){if(_&&w)return!0}else if(_||w)return!0}else if(p.hours===o&&p.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return ec(t,i,n)[o<12?0:1];case 3:return rc(t,n)[r.getFullYear()<=0?0:1];default:let c=e;throw new C(2302,!1)}}function Vr(r){return function(t,e,n){let i=-1*n,s=_e(e,ee.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(r){case 0:return(i>=0?"+":"")+De(o,2,s)+De(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+De(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+De(o,2,s)+":"+De(Math.abs(i%60),2,s);case 3:return n===0?"Z":(i>=0?"+":"")+De(o,2,s)+":"+De(Math.abs(i%60),2,s);default:throw new C(2310,!1)}}}var ud=0,Hr=4;function ld(r){let t=qr(r,ud,1).getDay();return qr(r,0,1+(t<=Hr?Hr:Hr+7)-t)}function uc(r){let t=r.getDay(),e=t===0?-3:Hr-t;return qr(r.getFullYear(),r.getMonth(),r.getDate()+e)}function Is(r,t=!1){return function(e,n){let i;if(t){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{let s=uc(e),o=ld(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return De(i,r,_e(n,ee.MinusSign))}}function Gr(r,t=!1){return function(e,n){let s=uc(e).getFullYear();return De(s,r,_e(n,ee.MinusSign),t)}}var Os={};function dd(r){if(Os[r])return Os[r];let t;switch(r){case"G":case"GG":case"GGG":t=x(3,F.Abbreviated);break;case"GGGG":t=x(3,F.Wide);break;case"GGGGG":t=x(3,F.Narrow);break;case"y":t=B(0,1,0,!1,!0);break;case"yy":t=B(0,2,0,!0,!0);break;case"yyy":t=B(0,3,0,!1,!0);break;case"yyyy":t=B(0,4,0,!1,!0);break;case"Y":t=Gr(1);break;case"YY":t=Gr(2,!0);break;case"YYY":t=Gr(3);break;case"YYYY":t=Gr(4);break;case"M":case"L":t=B(1,1,1);break;case"MM":case"LL":t=B(1,2,1);break;case"MMM":t=x(2,F.Abbreviated);break;case"MMMM":t=x(2,F.Wide);break;case"MMMMM":t=x(2,F.Narrow);break;case"LLL":t=x(2,F.Abbreviated,Q.Standalone);break;case"LLLL":t=x(2,F.Wide,Q.Standalone);break;case"LLLLL":t=x(2,F.Narrow,Q.Standalone);break;case"w":t=Is(1);break;case"ww":t=Is(2);break;case"W":t=Is(1,!0);break;case"d":t=B(2,1);break;case"dd":t=B(2,2);break;case"c":case"cc":t=B(7,1);break;case"ccc":t=x(1,F.Abbreviated,Q.Standalone);break;case"cccc":t=x(1,F.Wide,Q.Standalone);break;case"ccccc":t=x(1,F.Narrow,Q.Standalone);break;case"cccccc":t=x(1,F.Short,Q.Standalone);break;case"E":case"EE":case"EEE":t=x(1,F.Abbreviated);break;case"EEEE":t=x(1,F.Wide);break;case"EEEEE":t=x(1,F.Narrow);break;case"EEEEEE":t=x(1,F.Short);break;case"a":case"aa":case"aaa":t=x(0,F.Abbreviated);break;case"aaaa":t=x(0,F.Wide);break;case"aaaaa":t=x(0,F.Narrow);break;case"b":case"bb":case"bbb":t=x(0,F.Abbreviated,Q.Standalone,!0);break;case"bbbb":t=x(0,F.Wide,Q.Standalone,!0);break;case"bbbbb":t=x(0,F.Narrow,Q.Standalone,!0);break;case"B":case"BB":case"BBB":t=x(0,F.Abbreviated,Q.Format,!0);break;case"BBBB":t=x(0,F.Wide,Q.Format,!0);break;case"BBBBB":t=x(0,F.Narrow,Q.Format,!0);break;case"h":t=B(3,1,-12);break;case"hh":t=B(3,2,-12);break;case"H":t=B(3,1);break;case"HH":t=B(3,2);break;case"m":t=B(4,1);break;case"mm":t=B(4,2);break;case"s":t=B(5,1);break;case"ss":t=B(5,2);break;case"S":t=B(6,1);break;case"SS":t=B(6,2);break;case"SSS":t=B(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Vr(0);break;case"ZZZZZ":t=Vr(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Vr(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Vr(2);break;default:return null}return Os[r]=t,t}function lc(r,t){r=r.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function hd(r,t){return r=new Date(r.getTime()),r.setMinutes(r.getMinutes()+t),r}function fd(r,t,e){let i=r.getTimezoneOffset(),s=lc(t,i);return hd(r,-1*(s-i))}function pd(r){if(Za(r))return r;if(typeof r=="number"&&!isNaN(r))return new Date(r);if(typeof r=="string"){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){let[i,s=1,o=1]=r.split("-").map(a=>+a);return qr(i,s-1,o)}let e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let n;if(n=r.match(id))return gd(n)}let t=new Date(r);if(!Za(t))throw new C(2311,!1);return t}function gd(r){let t=new Date(0),e=0,n=0,i=r[8]?t.setUTCFullYear:t.setFullYear,s=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),n=Number(r[9]+r[11])),i.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));let o=Number(r[4]||0)-e,a=Number(r[5]||0)-n,c=Number(r[6]||0),u=Math.floor(parseFloat("0."+(r[7]||0))*1e3);return s.call(t,o,a,c,u),t}function Za(r){return r instanceof Date&&!isNaN(r.valueOf())}var md=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ja=22,Wr=".",Ln="0",vd=";",yd=",",Ms="#";var wd="%";function Dd(r,t,e,n,i,s,o=!1){let a="",c=!1;if(!isFinite(r))a=_e(e,ee.Infinity);else{let u=Sd(r);o&&(u=bd(u));let l=t.minInt,d=t.minFrac,p=t.maxFrac;if(s){let M=s.match(md);if(M===null)throw new C(2306,!1);let N=M[1],I=M[3],G=M[5];N!=null&&(l=Ps(N)),I!=null&&(d=Ps(I)),G!=null?p=Ps(G):I!=null&&d>p&&(p=d)}Ed(u,d,p);let f=u.digits,y=u.integerLen,_=u.exponent,w=[];for(c=f.every(M=>!M);y<l;y++)f.unshift(0);for(;y<0;y++)f.unshift(0);y>0?w=f.splice(y,f.length):(w=f,f=[0]);let E=[];for(f.length>=t.lgSize&&E.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)E.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&E.unshift(f.join("")),a=E.join(_e(e,n)),w.length&&(a+=_e(e,i)+w.join("")),_&&(a+=_e(e,ee.Exponential)+"+"+_)}return r<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function dc(r,t,e){let n=ic(t,Ls.Percent),i=_d(n,_e(t,ee.MinusSign));return Dd(r,i,t,ee.Group,ee.Decimal,e,!0).replace(new RegExp(wd,"g"),_e(t,ee.PercentSign))}function _d(r,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=r.split(vd),i=n[0],s=n[1],o=i.indexOf(Wr)!==-1?i.split(Wr):[i.substring(0,i.lastIndexOf(Ln)+1),i.substring(i.lastIndexOf(Ln)+1)],a=o[0],c=o[1]||"";e.posPre=a.substring(0,a.indexOf(Ms));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===Ln?e.minFrac=e.maxFrac=l+1:d===Ms?e.maxFrac=l+1:e.posSuf+=d}let u=a.split(yd);if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=i.length-e.posPre.length-e.posSuf.length,d=s.indexOf(Ms);e.negPre=s.substring(0,d).replace(/'/g,""),e.negSuf=s.slice(d+l).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function bd(r){if(r.digits[0]===0)return r;let t=r.digits.length-r.integerLen;return r.exponent?r.exponent+=2:(t===0?r.digits.push(0,0):t===1&&r.digits.push(0),r.integerLen+=2),r}function Sd(r){let t=Math.abs(r)+"",e=0,n,i,s,o,a;for((i=t.indexOf(Wr))>-1&&(t=t.replace(Wr,"")),(s=t.search(/e/i))>0?(i<0&&(i=s),i+=+t.slice(s+1),t=t.substring(0,s)):i<0&&(i=t.length),s=0;t.charAt(s)===Ln;s++);if(s===(a=t.length))n=[0],i=1;else{for(a--;t.charAt(a)===Ln;)a--;for(i-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(t.charAt(s))}return i>Ja&&(n=n.splice(0,Ja-1),e=i-1,i=1),{digits:n,exponent:e,integerLen:i}}function Ed(r,t,e){if(t>e)throw new C(2307,!1);let n=r.digits,i=n.length-r.integerLen,s=Math.min(Math.max(t,i),e),o=s+r.integerLen,a=n[o];if(o>0){n.splice(Math.max(r.integerLen,o));for(let d=o;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),r.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let d=1;d<o;d++)n[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)n.unshift(0),r.integerLen++;n.unshift(1),r.integerLen++}else n[o-1]++;for(;i<Math.max(0,s);i++)n.push(0);let c=s!==0,u=t+r.integerLen,l=n.reduceRight(function(d,p,f,y){return p=p+d,y[f]=p<10?p:p-10,c&&(y[f]===0&&f>=u?y.pop():c=!1),p>=10?1:0},0);l&&(n.unshift(l),r.integerLen++)}function Ps(r){let t=parseInt(r);if(isNaN(t))throw new C(2305,!1);return t}var Fs=/\s+/,Xa=[],Cd=(()=>{class r{_ngEl;_renderer;initialClasses=Xa;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(Fs):Xa}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Fs):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==n&&(i.changed=!0,i.enabled=n),i.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],i=e[1];i.changed?(this._toggleClass(n,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),i.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(Fs).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(n){return new(n||r)(U(Ut),U(Vt))};static \u0275dir=Xe({type:r,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return r})();var Rd=(()=>{class r{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,i):!1,get:(e,n,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,i)}})}static \u0275fac=function(n){return new(n||r)(U(xr))};static \u0275dir=Xe({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[pt]})}return r})();function js(r,t){return new C(2100,!1)}var xs=class{createSubscription(t,e,n){return re(()=>t.subscribe({next:e,error:n}))}dispose(t){re(()=>t.unsubscribe())}},ks=class{createSubscription(t,e,n){return t.then(i=>e?.(i),i=>n?.(i)),{unsubscribe:()=>{e=null,n=null}}}dispose(t){t.unsubscribe()}},Td=new ks,Ad=new xs,Id=(()=>{class r{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=g(Lt);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n),n=>this.applicationErrorHandler(n))}_selectStrategy(e){if(yt(e))return Td;if(Fa(e))return Ad;throw js(r,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||r)(U(wt,16))};static \u0275pipe=In({name:"async",type:r,pure:!1})}return r})();var Od="mediumDate",hc=new S(""),fc=new S(""),Md=(()=>{class r{locale;defaultTimezone;defaultOptions;constructor(e,n,i){this.locale=e,this.defaultTimezone=n,this.defaultOptions=i}transform(e,n,i,s){if(e==null||e===""||e!==e)return null;try{let o=n??this.defaultOptions?.dateFormat??Od,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return cc(e,o,s||this.locale,a)}catch(o){throw js(r,o.message)}}static \u0275fac=function(n){return new(n||r)(U(Cs,16),U(hc,24),U(fc,24))};static \u0275pipe=In({name:"date",type:r,pure:!0})}return r})();var Pd=(()=>{class r{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(n){return new(n||r)};static \u0275pipe=In({name:"json",type:r,pure:!1})}return r})();var Fd=(()=>{class r{_locale;constructor(e){this._locale=e}transform(e,n,i){if(!xd(e))return null;i||=this._locale;try{let s=kd(e);return dc(s,i,n)}catch(s){throw js(r,s.message)}}static \u0275fac=function(n){return new(n||r)(U(Cs,16))};static \u0275pipe=In({name:"percent",type:r,pure:!0})}return r})();function xd(r){return!(r==null||r===""||r!==r)}function kd(r){if(typeof r=="string"&&!isNaN(Number(r)-parseFloat(r)))return Number(r);if(typeof r!="number")throw new C(2309,!1);return r}var pc=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Je({type:r});static \u0275inj=Ye({})}return r})();function jn(r,t){t=encodeURIComponent(t);for(let e of r.split(";")){let n=e.indexOf("="),[i,s]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var Dt=class{};var $s="browser",Ud="server";function wv(r){return r===$s}function gc(r){return r===Ud}var Bs=(()=>{class r{static \u0275prov=D({token:r,providedIn:"root",factory:()=>new Us(g(L),window)})}return r})(),Us=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(j(m({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let n=$d(this.document,t);n&&(this.scrollToElement(n,e),n.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(ht(2400,!1))}}scrollToElement(t,e){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(j(m({},e),{left:i-o[0],top:s-o[1]}))}};function $d(r,t){let e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if(typeof r.createTreeWalker=="function"&&r.body&&typeof r.body.attachShadow=="function"){let n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=n.nextNode()}}return null}var Un=class{_doc;constructor(t){this._doc=t}manager},Kr=(()=>{class r extends Un{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i,s){return e.addEventListener(n,i,s),()=>this.removeEventListener(e,n,i,s)}removeEventListener(e,n,i,s){return e.removeEventListener(n,i,s)}static \u0275fac=function(n){return new(n||r)(v(L))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})(),Zr=new S(""),qs=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(o=>{o.manager=this});let i=e.filter(o=>!(o instanceof Kr));this._plugins=i.slice().reverse();let s=e.find(o=>o instanceof Kr);s&&this._plugins.push(s)}addEventListener(e,n,i,s){return this._findPluginFor(n).addEventListener(e,n,i,s)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new C(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||r)(v(Zr),v(W))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})(),zs="ng-app-id";function mc(r){for(let t of r)t.remove()}function vc(r,t){let e=t.createElement("style");return e.textContent=r,e}function zd(r,t,e,n){let i=r.head?.querySelectorAll(`style[${zs}="${t}"],link[${zs}="${t}"]`);if(i)for(let s of i)s.removeAttribute(zs),s instanceof HTMLLinkElement?n.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Gs(r,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var Ws=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,i,s={}){this.doc=e,this.appId=n,this.nonce=i,zd(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let i of e)this.addUsage(i,this.inline,vc);n?.forEach(i=>this.addUsage(i,this.external,Gs))}removeStyles(e,n){for(let i of e)this.removeUsage(i,this.inline);n?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,n,i){let s=n.get(e);s?s.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,n){let i=n.get(e);i&&(i.usage--,i.usage<=0&&(mc(i.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])mc(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:i}]of this.inline)i.push(this.addElement(e,vc(n,this.doc)));for(let[n,{elements:i}]of this.external)i.push(this.addElement(e,Gs(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||r)(v(L),v(vs),v(ys,8),v($t))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})(),Vs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ks=/%COMP%/g;var wc="%COMP%",Vd=`_nghost-${wc}`,Gd=`_ngcontent-${wc}`,Hd=!0,qd=new S("",{providedIn:"root",factory:()=>Hd});function Wd(r){return Gd.replace(Ks,r)}function Kd(r){return Vd.replace(Ks,r)}function Dc(r,t){return t.map(e=>e.replace(Ks,r))}var Ys=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,i,s,o,a,c=null,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new $n(e,o,a,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,n);return i instanceof Yr?i.applyToHost(e):i instanceof Bn&&i.applyStyles(),i}getOrCreateRenderer(e,n){let i=this.rendererByCompId,s=i.get(n.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(n.encapsulation){case Ds.Emulated:s=new Yr(c,u,n,this.appId,l,o,a,d,p);break;case Ds.ShadowDom:return new Hs(c,u,e,n,o,a,this.nonce,d,p);default:s=new Bn(c,u,n,l,o,a,d,p);break}i.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||r)(v(qs),v(Ws),v(vs),v(qd),v(L),v(W),v(ys),v(Ta,8))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})(),$n=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,i,s){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Vs[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(yc(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(yc(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new C(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;let s=Vs[i];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let i=Vs[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(zt.DashCase|zt.Important)?t.style.setProperty(e,n,i&zt.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&zt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,i){if(typeof t=="string"&&(t=Te().getGlobalEventTarget(this.doc,t),!t))throw new C(5102,!1);let s=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function yc(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var Hs=class extends $n{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,i,s,o,a,c,u){super(t,s,o,c,u),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=Dc(i.id,l);for(let p of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Gs(p,s);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bn=class extends $n{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,i,s,o,a,c,u){super(t,s,o,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let l=n.styles;this.styles=u?Dc(u,l):l,this.styleUrls=n.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ra.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yr=class extends Bn{contentAttr;hostAttr;constructor(t,e,n,i,s,o,a,c,u){let l=i+"-"+n.id;super(t,e,n,s,o,a,c,u,l),this.contentAttr=Wd(l),this.hostAttr=Kd(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var Jr=class r extends Pn{supportsDOMEvents=!0;static makeCurrent(){Rs(new r)}onAndCancel(t,e,n,i){return t.addEventListener(e,n,i),()=>{t.removeEventListener(e,n,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Zd();return e==null?null:Jd(e)}resetBaseElement(){zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jn(document.cookie,t)}},zn=null;function Zd(){return zn=zn||document.head.querySelector("base"),zn?zn.getAttribute("href"):null}function Jd(r){return new URL(r,document.baseURI).pathname}var Xd=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})(),_c=["alt","control","meta","shift"],Qd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eh={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},bc=(()=>{class r extends Un{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,n,i,s){let o=r.parseEventName(n),a=r.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Te().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let n=e.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let s=r._normalizeKey(n.pop()),o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),_c.forEach(u=>{let l=n.indexOf(u);l>-1&&(n.splice(l,1),o+=u+".")}),o+=s,n.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(e,n){let i=Qd[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_c.forEach(o=>{if(o!==i){let a=eh[o];a(e)&&(s+=o+".")}}),s+=i,s===n)}static eventCallback(e,n,i){return s=>{r.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>n(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||r)(v(L))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})();function th(r,t,e){let n=m({rootComponent:r,platformRef:e?.platformRef},nh(t));return Va(n)}function nh(r){return{appProviders:[...ah,...r?.providers??[]],platformProviders:oh}}function rh(){Jr.makeCurrent()}function ih(){return new An}function sh(){return ma(document),document}var oh=[{provide:$t,useValue:$s},{provide:va,useValue:rh,multi:!0},{provide:L,useFactory:sh}];var ah=[{provide:pa,useValue:"root"},{provide:An,useFactory:ih},{provide:Zr,useClass:Kr,multi:!0,deps:[L]},{provide:Zr,useClass:bc,multi:!0,deps:[L]},Ys,Ws,qs,{provide:Ia,useExisting:Ys},{provide:Dt,useClass:Xd},[]];var qt=class{},Vn=class{},et=class r{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let i=e.slice(0,n),s=e.slice(n+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new r;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Qr=class{encodeKey(t){return Sc(t)}encodeValue(t){return Sc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function ch(r,t){let e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],c=e.get(o)||[];c.push(a),e.set(o,c)}),e}var uh=/%(\d[a-f0-9])/gi,lh={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sc(r){return encodeURIComponent(r).replace(uh,(t,e)=>lh[e]??t)}function Xr(r){return`${r}`}var Ge=class r{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Qr,t.fromString){if(t.fromObject)throw new C(2805,!1);this.map=ch(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],i=Array.isArray(n)?n.map(Xr):[Xr(n)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let i=t[n];Array.isArray(i)?i.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new r({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Xr(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],i=n.indexOf(Xr(t.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var ei=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function dh(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ec(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Cc(r){return typeof Blob<"u"&&r instanceof Blob}function Rc(r){return typeof FormData<"u"&&r instanceof FormData}function hh(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var Tc="Content-Type",Ac="Accept",Ic="X-Request-URL",Oc="text/plain",Mc="application/json",fh=`${Mc}, ${Oc}, */*`,Gt=class r{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,n,i){this.url=e,this.method=t.toUpperCase();let s;if(dh(this.method)||i?(this.body=n!==void 0?n:null,s=i):s=n,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new C(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),this.transferCache=s.transferCache}if(this.headers??=new et,this.context??=new ei,!this.params)this.params=new Ge,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ec(this.body)||Cc(this.body)||Rc(this.body)||hh(this.body)?this.body:this.body instanceof Ge?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Rc(this.body)?null:Cc(this.body)?this.body.type||null:Ec(this.body)?null:typeof this.body=="string"?Oc:this.body instanceof Ge?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Mc:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,s=t.keepalive??this.keepalive,o=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,l=t.credentials||this.credentials,d=t.referrer||this.referrer,p=t.integrity||this.integrity,f=t.transferCache??this.transferCache,y=t.timeout??this.timeout,_=t.body!==void 0?t.body:this.body,w=t.withCredentials??this.withCredentials,E=t.reportProgress??this.reportProgress,M=t.headers||this.headers,N=t.params||this.params,I=t.context??this.context;return t.setHeaders!==void 0&&(M=Object.keys(t.setHeaders).reduce((G,lt)=>G.set(lt,t.setHeaders[lt]),M)),t.setParams&&(N=Object.keys(t.setParams).reduce((G,lt)=>G.set(lt,t.setParams[lt]),N)),new r(e,n,_,{params:N,headers:M,context:I,reportProgress:E,responseType:i,withCredentials:w,transferCache:f,keepalive:s,cache:a,priority:o,timeout:y,mode:c,redirect:u,credentials:l,referrer:d,integrity:p})}},_t=(function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r})(_t||{}),Wt=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,n="OK"){this.headers=t.headers||new et,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},ti=class r extends Wt{constructor(t={}){super(t)}type=_t.ResponseHeader;clone(t={}){return new r({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Gn=class r extends Wt{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=_t.Response;clone(t={}){return new r({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Ht=class extends Wt{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ph=200,gh=204;function Zs(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,credentials:r.credentials,transferCache:r.transferCache,timeout:r.timeout,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,integrity:r.integrity,referrer:r.referrer}}var Pc=(()=>{class r{handler;constructor(e){this.handler=e}request(e,n,i={}){let s;if(e instanceof Gt)s=e;else{let c;i.headers instanceof et?c=i.headers:c=new et(i.headers);let u;i.params&&(i.params instanceof Ge?u=i.params:u=new Ge({fromObject:i.params})),s=new Gt(e,n,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let o=b(s).pipe(je(c=>this.handler.handle(c)));if(e instanceof Gt||i.observe==="events")return o;let a=o.pipe(Y(c=>c instanceof Gn));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(T(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(T(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(T(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return a.pipe(T(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Ge().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,i={}){return this.request("PATCH",e,Zs(i,n))}post(e,n,i={}){return this.request("POST",e,Zs(i,n))}put(e,n,i={}){return this.request("PUT",e,Zs(i,n))}static \u0275fac=function(n){return new(n||r)(v(qt))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})();var mh=new S("");function vh(r,t){return t(r)}function yh(r,t,e){return(n,i)=>ne(e,()=>t(n,s=>r(s,i)))}var Fc=new S(""),xc=new S(""),kc=new S("",{providedIn:"root",factory:()=>!0});var ni=(()=>{class r extends qt{backend;injector;chain=null;pendingTasks=g(gs);contributeToStability=g(kc);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Fc),...this.injector.get(xc,[])]));this.chain=n.reduceRight((i,s)=>yh(i,s,this.injector),vh)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Nt(n))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||r)(v(Vn),v(Be))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})();var wh=/^\)\]\}',?\n/,Dh=RegExp(`^${Ic}:`,"m");function _h(r){return"responseURL"in r&&r.responseURL?r.responseURL:Dh.test(r.getAllResponseHeaders())?r.getResponseHeader(Ic):null}var Js=(()=>{class r{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new C(-2800,!1);let n=this.xhrFactory;return b(null).pipe(X(()=>new Ce(s=>{let o=n.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((w,E)=>o.setRequestHeader(w,E.join(","))),e.headers.has(Ac)||o.setRequestHeader(Ac,fh),!e.headers.has(Tc)){let w=e.detectContentTypeHeader();w!==null&&o.setRequestHeader(Tc,w)}if(e.timeout&&(o.timeout=e.timeout),e.responseType){let w=e.responseType.toLowerCase();o.responseType=w!=="json"?w:"text"}let a=e.serializeBody(),c=null,u=()=>{if(c!==null)return c;let w=o.statusText||"OK",E=new et(o.getAllResponseHeaders()),M=_h(o)||e.url;return c=new ti({headers:E,status:o.status,statusText:w,url:M}),c},l=()=>{let{headers:w,status:E,statusText:M,url:N}=u(),I=null;E!==gh&&(I=typeof o.response>"u"?o.responseText:o.response),E===0&&(E=I?ph:0);let G=E>=200&&E<300;if(e.responseType==="json"&&typeof I=="string"){let lt=I;I=I.replace(wh,"");try{I=I!==""?JSON.parse(I):null}catch(ed){I=lt,G&&(G=!1,I={error:ed,text:I})}}G?(s.next(new Gn({body:I,headers:w,status:E,statusText:M,url:N||void 0})),s.complete()):s.error(new Ht({error:I,headers:w,status:E,statusText:M,url:N||void 0}))},d=w=>{let{url:E}=u(),M=new Ht({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E||void 0});s.error(M)},p=d;e.timeout&&(p=w=>{let{url:E}=u(),M=new Ht({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:E||void 0});s.error(M)});let f=!1,y=w=>{f||(s.next(u()),f=!0);let E={type:_t.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),e.responseType==="text"&&o.responseText&&(E.partialText=o.responseText),s.next(E)},_=w=>{let E={type:_t.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),s.next(E)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",p),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",_)),o.send(a),s.next({type:_t.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",p),e.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",_)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(n){return new(n||r)(v(Dt))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})(),Nc=new S(""),bh="XSRF-TOKEN",Sh=new S("",{providedIn:"root",factory:()=>bh}),Eh="X-XSRF-TOKEN",Ch=new S("",{providedIn:"root",factory:()=>Eh}),Hn=class{},Rh=(()=>{class r{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n){this.doc=e,this.cookieName=n}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=jn(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||r)(v(L),v(Sh))};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})();function Th(r,t){let e=r.url.toLowerCase();if(!g(Nc)||r.method==="GET"||r.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(r);let n=g(Hn).getToken(),i=g(Ch);return n!=null&&!r.headers.has(i)&&(r=r.clone({headers:r.headers.set(i,n)})),t(r)}function Ah(...r){let t=[Pc,Js,ni,{provide:qt,useExisting:ni},{provide:Vn,useFactory:()=>g(mh,{optional:!0})??g(Js)},{provide:Fc,useValue:Th,multi:!0},{provide:Nc,useValue:!0},{provide:Hn,useClass:Rh}];for(let e of r)t.push(...e.\u0275providers);return $e(t)}var qy=(()=>{class r{_doc;_dom;constructor(e){this._doc=e,this._dom=Te()}addTag(e,n=!1){return e?this._getOrCreateElement(e,n):null}addTags(e,n=!1){return e?e.reduce((i,s)=>(s&&i.push(this._getOrCreateElement(s,n)),i),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];let n=this._doc.querySelectorAll(`meta[${e}]`);return n?[].slice.call(n):[]}updateTag(e,n){if(!e)return null;n=n||this._parseSelector(e);let i=this.getTag(n);return i?this._setMetaElementAttributes(e,i):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,n=!1){if(!n){let o=this._parseSelector(e),a=this.getTags(o).filter(c=>this._containsAttributes(e,c))[0];if(a!==void 0)return a}let i=this._dom.createElement("meta");return this._setMetaElementAttributes(e,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}_setMetaElementAttributes(e,n){return Object.keys(e).forEach(i=>n.setAttribute(this._getMetaKeyMap(i),e[i])),n}_parseSelector(e){let n=e.name?"name":"property";return`${n}="${e[n]}"`}_containsAttributes(e,n){return Object.keys(e).every(i=>n.getAttribute(this._getMetaKeyMap(i))===e[i])}_getMetaKeyMap(e){return Ih[e]||e}static \u0275fac=function(n){return new(n||r)(v(L))};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ih={httpEquiv:"http-equiv"},Lc=(()=>{class r{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||r)(v(L))};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Oh=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:function(n){let i=null;return n?i=new(n||r):i=v(Mh),i},providedIn:"root"})}return r})(),Mh=(()=>{class r extends Oh{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case mt.NONE:return n;case mt.HTML:return Bt(n,"HTML")?gt(n):Ea(this._doc,String(n)).toString();case mt.STYLE:return Bt(n,"Style")?gt(n):n;case mt.SCRIPT:if(Bt(n,"Script"))return gt(n);throw new C(5200,!1);case mt.URL:return Bt(n,"URL")?gt(n):Sa(String(n));case mt.RESOURCE_URL:if(Bt(n,"ResourceURL"))return gt(n);throw new C(5201,!1);default:throw new C(5202,!1)}}bypassSecurityTrustHtml(e){return ya(e)}bypassSecurityTrustStyle(e){return wa(e)}bypassSecurityTrustScript(e){return Da(e)}bypassSecurityTrustUrl(e){return _a(e)}bypassSecurityTrustResourceUrl(e){return ba(e)}static \u0275fac=function(n){return new(n||r)(v(L))};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var R="primary",ir=Symbol("RouteTitle"),no=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Et(r){return new no(r)}function Hc(r,t,e){let n=e.path.split("/");if(n.length>r.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<r.length))return null;let i={};for(let s=0;s<n.length;s++){let o=n[s],a=r[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function Fh(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!Ae(r[e],t[e]))return!1;return!0}function Ae(r,t){let e=r?ro(r):void 0,n=t?ro(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!qc(r[i],t[i]))return!1;return!0}function ro(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function qc(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let e=[...r].sort(),n=[...t].sort();return e.every((i,s)=>n[s]===i)}else return r===t}function Wc(r){return r.length>0?r[r.length-1]:null}function He(r){return Cn(r)?r:yt(r)?H(Promise.resolve(r)):b(r)}var xh={exact:Yc,subset:Zc},Kc={exact:kh,subset:Nh,ignored:()=>!0};function jc(r,t,e){return xh[e.paths](r.root,t.root,e.matrixParams)&&Kc[e.queryParams](r.queryParams,t.queryParams)&&!(e.fragment==="exact"&&r.fragment!==t.fragment)}function kh(r,t){return Ae(r,t)}function Yc(r,t,e){if(!bt(r.segments,t.segments)||!si(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!r.children[n]||!Yc(r.children[n],t.children[n],e))return!1;return!0}function Nh(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>qc(r[e],t[e]))}function Zc(r,t,e){return Jc(r,t,t.segments,e)}function Jc(r,t,e,n){if(r.segments.length>e.length){let i=r.segments.slice(0,e.length);return!(!bt(i,e)||t.hasChildren()||!si(i,e,n))}else if(r.segments.length===e.length){if(!bt(r.segments,e)||!si(r.segments,e,n))return!1;for(let i in t.children)if(!r.children[i]||!Zc(r.children[i],t.children[i],n))return!1;return!0}else{let i=e.slice(0,r.segments.length),s=e.slice(r.segments.length);return!bt(r.segments,i)||!si(r.segments,i,n)||!r.children[R]?!1:Jc(r.children[R],t,s,n)}}function si(r,t,e){return t.every((n,i)=>Kc[e](r[i].parameters,n.parameters))}var Oe=class{root;queryParams;fragment;_queryParamMap;constructor(t=new P([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Et(this.queryParams),this._queryParamMap}toString(){return Uh.serialize(this)}},P=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oi(this)}},tt=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Et(this.parameters),this._parameterMap}toString(){return Qc(this)}};function Lh(r,t){return bt(r,t)&&r.every((e,n)=>Ae(e.parameters,t[n].parameters))}function bt(r,t){return r.length!==t.length?!1:r.every((e,n)=>e.path===t[n].path)}function jh(r,t){let e=[];return Object.entries(r.children).forEach(([n,i])=>{n===R&&(e=e.concat(t(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==R&&(e=e.concat(t(i,n)))}),e}var st=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>new nt,providedIn:"root"})}return r})(),nt=class{parse(t){let e=new so(t);return new Oe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${qn(t.root,!0)}`,n=zh(t.queryParams),i=typeof t.fragment=="string"?`#${$h(t.fragment)}`:"";return`${e}${n}${i}`}},Uh=new nt;function oi(r){return r.segments.map(t=>Qc(t)).join("/")}function qn(r,t){if(!r.hasChildren())return oi(r);if(t){let e=r.children[R]?qn(r.children[R],!1):"",n=[];return Object.entries(r.children).forEach(([i,s])=>{i!==R&&n.push(`${i}:${qn(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=jh(r,(n,i)=>i===R?[qn(r.children[R],!1)]:[`${i}:${qn(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[R]!=null?`${oi(r)}/${e[0]}`:`${oi(r)}/(${e.join("//")})`}}function Xc(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ri(r){return Xc(r).replace(/%3B/gi,";")}function $h(r){return encodeURI(r)}function io(r){return Xc(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ai(r){return decodeURIComponent(r)}function Uc(r){return ai(r.replace(/\+/g,"%20"))}function Qc(r){return`${io(r.path)}${Bh(r.parameters)}`}function Bh(r){return Object.entries(r).map(([t,e])=>`;${io(t)}=${io(e)}`).join("")}function zh(r){let t=Object.entries(r).map(([e,n])=>Array.isArray(n)?n.map(i=>`${ri(e)}=${ri(i)}`).join("&"):`${ri(e)}=${ri(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Vh=/^[^\/()?;#]+/;function Xs(r){let t=r.match(Vh);return t?t[0]:""}var Gh=/^[^\/()?;=#]+/;function Hh(r){let t=r.match(Gh);return t?t[0]:""}var qh=/^[^=?&#]+/;function Wh(r){let t=r.match(qh);return t?t[0]:""}var Kh=/^[^&#]+/;function Yh(r){let t=r.match(Kh);return t?t[0]:""}var so=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new P([],{}):new P([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[R]=new P(t,e)),n}parseSegment(){let t=Xs(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new tt(ai(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Hh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=Xs(this.remaining);i&&(n=i,this.capture(n))}t[ai(e)]=ai(n)}parseQueryParam(t){let e=Wh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=Yh(this.remaining);o&&(n=o,this.capture(n))}let i=Uc(e),s=Uc(n);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Xs(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=R);let o=this.parseChildren();e[s??R]=Object.keys(o).length===1&&o[R]?o[R]:new P([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}};function eu(r){return r.segments.length>0?new P([],{[R]:r}):r}function tu(r){let t={};for(let[n,i]of Object.entries(r.children)){let s=tu(i);if(n===R&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let e=new P(r.segments,t);return Zh(e)}function Zh(r){if(r.numberOfChildren===1&&r.children[R]){let t=r.children[R];return new P(r.segments.concat(t.segments),t.children)}return r}function rt(r){return r instanceof Oe}function nu(r,t,e=null,n=null){let i=ru(r);return iu(i,t,e,n)}function ru(r){let t;function e(s){let o={};for(let c of s.children){let u=e(c);o[c.outlet]=u}let a=new P(s.url,o);return s===r&&(t=a),a}let n=e(r.root),i=eu(n);return t??i}function iu(r,t,e,n){let i=r;for(;i.parent;)i=i.parent;if(t.length===0)return Qs(i,i,i,e,n);let s=Jh(t);if(s.toRoot())return Qs(i,i,new P([],{}),e,n);let o=Xh(s,i,r),a=o.processChildren?Kn(o.segmentGroup,o.index,s.commands):ou(o.segmentGroup,o.index,s.commands);return Qs(i,o.segmentGroup,a,e,n)}function ci(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Zn(r){return typeof r=="object"&&r!=null&&r.outlets}function Qs(r,t,e,n,i){let s={};n&&Object.entries(n).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;r===t?o=e:o=su(r,t,e);let a=eu(tu(o));return new Oe(a,s,i)}function su(r,t,e){let n={};return Object.entries(r.children).forEach(([i,s])=>{s===t?n[i]=e:n[i]=su(s,t,e)}),new P(r.segments,n)}var ui=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ci(n[0]))throw new C(4003,!1);let i=n.find(Zn);if(i&&i!==Wc(n))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Jh(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new ui(!0,0,r);let t=0,e=!1,n=r.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ui(e,t,n)}var Zt=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function Xh(r,t,e){if(r.isAbsolute)return new Zt(t,!0,0);if(!e)return new Zt(t,!1,NaN);if(e.parent===null)return new Zt(e,!0,0);let n=ci(r.commands[0])?0:1,i=e.segments.length-1+n;return Qh(e,i,r.numberOfDoubleDots)}function Qh(r,t,e){let n=r,i=t,s=e;for(;s>i;){if(s-=i,n=n.parent,!n)throw new C(4005,!1);i=n.segments.length}return new Zt(n,!1,i-s)}function ef(r){return Zn(r[0])?r[0].outlets:{[R]:r}}function ou(r,t,e){if(r??=new P([],{}),r.segments.length===0&&r.hasChildren())return Kn(r,t,e);let n=tf(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let s=new P(r.segments.slice(0,n.pathIndex),{});return s.children[R]=new P(r.segments.slice(n.pathIndex),r.children),Kn(s,0,i)}else return n.match&&i.length===0?new P(r.segments,{}):n.match&&!r.hasChildren()?oo(r,t,e):n.match?Kn(r,0,i):oo(r,t,e)}function Kn(r,t,e){if(e.length===0)return new P(r.segments,{});{let n=ef(e),i={};if(Object.keys(n).some(s=>s!==R)&&r.children[R]&&r.numberOfChildren===1&&r.children[R].segments.length===0){let s=Kn(r.children[R],t,e);return new P(r.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ou(r.children[s],t,o))}),Object.entries(r.children).forEach(([s,o])=>{n[s]===void 0&&(i[s]=o)}),new P(r.segments,i)}}function tf(r,t,e){let n=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return s;let o=r.segments[i],a=e[n];if(Zn(a))break;let c=`${a}`,u=n<e.length-1?e[n+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Bc(c,u,o))return s;n+=2}else{if(!Bc(c,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function oo(r,t,e){let n=r.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(Zn(s)){let c=nf(s.outlets);return new P(n,c)}if(i===0&&ci(e[0])){let c=r.segments[t];n.push(new tt(c.path,$c(e[0]))),i++;continue}let o=Zn(s)?s.outlets[R]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&ci(a)?(n.push(new tt(o,$c(a))),i+=2):(n.push(new tt(o,{})),i++)}return new P(n,{})}function nf(r){let t={};return Object.entries(r).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=oo(new P([],{}),0,n))}),t}function $c(r){let t={};return Object.entries(r).forEach(([e,n])=>t[e]=`${n}`),t}function Bc(r,t,e){return r==e.path&&Ae(t,e.parameters)}var Jt="imperative",V=(function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r})(V||{}),ce=class{id;url;constructor(t,e){this.id=t,this.url=e}},it=class extends ce{type=V.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ue=class extends ce{urlAfterRedirects;type=V.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},te=(function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r[r.Aborted=4]="Aborted",r})(te||{}),Qt=(function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r})(Qt||{}),Ie=class extends ce{reason;code;type=V.NavigationCancel;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Me=class extends ce{reason;code;type=V.NavigationSkipped;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}},en=class extends ce{error;target;type=V.NavigationError;constructor(t,e,n,i){super(t,e),this.error=n,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jn=class extends ce{urlAfterRedirects;state;type=V.RoutesRecognized;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},li=class extends ce{urlAfterRedirects;state;type=V.GuardsCheckStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},di=class extends ce{urlAfterRedirects;state;shouldActivate;type=V.GuardsCheckEnd;constructor(t,e,n,i,s){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hi=class extends ce{urlAfterRedirects;state;type=V.ResolveStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fi=class extends ce{urlAfterRedirects;state;type=V.ResolveEnd;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pi=class{route;type=V.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gi=class{route;type=V.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mi=class{snapshot;type=V.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vi=class{snapshot;type=V.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yi=class{snapshot;type=V.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wi=class{snapshot;type=V.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tn=class{routerEvent;position;anchor;type=V.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Xn=class{},nn=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function rf(r){return!(r instanceof Xn)&&!(r instanceof nn)}function sf(r,t){return r.providers&&!r._injector&&(r._injector=kr(r.providers,t,`Route: ${r.path}`)),r._injector??t}function be(r){return r.outlet||R}function of(r,t){let e=r.filter(n=>be(n)===t);return e.push(...r.filter(n=>be(n)!==t)),e}function on(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Di=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return on(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ct(this.rootInjector)}},Ct=(()=>{class r{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Di(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||r)(v(Be))};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_i=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=ao(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=ao(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=co(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return co(t,this._root).map(e=>e.value)}};function ao(r,t){if(r===t.value)return t;for(let e of t.children){let n=ao(r,e);if(n)return n}return null}function co(r,t){if(r===t.value)return[t];for(let e of t.children){let n=co(r,e);if(n.length)return n.unshift(t),n}return[]}var ae=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Yt(r){let t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}var Qn=class extends _i{snapshot;constructor(t,e){super(t),this.snapshot=e,vo(this,t)}toString(){return this.snapshot.toString()}};function au(r){let t=af(r),e=new J([new tt("",{})]),n=new J({}),i=new J({}),s=new J({}),o=new J(""),a=new Pe(e,n,s,o,i,R,r,t.root);return a.snapshot=t.root,new Qn(new ae(a,[]),t)}function af(r){let t={},e={},n={},s=new St([],t,n,"",e,R,r,null,{});return new er("",new ae(s,[]))}var Pe=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,i,s,o,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(T(u=>u[ir]))??b(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(t=>Et(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(t=>Et(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bi(r,t,e="emptyOnly"){let n,{routeConfig:i}=r;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:m(m({},t.params),r.params),data:m(m({},t.data),r.data),resolve:m(m(m(m({},r.data),t.data),i?.data),r._resolvedData)}:n={params:m({},r.params),data:m({},r.data),resolve:m(m({},r.data),r._resolvedData??{})},i&&uu(i)&&(n.resolve[ir]=i.title),n}var St=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ir]}constructor(t,e,n,i,s,o,a,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Et(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Et(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},er=class extends _i{url;constructor(t,e){super(e),this.url=t,vo(this,e)}toString(){return cu(this._root)}};function vo(r,t){t.value._routerState=r,t.children.forEach(e=>vo(r,e))}function cu(r){let t=r.children.length>0?` { ${r.children.map(cu).join(", ")} } `:"";return`${r.value}${t}`}function eo(r){if(r.snapshot){let t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Ae(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),Ae(t.params,e.params)||r.paramsSubject.next(e.params),Fh(t.url,e.url)||r.urlSubject.next(e.url),Ae(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function uo(r,t){let e=Ae(r.params,t.params)&&Lh(r.url,t.url),n=!r.parent!=!t.parent;return e&&!n&&(!r.parent||uo(r.parent,t.parent))}function uu(r){return typeof r.title=="string"||r.title===null}var lu=new S(""),yo=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=R;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=za();parentContexts=g(Ct);location=g(xr);changeDetector=g(wt);inputBinder=g(sr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lo(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Xe({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pt]})}return r})(),lo=class{route;childContexts;parent;outletData;constructor(t,e,n,i){this.route=t,this.childContexts=e,this.parent=n,this.outletData=i}get(t,e){return t===Pe?this.route:t===Ct?this.childContexts:t===lu?this.outletData:this.parent.get(t,e)}},sr=new S(""),wo=(()=>{class r{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,i=Mr([n.queryParams,n.params,n.data]).pipe(X(([s,o,a],c)=>(a=m(m(m({},s),o),a),c===0?b(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let o=Ga(n.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})(),Do=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Pa({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,i){n&1&&ka(0,"router-outlet")},dependencies:[yo],encapsulation:2})}return r})();function _o(r){let t=r.children&&r.children.map(_o),e=t?j(m({},r),{children:t}):m({},r);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==R&&(e.component=Do),e}function cf(r,t,e){let n=tr(r,t._root,e?e._root:void 0);return new Qn(n,t)}function tr(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let i=uf(r,t,e);return new ae(n,i)}else{if(r.shouldAttach(t.value)){let s=r.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>tr(r,a)),o}}let n=lf(t.value),i=t.children.map(s=>tr(r,s));return new ae(n,i)}}function uf(r,t,e){return t.children.map(n=>{for(let i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return tr(r,n,i);return tr(r,n)})}function lf(r){return new Pe(new J(r.url),new J(r.params),new J(r.queryParams),new J(r.fragment),new J(r.data),r.outlet,r.component,r)}var rn=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},du="ngNavigationCancelingError";function Si(r,t){let{redirectTo:e,navigationBehaviorOptions:n}=rt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=hu(!1,te.Redirect);return i.url=e,i.navigationBehaviorOptions=n,i}function hu(r,t){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[du]=!0,e.cancellationCode=t,e}function df(r){return fu(r)&&rt(r.url)}function fu(r){return!!r&&r[du]}var hf=(r,t,e,n)=>T(i=>(new ho(t,i.targetRouterState,i.currentRouterState,e,n).activate(r),i)),ho=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),eo(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let i=Yt(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,s=Yt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,s=Yt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let i=Yt(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new wi(s.value.snapshot))}),t.children.length&&this.forwardEvent(new vi(t.value.snapshot))}activateRoutes(t,e,n){let i=t.value,s=e?e.value:null;if(eo(i),i===s)if(i.component){let o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){let o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),eo(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},Ei=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Xt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function ff(r,t,e){let n=r._root,i=t?t._root:null;return Wn(n,i,e,[n.value])}function pf(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function an(r,t){let e=Symbol(),n=t.get(r,e);return n===e?typeof r=="function"&&!ha(r)?r:t.get(r):n}function Wn(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Yt(t);return r.children.forEach(o=>{gf(o,s[o.value.outlet],e,n.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yn(a,e.getContext(o),i)),i}function gf(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=r.value,o=t?t.value:null,a=e?e.getContext(r.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=mf(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ei(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Wn(r,t,a?a.children:null,n,i):Wn(r,t,e,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xt(a.outlet.component,o))}else o&&Yn(t,a,i),i.canActivateChecks.push(new Ei(n)),s.component?Wn(r,null,a?a.children:null,n,i):Wn(r,null,e,n,i);return i}function mf(r,t,e){if(typeof e=="function")return e(r,t);switch(e){case"pathParamsChange":return!bt(r.url,t.url);case"pathParamsOrQueryParamsChange":return!bt(r.url,t.url)||!Ae(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uo(r,t)||!Ae(r.queryParams,t.queryParams);case"paramsChange":default:return!uo(r,t)}}function Yn(r,t,e){let n=Yt(r),i=r.value;Object.entries(n).forEach(([s,o])=>{i.component?t?Yn(o,t.children.getContext(s),e):Yn(o,null,e):Yn(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Xt(t.outlet.component,i)):e.canDeactivateChecks.push(new Xt(null,i)):e.canDeactivateChecks.push(new Xt(null,i))}function or(r){return typeof r=="function"}function vf(r){return typeof r=="boolean"}function yf(r){return r&&or(r.canLoad)}function wf(r){return r&&or(r.canActivate)}function Df(r){return r&&or(r.canActivateChild)}function _f(r){return r&&or(r.canDeactivate)}function bf(r){return r&&or(r.canMatch)}function pu(r){return r instanceof sa||r?.name==="EmptyError"}var ii=Symbol("INITIAL_VALUE");function sn(){return X(r=>Mr(r.map(t=>t.pipe(Re(1),Fr(ii)))).pipe(T(t=>{for(let e of t)if(e!==!0){if(e===ii)return ii;if(e===!1||Sf(e))return e}return!0}),Y(t=>t!==ii),Re(1)))}function Sf(r){return rt(r)||r instanceof rn}function Ef(r,t){return q(e=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?b(j(m({},e),{guardsResult:!0})):Cf(o,n,i,r).pipe(q(a=>a&&vf(a)?Rf(n,s,r,t):b(a)),T(a=>j(m({},e),{guardsResult:a})))})}function Cf(r,t,e,n){return H(r).pipe(q(i=>Mf(i.component,i.route,e,t,n)),Ke(i=>i!==!0,!0))}function Rf(r,t,e,n){return H(t).pipe(je(i=>oa(Af(i.route.parent,n),Tf(i.route,n),Of(r,i.path,e),If(r,i.route,e))),Ke(i=>i!==!0,!0))}function Tf(r,t){return r!==null&&t&&t(new yi(r)),b(!0)}function Af(r,t){return r!==null&&t&&t(new mi(r)),b(!0)}function If(r,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return b(!0);let i=n.map(s=>Pr(()=>{let o=on(t)??e,a=an(s,o),c=wf(a)?a.canActivate(t,r):ne(o,()=>a(t,r));return He(c).pipe(Ke())}));return b(i).pipe(sn())}function Of(r,t,e){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>pf(o)).filter(o=>o!==null).map(o=>Pr(()=>{let a=o.guards.map(c=>{let u=on(o.node)??e,l=an(c,u),d=Df(l)?l.canActivateChild(n,r):ne(u,()=>l(n,r));return He(d).pipe(Ke())});return b(a).pipe(sn())}));return b(s).pipe(sn())}function Mf(r,t,e,n,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return b(!0);let o=s.map(a=>{let c=on(t)??i,u=an(a,c),l=_f(u)?u.canDeactivate(r,t,e,n):ne(c,()=>u(r,t,e,n));return He(l).pipe(Ke())});return b(o).pipe(sn())}function Pf(r,t,e,n){let i=t.canLoad;if(i===void 0||i.length===0)return b(!0);let s=i.map(o=>{let a=an(o,r),c=yf(a)?a.canLoad(t,e):ne(r,()=>a(t,e));return He(c)});return b(s).pipe(sn(),gu(n))}function gu(r){return ia(z(t=>{if(typeof t!="boolean")throw Si(r,t)}),T(t=>t===!0))}function Ff(r,t,e,n){let i=t.canMatch;if(!i||i.length===0)return b(!0);let s=i.map(o=>{let a=an(o,r),c=bf(a)?a.canMatch(t,e):ne(r,()=>a(t,e));return He(c)});return b(s).pipe(sn(),gu(n))}var nr=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},rr=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Kt(r){return Le(new nr(r))}function xf(r){return Le(new C(4e3,!1))}function kf(r){return Le(hu(!1,te.GuardRejected))}var fo=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return b(n);if(i.numberOfChildren>1||!i.children[R])return xf(`${t.redirectTo}`);i=i.children[R]}}applyRedirectCommands(t,e,n,i,s){return Nf(e,i,s).pipe(T(o=>{if(o instanceof Oe)throw new rr(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,n);if(o[0]==="/")throw new rr(a);return a}))}applyRedirectCreateUrlTree(t,e,n,i){let s=this.createSegmentGroup(t,e.root,n,i);return new Oe(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[i]=e[a]}else n[i]=s}),n}createSegmentGroup(t,e,n,i){let s=this.createSegments(t,e.segments,n,i),o={};return Object.entries(e.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,n,i)}),new P(s,o)}createSegments(t,e,n,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,n))}findPosParam(t,e,n){let i=n[e.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(t,e){let n=0;for(let i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}};function Nf(r,t,e){if(typeof r=="string")return b(r);let n=r,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:l,title:d}=t;return He(ne(e,()=>n({params:u,data:l,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:d})))}var po={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lf(r,t,e,n,i){let s=mu(r,t,e);return s.matched?(n=sf(t,n),Ff(n,t,e,i).pipe(T(o=>o===!0?s:m({},po)))):b(s)}function mu(r,t,e){if(t.path==="**")return jf(e);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||e.length>0)?m({},po):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Hc)(e,r,t);if(!i)return m({},po);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jf(r){return{matched:!0,parameters:r.length>0?Wc(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function zc(r,t,e,n){return e.length>0&&Bf(r,e,n)?{segmentGroup:new P(t,$f(n,new P(e,r.children))),slicedSegments:[]}:e.length===0&&zf(r,e,n)?{segmentGroup:new P(r.segments,Uf(r,e,n,r.children)),slicedSegments:e}:{segmentGroup:new P(r.segments,r.children),slicedSegments:e}}function Uf(r,t,e,n){let i={};for(let s of e)if(Ri(r,t,s)&&!n[be(s)]){let o=new P([],{});i[be(s)]=o}return m(m({},n),i)}function $f(r,t){let e={};e[R]=t;for(let n of r)if(n.path===""&&be(n)!==R){let i=new P([],{});e[be(n)]=i}return e}function Bf(r,t,e){return e.some(n=>Ri(r,t,n)&&be(n)!==R)}function zf(r,t,e){return e.some(n=>Ri(r,t,n))}function Ri(r,t,e){return(r.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Vf(r,t,e){return t.length===0&&!r.children[e]}var go=class{};function Gf(r,t,e,n,i,s,o="emptyOnly"){return new mo(r,t,e,n,i,o,s).recognize()}var Hf=31,mo=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,i,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new fo(this.urlSerializer,this.urlTree)}noMatchError(t){return new C(4002,`'${t.segmentGroup}'`)}recognize(){let t=zc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(T(({children:e,rootSnapshot:n})=>{let i=new ae(n,e),s=new er("",i),o=nu(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new St([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),R,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,R,e).pipe(T(n=>({children:n,rootSnapshot:e})),me(n=>{if(n instanceof rr)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof nr?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,i,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,s):this.processSegment(t,e,n,n.segments,i,!0,s).pipe(T(o=>o instanceof ae?[o]:[]))}processChildren(t,e,n,i){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return H(s).pipe(je(o=>{let a=n.children[o],c=of(e,o);return this.processSegmentGroup(t,c,a,o,i)}),da((o,a)=>(o.push(...a),o)),kt(null),ua(),q(o=>{if(o===null)return Kt(n);let a=vu(o);return qf(a),b(a)}))}processSegment(t,e,n,i,s,o,a){return H(e).pipe(je(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,n,i,s,o,a).pipe(me(u=>{if(u instanceof nr)return b(null);throw u}))),Ke(c=>!!c),me(c=>{if(pu(c))return Vf(n,i,s)?b(new go):Kt(n);throw c}))}processSegmentAgainstRoute(t,e,n,i,s,o,a,c){return be(n)!==o&&(o===R||!Ri(i,s,n))?Kt(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,n,s,o,c):Kt(i)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,s,o,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:p}=mu(e,i,s);if(!c)return Kt(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Hf&&(this.allowRedirects=!1));let f=new St(s,u,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Vc(i),be(i),i.component??i._loadedComponent??null,i,Gc(i)),y=bi(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(y.params),f.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,f,t).pipe(X(w=>this.applyRedirects.lineralizeSegments(i,w)),q(w=>this.processSegment(t,n,e,w.concat(p),o,!1,a)))}matchSegmentAgainstRoute(t,e,n,i,s,o){let a=Lf(e,n,i,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(X(c=>c.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(X(({routes:u})=>{let l=n._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:f}=c,y=new St(p,d,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Vc(n),be(n),n.component??n._loadedComponent??null,n,Gc(n)),_=bi(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:w,slicedSegments:E}=zc(e,p,f,u);if(E.length===0&&w.hasChildren())return this.processChildren(l,u,w,y).pipe(T(N=>new ae(y,N)));if(u.length===0&&E.length===0)return b(new ae(y,[]));let M=be(n)===s;return this.processSegment(l,u,w,E,M?R:s,!0,y).pipe(T(N=>new ae(y,N instanceof ae?[N]:[])))}))):Kt(e)))}getChildConfig(t,e,n){return e.children?b({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?b({routes:e._loadedRoutes,injector:e._loadedInjector}):Pf(t,e,n,this.urlSerializer).pipe(q(i=>i?this.configLoader.loadChildren(t,e).pipe(z(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):kf(e))):b({routes:[],injector:t})}};function qf(r){r.sort((t,e)=>t.value.outlet===R?-1:e.value.outlet===R?1:t.value.outlet.localeCompare(e.value.outlet))}function Wf(r){let t=r.value.routeConfig;return t&&t.path===""}function vu(r){let t=[],e=new Set;for(let n of r){if(!Wf(n)){t.push(n);continue}let i=t.find(s=>n.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...n.children),e.add(i)):t.push(n)}for(let n of e){let i=vu(n.children);t.push(new ae(n.value,i))}return t.filter(n=>!e.has(n))}function Vc(r){return r.data||{}}function Gc(r){return r.resolve||{}}function Kf(r,t,e,n,i,s){return q(o=>Gf(r,t,e,n,o.extractedUrl,i,s).pipe(T(({state:a,tree:c})=>j(m({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Yf(r,t){return q(e=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return b(e);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of yu(c))o.add(u);let a=0;return H(o).pipe(je(c=>s.has(c)?Zf(c,n,r,t):(c.data=bi(c,c.parent,r).resolve,b(void 0))),z(()=>a++),ps(1),q(c=>a===o.size?b(e):ge))})}function yu(r){let t=r.children.map(e=>yu(e)).flat();return[r,...t]}function Zf(r,t,e,n){let i=r.routeConfig,s=r._resolve;return i?.title!==void 0&&!uu(i)&&(s[ir]=i.title),Pr(()=>(r.data=bi(r,r.parent,e).resolve,Jf(s,r,t,n).pipe(T(o=>(r._resolvedData=o,r.data=m(m({},r.data),o),null)))))}function Jf(r,t,e,n){let i=ro(r);if(i.length===0)return b({});let s={};return H(i).pipe(q(o=>Xf(r[o],t,e,n).pipe(Ke(),z(a=>{if(a instanceof rn)throw Si(new nt,a);s[o]=a}))),ps(1),T(()=>s),me(o=>pu(o)?ge:Le(o)))}function Xf(r,t,e,n){let i=on(t)??n,s=an(r,i),o=s.resolve?s.resolve(t,e):ne(i,()=>s(t,e));return He(o)}function to(r){return X(t=>{let e=r(t);return e?H(e).pipe(T(()=>t)):b(t)})}var bo=(()=>{class r{buildTitle(e){let n,i=e.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(s=>s.outlet===R);return n}getResolvedTitleForRoute(e){return e.data[ir]}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>g(wu),providedIn:"root"})}return r})(),wu=(()=>{class r extends bo{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||r)(v(Lc))};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ot=new S("",{providedIn:"root",factory:()=>({})}),Rt=new S(""),Ti=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g($a);loadComponent(e,n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return b(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=He(ne(e,()=>n.loadComponent())).pipe(T(_u),X(bu),z(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Nt(()=>{this.componentLoaders.delete(n)})),s=new hs(i,()=>new Z).pipe(ds());return this.componentLoaders.set(n,s),s}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return b({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=Du(n,this.compiler,e,this.onLoadEndListener).pipe(Nt(()=>{this.childrenLoaders.delete(n)})),o=new hs(s,()=>new Z).pipe(ds());return this.childrenLoaders.set(n,o),o}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Du(r,t,e,n){return He(ne(e,()=>r.loadChildren())).pipe(T(_u),X(bu),q(i=>i instanceof Ma||Array.isArray(i)?b(i):H(t.compileModuleAsync(i))),T(i=>{n&&n(r);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(e).injector,o=s.get(Rt,[],{optional:!0,self:!0}).flat()),{routes:o.map(_o),injector:s}}))}function Qf(r){return r&&typeof r=="object"&&"default"in r}function _u(r){return Qf(r)?r.default:r}function bu(r){return b(r)}var Ai=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>g(ep),providedIn:"root"})}return r})(),ep=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),So=new S(""),Eo=new S("");function Su(r,t,e){let n=r.get(Eo),i=r.get(L);if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),tp(r)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=n;return c&&ne(r,()=>c({transition:a,from:t,to:e})),o}function tp(r){return new Promise(t=>{Aa({read:()=>setTimeout(t)},{injector:r})})}var Co=new S(""),ar=(()=>{class r{currentNavigation=ft(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Z;transitionAbortWithErrorSubject=new Z;configLoader=g(Ti);environmentInjector=g(Be);destroyRef=g(Ze);urlSerializer=g(st);rootContexts=g(Ct);location=g(Qe);inputBindingEnabled=g(sr,{optional:!0})!==null;titleStrategy=g(bo);options=g(ot,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Ai);createViewTransition=g(So,{optional:!0});navigationErrorHandler=g(Co,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>b(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new pi(i)),n=i=>this.events.next(new gi(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;re(()=>{this.transitions?.next(j(m({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:n}))})}setupNavigations(e){return this.transitions=new J(null),this.transitions.pipe(Y(n=>n!==null),X(n=>{let i=!1;return b(n).pipe(X(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",te.SupersededByNewNavigation),ge;this.currentTransition=n,this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?j(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>s.abortController.abort()});let o=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!o&&a!=="reload")return this.events.next(new Me(s.id,this.urlSerializer.serialize(s.rawUrl),"",Qt.IgnoredSameUrlNavigation)),s.resolve(!1),ge;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return b(s).pipe(X(c=>(this.events.next(new it(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ge:Promise.resolve(c))),Kf(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),z(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let u=new Jn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:p}=s,f=new it(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let y=au(this.rootComponentType).snapshot;return this.currentTransition=n=j(m({},s),{targetSnapshot:y,urlAfterRedirects:u,extras:j(m({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=u,_)),b(n)}else return this.events.next(new Me(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Qt.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ge}),z(s=>{let o=new li(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),T(s=>(this.currentTransition=n=j(m({},s),{guards:ff(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),Ef(this.environmentInjector,s=>this.events.next(s)),z(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Si(this.urlSerializer,s.guardsResult);let o=new di(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(o)}),Y(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",te.GuardRejected),!1)),to(s=>{if(s.guards.canActivateChecks.length!==0)return b(s).pipe(z(o=>{let a=new hi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),X(o=>{let a=!1;return b(o).pipe(Yf(this.paramsInheritanceStrategy,this.environmentInjector),z({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(o,"",te.NoDataFromResolver)}}))}),z(o=>{let a=new fi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}))}),to(s=>{let o=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=on(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(z(l=>{a.component=l}),T(()=>{})))}for(let u of a.children)c.push(...o(u));return c};return Mr(o(s.targetSnapshot.root)).pipe(kt(null),Re(1))}),to(()=>this.afterPreactivation()),X(()=>{let{currentSnapshot:s,targetSnapshot:o}=n,a=this.createViewTransition?.(this.environmentInjector,s.root,o.root);return a?H(a).pipe(T(()=>n)):b(n)}),T(s=>{let o=cf(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=j(m({},s),{targetRouterState:o}),this.currentNavigation.update(a=>(a.targetRouterState=o,a)),n}),z(()=>{this.events.next(new Xn)}),hf(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Re(1),Ue(new Ce(s=>{let o=n.abortController.signal,a=()=>s.next();return o.addEventListener("abort",a),()=>o.removeEventListener("abort",a)}).pipe(Y(()=>!i&&!n.targetRouterState),z(()=>{this.cancelNavigationTransition(n,n.abortController.signal.reason+"",te.Aborted)}))),z({next:s=>{i=!0,this.lastSuccessfulNavigation=re(this.currentNavigation),this.events.next(new ue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ue(this.transitionAbortWithErrorSubject.pipe(z(s=>{throw s}))),Nt(()=>{i||this.cancelNavigationTransition(n,"",te.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),me(s=>{if(this.destroyed)return n.resolve(!1),ge;if(i=!0,fu(s))this.events.next(new Ie(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),df(s)?this.events.next(new nn(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let o=new en(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let a=ne(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(a instanceof rn){let{message:c,cancellationCode:u}=Si(this.urlSerializer,a);this.events.next(new Ie(n.id,this.urlSerializer.serialize(n.extractedUrl),c,u)),this.events.next(new nn(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(o),s}catch(a){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(a)}}return ge}))}))}cancelNavigationTransition(e,n,i){let s=new Ie(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=re(this.currentNavigation),i=n?.targetBrowserUrl??n?.extractedUrl;return e.toString()!==i?.toString()&&!n?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function np(r){return r!==Jt}var Eu=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>g(rp),providedIn:"root"})}return r})(),Ci=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},rp=(()=>{class r extends Ci{static \u0275fac=(()=>{let e;return function(i){return(e||(e=jt(r)))(i||r)}})();static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Cu=(()=>{class r{urlSerializer=g(st);options=g(ot,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(Qe);urlHandlingStrategy=g(Ai);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Oe;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:i}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,o=i??s;return o instanceof Oe?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:i}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,i),this.routerState=e):this.rawUrlTree=i}routerState=au(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:()=>g(ip),providedIn:"root"})}return r})(),ip=(()=>{class r extends Cu{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof it?this.updateStateMemento():e instanceof Me?this.commitTransition(n):e instanceof Jn?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Xn?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Ie&&e.code!==te.SupersededByNewNavigation&&e.code!==te.Redirect?this.restoreHistory(n):e instanceof en?this.restoreHistory(n,!0):e instanceof ue&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:i}){let{replaceUrl:s,state:o}=n;if(this.location.isCurrentPathEqualTo(e)||s){let a=this.browserPageId,c=m(m({},o),this.generateNgRouterState(i,a));this.location.replaceState(e,"",c)}else{let a=m(m({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=jt(r)))(i||r)}})();static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ii(r,t){r.events.pipe(Y(e=>e instanceof ue||e instanceof Ie||e instanceof en||e instanceof Me),T(e=>e instanceof ue||e instanceof Me?0:(e instanceof Ie?e.code===te.Redirect||e.code===te.SupersededByNewNavigation:!1)?2:1),Y(e=>e!==2),Re(1)).subscribe(()=>{t()})}var sp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},op={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Se=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(bs);stateManager=g(Cu);options=g(ot,{optional:!0})||{};pendingTasks=g(ga);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(ar);urlSerializer=g(st);location=g(Qe);urlHandlingStrategy=g(Ai);injector=g(Be);_events=new Z;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(Eu);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Rt,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(sr,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ra;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,s=re(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof Ie&&n.code!==te.Redirect&&n.code!==te.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ue)this.navigated=!0;else if(n instanceof nn){let o=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),c=m({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||np(i.source)},o);this.scheduleNavigation(a,Jt,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}rf(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,i)=>{this.navigateToSyncWithBrowser(e,i,n)})}navigateToSyncWithBrowser(e,n,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=m({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,o,s).catch(c=>{this.disposed||this.injector.get(Lt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return re(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(_o),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=m(m({},this.currentUrlTree.queryParams),s);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=ru(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return iu(d,e,l,u??null)}navigateByUrl(e,n={skipLocationChange:!1}){let i=rt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Jt,null,n)}navigate(e,n={skipLocationChange:!1}){return ap(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(ht(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,n){let i;if(n===!0?i=m({},sp):n===!1?i=m({},op):i=n,rt(e))return jc(this.currentUrlTree,e,i);let s=this.parseUrl(e);return jc(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((n,[i,s])=>(s!=null&&(n[i]=s),n),{})}scheduleNavigation(e,n,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,p)=>{a=d,c=p});let l=this.pendingTasks.add();return Ii(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ap(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new C(4008,!1)}var Oi=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ft(null);get href(){return re(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Z;applicationErrorHandler=g(Lt);options=g(ot,{optional:!0});constructor(e,n,i,s,o,a){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(g(new Ba("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,n=i=>i==="merge"||i==="preserve";e||=n(this.queryParamsHandling),e||=!this.queryParamsHandling&&!n(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ue&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(rt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let i=this.renderer,s=this.el.nativeElement;n!==null?i.setAttribute(s,e,n):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:rt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||r)(U(Se),U(Pe),ms("tabindex"),U(Vt),U(Ut),U(we))};static \u0275dir=Xe({type:r,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,i){n&1&&Na("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&xa("href",i.reactiveHref(),Ca)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Mn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Mn],replaceUrl:[2,"replaceUrl","replaceUrl",Mn],routerLink:"routerLink"},features:[pt]})}return r})(),cp=(()=>{class r{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new vt;constructor(e,n,i,s,o){this.router=e,this.element=n,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof ue&&this.update()})}ngAfterContentInit(){b(this.links.changes,b(null)).pipe(Rn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=H(e).pipe(Rn()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=up(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||r)(U(Se),U(Ut),U(Vt),U(wt),U(Oi,8))};static \u0275dir=Xe({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,s){if(n&1&&La(s,Oi,5),n&2){let o;ja(o=Ua())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[pt]})}return r})();function up(r){return!!r.paths}var cr=class{};var Ru=(()=>{class r{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,i,s){this.router=e,this.injector=n,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Y(e=>e instanceof ue),je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let i=[];for(let s of n){s.providers&&!s._injector&&(s._injector=kr(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return H(i).pipe(Rn())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(e,n):i=b(null);let s=i.pipe(q(o=>o===null?b(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(n.loadComponent&&!n._loadedComponent){let o=this.loader.loadComponent(e,n);return H([s,o]).pipe(Rn())}else return s})}static \u0275fac=function(n){return new(n||r)(v(Se),v(Be),v(cr),v(Ti))};static \u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),To=new S(""),Tu=(()=>{class r{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Jt;restoredId=0;store={};constructor(e,n,i,s,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof it?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ue?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Me&&e.code===Qt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof tn))return;let n={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],n):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,n):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>h(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new tn(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){Oa()};static \u0275prov=D({token:r,factory:r.\u0275fac})}return r})();function lp(r,...t){return $e([{provide:Rt,multi:!0,useValue:r},[],{provide:Pe,useFactory:Au,deps:[Se]},{provide:On,multi:!0,useFactory:Iu},t.map(e=>e.\u0275providers)])}function Au(r){return r.routerState.root}function cn(r,t){return{\u0275kind:r,\u0275providers:t}}function dp(r={}){return cn(4,[{provide:To,useFactory:()=>{let e=g(Bs),n=g(W),i=g(ar),s=g(st);return new Tu(s,i,e,n,r)}}])}function Iu(){let r=g(ze);return t=>{let e=r.get(Es);if(t!==e.components[0])return;let n=r.get(Se),i=r.get(Ou);r.get(Ao)===1&&n.initialNavigation(),r.get(Fu,null,{optional:!0})?.setUpPreloading(),r.get(To,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ou=new S("",{factory:()=>new Z}),Ao=new S("",{providedIn:"root",factory:()=>1});function Mu(){let r=[{provide:ws,useValue:!0},{provide:Ao,useValue:0},Ss(()=>{let t=g(ze);return t.get(Ts,Promise.resolve()).then(()=>new Promise(n=>{let i=t.get(Se),s=t.get(Ou);Ii(i,()=>{n(!0)}),t.get(ar).afterPreactivation=()=>(n(!0),s.closed?b(void 0):s),i.initialNavigation()}))})];return cn(2,r)}function Pu(){let r=[Ss(()=>{g(Se).setUpLocationChangeListener()}),{provide:Ao,useValue:2}];return cn(3,r)}var Fu=new S("");function xu(r){return cn(0,[{provide:Fu,useExisting:Ru},{provide:cr,useExisting:r}])}function ku(){return cn(8,[wo,{provide:sr,useExisting:wo}])}function Nu(r){_s("NgRouterViewTransitions");let t=[{provide:So,useValue:Su},{provide:Eo,useValue:m({skipNextTransition:!!r?.skipInitialTransition},r)}];return cn(9,t)}var Lu=[Qe,{provide:st,useClass:nt},Se,Ct,{provide:Pe,useFactory:Au,deps:[Se]},Ti,[]],hp=(()=>{class r{constructor(){}static forRoot(e,n){return{ngModule:r,providers:[Lu,[],{provide:Rt,multi:!0,useValue:e},[],n?.errorHandler?{provide:Co,useValue:n.errorHandler}:[],{provide:ot,useValue:n||{}},n?.useHash?pp():gp(),fp(),n?.preloadingStrategy?xu(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?mp(n):[],n?.bindToComponentInputs?ku().\u0275providers:[],n?.enableViewTransitions?Nu().\u0275providers:[],vp()]}}static forChild(e){return{ngModule:r,providers:[{provide:Rt,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Je({type:r});static \u0275inj=Ye({})}return r})();function fp(){return{provide:To,useFactory:()=>{let r=g(Bs),t=g(W),e=g(ot),n=g(ar),i=g(st);return e.scrollOffset&&r.setOffset(e.scrollOffset),new Tu(i,n,r,t,e)}}}function pp(){return{provide:we,useClass:Ns}}function gp(){return{provide:we,useClass:$r}}function mp(r){return[r.initialNavigation==="disabled"?Pu().\u0275providers:[],r.initialNavigation==="enabledBlocking"?Mu().\u0275providers:[]]}var Ro=new S("");function vp(){return[{provide:Ro,useFactory:Iu},{provide:On,multi:!0,useExisting:Ro}]}function K0(r){r||(r=g(Ze));let t=new Ce(e=>{if(r.destroyed){e.next();return}return r.onDestroy(e.next.bind(e))});return e=>e.pipe(Ue(t))}function ju(r,t){let n=!t?.manualCleanup?t?.injector?.get(Ze)??g(Ze):null,i=yp(t?.equal),s;t?.requireSync?s=ft({kind:0},{equal:i}):s=ft({kind:1,value:t?.initialValue},{equal:i});let o,a=r.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{s.set({kind:2,error:c}),o?.()},complete:()=>{o?.()}});if(t?.requireSync&&s().kind===0)throw new C(601,!1);return o=n?.onDestroy(a.unsubscribe.bind(a)),Nr(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new C(601,!1)}},{equal:t?.equal})}function yp(r=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&r(t.value,e.value)}var Fe="NGXS_META",Mo="NGXS_OPTIONS_META",Io="NGXS_SELECTOR_META";function Po(r){if(!r.hasOwnProperty(Fe)){let t={name:null,actions:{},defaults:{},path:null,makeRootSelector(e){return e.getStateGetter(t.name)},children:[]};Object.defineProperty(r,Fe,{value:t})}return un(r)}function un(r){return r[Fe]}function Uu(r){return r.hasOwnProperty(Io)||Object.defineProperty(r,Io,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),Fo(r)}function Fo(r){return r[Io]}function wp(r,t){return r===t}function Dp(r,t,e){if(t===null||e===null||t.length!==e.length)return!1;let n=t.length;for(let i=0;i<n;i++)if(!r(t[i],e[i]))return!1;return!0}function Pi(r,t=wp){let e=null,n=null;function i(){return Dp(t,e,arguments)||(n=r.apply(null,arguments)),e=arguments,n}return i.reset=function(){e=null,n=null},i}var _p=!1,bp=(()=>{let t=class t{static set(n){this._value=n}static pop(){let n=this._value;return this._value={},n}};t._value={};let r=t;return r})(),xo=new S(_p?"INITIAL_STATE_TOKEN":"",{providedIn:"root",factory:()=>bp.pop()}),Fi=(()=>{let t=class t extends En{constructor(){super(1)}bootstrap(){this.next(!0),this.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),$u=!1,Bu=new S($u?"\u0275NGXS_STATE_FACTORY":""),zu=new S($u?"\u0275NGXS_STATE_CONTEXT_FACTORY":"");function Vu(r){let t=[],e=!1;return function(...i){if(e){t.unshift(i);return}for(e=!0,r(...i);t.length>0;){let s=t.pop();s&&r(...s)}e=!1}}var Mi=class extends Z{constructor(){super(...arguments),this._orderedNext=Vu(t=>super.next(t))}next(t){this._orderedNext(t)}},Oo=class extends J{constructor(t){super(t),this._orderedNext=Vu(e=>super.next(e)),this._currentValue=t}getValue(){return this._currentValue}next(t){this._currentValue=t,this._orderedNext(t)}};function ko(r){return t=>new Ce(e=>t.subscribe({next(n){r(()=>e.next(n))},error(n){r(()=>e.error(n))},complete(){r(()=>e.complete())}}))}var xi=(()=>{let t=class t extends Oo{constructor(){super({}),this.state=ju(this.pipe(ko(re)),{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var ki=(()=>{let t=class t{};t.type="@@INIT";let r=t;return r})(),Ni=(()=>{let t=class t{constructor(n){this.addedStates=n}};t.type="@@UPDATE_STATE";let r=t;return r})(),Ep=!1,No=new S(Ep?"NGXS_PLUGINS":"");function ur(r){return r.constructor?.type||r.type}var Lo=(r,t,e)=>{r=m({},r);let n=t.split("."),i=n.length-1;return n.reduce((s,o,a)=>(a===i?s[o]=e:s[o]=Array.isArray(s[o])?s[o].slice():m({},s[o]),s&&s[o]),r),r},Li=(r,t)=>t.split(".").reduce((e,n)=>e&&e[n],r);function Gu(r){return typeof r=="function"}var Cp=(()=>{let t=class t{enter(n){return n()}leave(n){return n()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Rp(r,t,e){throw new Error(`State name '${r}' from ${t} already exists in ${e}.`)}function Tp(r){throw new Error(`States must be decorated with @State() decorator, but "${r}" isn't.`)}function Ap(r){return`'${r}' class should be decorated with @Injectable() right after the @State() decorator`}function Ip(r){let t="You have an invalid state initialization order. This typically occurs when `NgxsModule.forFeature`\nor `provideStates` is called before `NgxsModule.forRoot` or `provideStore`.\nOne example is when `NgxsRouterPluginModule.forRoot` is called before `NgxsModule.forRoot`.";if(r){let e=Object.keys(r).map(n=>`"${n}"`);t+=`
Feature states added before the store initialization is complete: ${e.join(", ")}.`}return t}var Ju=(()=>{let t=class t{constructor(n,i){this._ngZone=n,this._platformId=i}enter(n){return gc(this._platformId)?this.runInsideAngular(n):this.runOutsideAngular(n)}leave(n){return this.runInsideAngular(n)}runInsideAngular(n){return W.isInAngularZone()?n():this._ngZone.run(n)}runOutsideAngular(n){return W.isInAngularZone()?this._ngZone.runOutsideAngular(n):n()}};t.\u0275fac=function(i){return new(i||t)(v(W),v($t))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Xu=!1,Qu=new S(Xu?"CUSTOM_NGXS_EXECUTION_STRATEGY":""),Op=new S(Xu?"NGXS_EXECUTION_STRATEGY":"",{providedIn:"root",factory:()=>{let r=g(W),t=g(fa),e=t.get(Qu),n=r instanceof W;return e?t.get(e):t.get(n?Ju:Cp)}}),el=(()=>{let t=class t{constructor(n){this._executionStrategy=n}enter(n){return this._executionStrategy.enter(n)}leave(n){return this._executionStrategy.leave(n)}};t.\u0275fac=function(i){return new(i||t)(v(Op))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),tl=r=>(...t)=>r.shift()(...t,(...n)=>tl(r)(...n));function Ui(r){return ko(t=>r.leave(t))}var nl=(()=>{let t=class t extends Mi{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(t)))(s||t)}})(),t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Uo=(()=>{let t=class t{constructor(n,i){this._parentManager=n,this._pluginHandlers=i,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){let n=this.getPluginHandlers();this.rootPlugins.push(...n)}getPluginHandlers(){return(this._pluginHandlers||[]).map(i=>i.handle?i.handle.bind(i):i)}};t.\u0275fac=function(i){return new(i||t)(v(t,12),v(No,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac});let r=t;return r})(),$o=new WeakMap,Hu=ls.onUnhandledError;ls.onUnhandledError=function(r){let t=$o.get(r);if(t)t();else if(Hu)Hu.call(this,r);else throw r};function Mp(r){let t=$o.get(r);return t?(t(),!0):!1}function Pp(r,t){if(r!==null&&typeof r=="object"){let e=!1;$o.set(r,()=>{e||(e=!0,t())})}return r}function Fp(r){return t=>{let e=t.subscribe({error:n=>{r.runOutsideAngular(()=>{queueMicrotask(()=>{e&&Mp(n)})})}});return new Ce(n=>(e?.unsubscribe(),e=null,t.subscribe(n)))}}var rl=(()=>{let t=class t extends Z{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(t)))(s||t)}})(),t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),xp=(()=>{let t=class t{constructor(n,i,s,o,a,c){this._ngZone=n,this._actions=i,this._actionResults=s,this._pluginManager=o,this._stateStream=a,this._ngxsExecutionStrategy=c}dispatch(n){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(n)).pipe(Fp(this._ngZone),Ui(this._ngxsExecutionStrategy))}dispatchByEvents(n){return Array.isArray(n)?n.length===0?b(void 0):fs(n.map(i=>this.dispatchSingle(i))).pipe(T(()=>{})):this.dispatchSingle(n)}dispatchSingle(n){let i=this._stateStream.getValue(),s=this._pluginManager.plugins;return tl([...s,(o,a)=>{o!==i&&this._stateStream.next(o);let c=this.getActionResultStream(a);return c.subscribe(u=>this._actions.next(u)),this._actions.next({action:a,status:"DISPATCHED"}),this.createDispatchObservable(c)}])(i,n).pipe(dt())}getActionResultStream(n){return this._actionResults.pipe(Y(i=>i.action===n&&i.status!=="DISPATCHED"),Re(1),dt())}createDispatchObservable(n){return n.pipe(ca(i=>{switch(i.status){case"SUCCESSFUL":return b(this._stateStream.getValue());case"ERRORED":return Le(()=>i.error);default:return ge}})).pipe(dt())}};t.\u0275fac=function(i){return new(i||t)(v(W),v(nl),v(rl),v(Uo),v(xi),v(el))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Bo=!1,il=new S(Bo?"ROOT_STATE_TOKEN":""),sl=new S(Bo?"FEATURE_STATE_TOKEN":""),ol=new S(Bo?"NGXS_OPTIONS":""),lr=(()=>{let t=class t{constructor(){this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=Ju,this.selectorOptions={injectContainerState:!1,suppressErrors:!1}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=D({token:t,factory:()=>(()=>{let n=new t,i=g(ol);return j(m(m({},n),i),{selectorOptions:m(m({},n.selectorOptions),i.selectorOptions)})})(),providedIn:"root"});let r=t;return r})(),jo=class{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}};var dr=(()=>{let t=class t{constructor(n,i,s){this._stateStream=n,this._dispatcher=i,this._config=s}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:i=>this._stateStream.next(i),dispatch:i=>this._dispatcher.dispatch(i)}}setStateToTheCurrentWithNew(n){let i=this.getRootStateOperations(),s=i.getState();i.setState(m(m({},s),n.defaults))}};t.\u0275fac=function(i){return new(i||t)(v(xi),v(xp),v(lr))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var kp=!1;function Np(r,t,e){return n=>{let{argumentSelectorFunctions:i,selectorOptions:s}=jp(n,r,t),{suppressErrors:o}=s;return function(c){let u=i.map(l=>l(c));try{return e(...u)}catch(l){if(o&&l instanceof TypeError)return;throw kp&&console.error("The selector below has thrown an error upon invocation. Please check for any unsafe property access that may result in null or undefined values.",r.originalFn),l}}}}function Lp(r,t){let e=t&&t.containerClass,i=Pi(function(...o){let a=r.apply(e,o);return a instanceof Function?Pi.apply(null,[a]):a});return Object.setPrototypeOf(i,r),i}function jp(r,t,e=[]){let n=t.getSelectorOptions(),i=r.getSelectorOptions(n),o=Up(e,i,t.containerClass).map(a=>al(a)(r));return{selectorOptions:i,argumentSelectorFunctions:o}}function Up(r=[],t,e){let n=[],i=t.injectContainerState||r.length===0;return e&&i&&un(e)&&n.push(e),n.push(...r),n}function al(r){let t=Fo(r)||un(r);return t&&t.makeRootSelector||(()=>r)}var zo=!1;function $p(r){return t=>{for(let e=0;e<r.length;e++){if(!t)return;t=t[r[e]]}return t}}function Bp(r){let t=r,e="store."+t[0],n=0,i=t.length,s=e;for(;++n<i;)s=s+" && "+(e=e+"."+t[n]);return new Function("store","return "+s+";")}var zp=new S(zo?"PROP_GETTER":"",{providedIn:"root",factory:()=>g(lr).compatibility?.strictContentSecurityPolicy?$p:Bp});function Vp(r){let t=e=>{let n=r.find(i=>i===e);if(zo&&!n)throw new Error(`Child state not found: ${e}. \r
You may have forgotten to add states to module`);return n[Fe].name};return r.reduce((e,n)=>{let{name:i,children:s}=n[Fe];return e[i]=(s||[]).map(t),e},{})}function Gp(r){return r.reduce((t,e)=>{let n=e[Fe];return t[n.name]=e,t},{})}function Hp(r,t={}){let e=(n,i)=>{for(let s in n)if(n.hasOwnProperty(s)&&n[s].indexOf(i)>=0){let o=e(n,s);return o!==null?`${o}.${s}`:s}return null};for(let n in r)if(r.hasOwnProperty(n)){let i=e(r,n);t[n]=i?`${i}.${n}`:n}return t}function qp(r){let t=[],e={},n=(i,s=[])=>{Array.isArray(s)||(s=[]),s.push(i),e[i]=!0,r[i].forEach(o=>{if(zo&&s.indexOf(o)>=0)throw new Error(`Circular dependency '${o}' is required by '${i}': ${s.join(" -> ")}`);e[o]||n(o,s.slice(0))}),t.indexOf(i)<0&&t.push(i)};return Object.keys(r).forEach(i=>n(i)),t.reverse()}function Wp(...r){return Kp(r,["DISPATCHED"])}function Kp(r,t,e=Zp){let n=Jp(r),i=t&&Xp(t);return function(s){return s.pipe(Yp(n,i),e())}}function Yp(r,t){return Y(e=>{let n=ur(e.action),i=r[n],s=t?t[e.status]:!0;return i&&s})}function Zp(){return T(r=>r.action)}function Jp(r){return r.reduce((t,e)=>(t[ur(e)]=!0,t),{})}function Xp(r){return r.reduce((t,e)=>(t[e]=!0,t),{})}function Qp(r){return t=>{let e=m({},t);for(let n in r)e[n]=r[n];return e}}var Vo=(()=>{let t=class t{constructor(n){this._internalStateOperations=n}createStateContext(n){let i=this._internalStateOperations.getRootStateOperations();return{getState(){let s=i.getState();return ul(s,n.path)},patchState(s){let o=i.getState(),a=Qp(s);qu(i,o,a,n.path)},setState(s){let o=i.getState();Gu(s)?qu(i,o,s,n.path):cl(i,o,s,n.path)},dispatch(s){return i.dispatch(s)}}}};t.\u0275fac=function(i){return new(i||t)(v(dr))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function cl(r,t,e,n){let i=Lo(t,n,e);return r.setState(i),i}function qu(r,t,e,n){let i=ul(t,n),s=e(i);return cl(r,t,s,n)}function ul(r,t){return Li(r,t)}var ww=new RegExp("^[a-zA-Z0-9_]+$");function eg(r,t,e){let n=e[r];n&&n!==t&&Rp(r,t.name,n.name)}function tg(r){r.forEach(t=>{un(t)||Tp(t.name)})}function ng(r){ig(r)||rg(r)||console.warn(Ap(r.name))}function rg(r){return!!r.\u0275prov}function ig(r){return(r.__annotations__||[]).some(e=>e?.ngMetadataName==="Injectable")}var sg=!1,og=new S(sg?"NGXS_DEVELOPMENT_OPTIONS":"",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})}),ag=(()=>{let t=class t{constructor(n){this._ignoredActions=new Set([ki.type,Ni.type]),typeof n.warnOnUnhandledActions=="object"&&this.ignoreActions(...n.warnOnUnhandledActions.ignore)}ignoreActions(...n){for(let i of n)this._ignoredActions.add(i.type)}warn(n){Array.from(this._ignoredActions).some(s=>s===ur(n))||(n=n.constructor&&n.constructor.name!=="Object"?n.constructor.name:n.type,console.warn(`The ${n} action has been dispatched but hasn't been handled. This may happen if the state with an action handler for this action is not registered.`))}};t.\u0275fac=function(i){return new(i||t)(v(og))},t.\u0275prov=D({token:t,factory:t.\u0275fac});let r=t;return r})(),cg=(()=>{let t=class t{constructor(){this._ngZone=g(W),this._errorHandler=g(An)}handleError(n,i){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(n))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),ji=!1;function ug(r){let t=r===void 0?{}:r;return r&&(Array.isArray(r)?t=r.slice():typeof r=="object"&&(t=m({},r))),t}var ln=(()=>{let t=class t{constructor(n,i,s,o,a,c,u){this._injector=n,this._config=i,this._parentFactory=s,this._actions=o,this._actionResults=a,this._stateContextFactory=c,this._initialState=u,this._actionsSubscription=null,this._propGetter=g(zp),this._ngxsUnhandledErrorHandler=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=Pi(()=>{let l=this,d=l._propGetter;function p(y){let _=l.statePaths[y];return _?d(_.split(".")):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(y){let _=p(y);return _||((...w)=>(_||(_=p(y)),_?_(...w):void 0))},getSelectorOptions(y){let _=l._config.selectorOptions;return m(m({},_),y||{})}}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}ngOnDestroy(){this._actionsSubscription?.unsubscribe()}add(n){ji&&tg(n);let{newStates:i}=this.addToStatesMap(n);if(!i.length)return[];let s=Vp(i),o=qp(s),a=Hp(s),c=Gp(i),u=[];for(let l of o){let d=c[l],p=a[l],f=d[Fe];this.addRuntimeInfoToMeta(f,p),ji&&ng(d);let y={name:l,path:p,isInitialised:!1,actions:f.actions,instance:this._injector.get(d),defaults:ug(f.defaults)};this.hasBeenMountedAndBootstrapped(l,p)||u.push(y),this.states.push(y)}return u}addAndReturnDefaults(n){let i=n||[],s=this.add(i);return{defaults:s.reduce((a,c)=>Lo(a,c.path,c.defaults),{}),states:s}}connectActionHandlers(){if(this._parentFactory||this._actionsSubscription!==null)return;let n=new Z;this._actionsSubscription=this._actions.pipe(Y(i=>i.status==="DISPATCHED"),q(i=>{n.next(i);let s=i.action;return this.invokeActions(n,s).pipe(T(()=>({action:s,status:"SUCCESSFUL"})),kt({action:s,status:"CANCELED"}),me(o=>{let a=this._ngxsUnhandledErrorHandler||=this._injector.get(cg),c=Pp(o,()=>a.handleError(o,{action:s}));return b({action:s,status:"ERRORED",error:c})}))})).subscribe(i=>this._actionResults.next(i))}invokeActions(n,i){let s=ur(i),o=[],a=!1;for(let c of this.states){let u=c.actions[s];if(u)for(let l of u){let d=this._stateContextFactory.createStateContext(c);try{let p=c.instance[l.fn](d,i);yt(p)&&(p=H(p)),Cn(p)?(p=p.pipe(q(f=>yt(f)?H(f):Cn(f)?f:b(f)),kt({})),l.options.cancelUncompleted&&(p=p.pipe(Ue(n.pipe(Wp(i)))))):p=b({}).pipe(dt()),o.push(p)}catch(p){o.push(Le(p))}a=!0}}if(ji&&!a){let c=this._injector.get(ag,null);c&&c.warn(i)}return o.length||o.push(b({})),fs(o)}addToStatesMap(n){let i=[],s=this.statesByName;for(let o of n){let a=un(o).name;ji&&eg(a,o,s),!s[a]&&(i.push(o),s[a]=o)}return{newStates:i}}addRuntimeInfoToMeta(n,i){this.statePaths[n.name]=i,n.path=i}hasBeenMountedAndBootstrapped(n,i){let s=Li(this._initialState,i)!==void 0;return this.statesByName[n]&&s}};t.\u0275fac=function(i){return new(i||t)(v(ze),v(lr),v(t,12),v(nl),v(rl),v(Vo),v(xo,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac});let r=t;return r})(),dn=(()=>{let t=class t{constructor(n,i,s,o,a,c){this._stateStream=n,this._internalStateOperations=i,this._config=s,this._internalExecutionStrategy=o,this._stateFactory=a,this._selectableStateStream=this._stateStream.pipe(Ui(this._internalExecutionStrategy),dt({bufferSize:1,refCount:!0})),this.initStateStream(c)}dispatch(n){return this._internalStateOperations.getRootStateOperations().dispatch(n)}select(n){let i=this.getStoreBoundSelectorFn(n);return this._selectableStateStream.pipe(T(i),me(s=>this._config.selectorOptions.suppressErrors&&s instanceof TypeError?b(void 0):Le(s)),aa(),Ui(this._internalExecutionStrategy))}selectOnce(n){return this.select(n).pipe(Re(1))}selectSnapshot(n){return this.getStoreBoundSelectorFn(n)(this._stateStream.getValue())}selectSignal(n){let i=this.getStoreBoundSelectorFn(n);return Nr(()=>i(this._stateStream.state()))}subscribe(n){return this._selectableStateStream.pipe(Ui(this._internalExecutionStrategy)).subscribe(n)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(n){this._internalStateOperations.getRootStateOperations().setState(n)}getStoreBoundSelectorFn(n){let i=al(n),s=this._stateFactory.getRuntimeSelectorContext();return i(s)}initStateStream(n){let i=this._stateStream.value;(!i||Object.keys(i).length===0)&&this._stateStream.next(n)}};t.\u0275fac=function(i){return new(i||t)(v(xi),v(dr),v(lr),v(el),v(ln),v(xo,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),lg=!1,dg=new S(lg?"NGXS_PREBOOT_FNS":"");var hg=(()=>{let t=class t{constructor(n,i){t.store=n,t.config=i}ngOnDestroy(){t.store=null,t.config=null}};t.store=null,t.config=null,t.\u0275fac=function(i){return new(i||t)(v(dn),v(lr))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),fg=!1,ll=(()=>{let t=class t{constructor(n,i,s,o){this._store=n,this._internalStateOperations=i,this._stateContextFactory=s,this._appBootstrappedState=o,this._destroy$=new En(1)}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(n,i){fg&&(n instanceof ki?this._initStateHasBeenDispatched=!0:n instanceof Ni&&!this._initStateHasBeenDispatched&&console.error(Ip(n.addedStates))),this._internalStateOperations.getRootStateOperations().dispatch(n).pipe(Y(()=>!!i),z(()=>this._invokeInitOnStates(i.states)),q(()=>this._appBootstrappedState),Y(s=>!!s),Ue(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(i.states))}_invokeInitOnStates(n){for(let i of n){let s=i.instance;s.ngxsOnChanges&&this._store.select(o=>Li(o,i.path)).pipe(Fr(void 0),la(),Ue(this._destroy$)).subscribe(([o,a])=>{let c=new jo(o,a,!i.isInitialised);s.ngxsOnChanges(c)}),s.ngxsOnInit&&s.ngxsOnInit(this._getStateContext(i)),i.isInitialised=!0}}_invokeBootstrapOnStates(n){for(let i of n){let s=i.instance;s.ngxsAfterBootstrap&&s.ngxsAfterBootstrap(this._getStateContext(i))}}_getStateContext(n){return this._stateContextFactory.createStateContext(n)}};t.\u0275fac=function(i){return new(i||t)(v(dn),v(dr),v(Vo),v(Fi))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),dl=!1;function pg(){(g(dg,{optional:!0})||[]).forEach(o=>o());let t=g(ln),e=g(dr);g(dn),g(hg);let n=g(il,{optional:!0})||[],i=g(ll),s=t.addAndReturnDefaults(n);e.setStateToTheCurrentWithNew(s),t.connectActionHandlers(),i.ngxsBootstrap(new ki,s)}function gg(){g(dn);let r=g(dr),t=g(ln),e=g(sl,{optional:!0})||[],n=g(ll),i=e.reduce((o,a)=>o.concat(a),[]),s=t.addAndReturnDefaults(i);s.states.length&&(r.setStateToTheCurrentWithNew(s),n.ngxsBootstrap(new Ni(s.defaults),s))}var Wu=new S(dl?"NGXS_ROOT_STORE_INITIALIZER":""),Ku=new S(dl?"NGXS_FEATURE_STORE_INITIALIZER":""),mg=[{provide:Wu,useFactory:pg},{provide:Tn,multi:!0,useFactory(){return()=>g(Wu)}}],vg=[{provide:Ku,useFactory:gg},{provide:Tn,multi:!0,useFactory(){return()=>g(Ku)}}];function yg(r,t){return[ln,Uo,...r,{provide:il,useValue:r},{provide:On,useFactory:()=>{let e=g(Fi);return()=>e.bootstrap()},multi:!0},{provide:ol,useValue:t},{provide:Qu,useValue:t.executionStrategy},{provide:zu,useExisting:Vo},{provide:Bu,useExisting:ln}]}function wg(r){return[ln,Uo,...r,{provide:sl,multi:!0,useValue:r}]}function Go(r,t){return(e,n,i)=>{let s=Po(e.constructor),o=Array.isArray(r)?r:[r];for(let a of o){let c=a.type;s.actions[c]||(s.actions[c]=[]),s.actions[c].push({fn:n,options:t||{},type:c})}}}function hl(r){return t=>{let e=t,n=Po(e),i=Object.getPrototypeOf(e),s=Dg(i,r);_g({meta:n,inheritedStateClass:i,optionsWithInheritance:s}),e[Mo]=s}}function Dg(r,t){let e=r[Mo]||{};return m(m({},e),t)}function _g(r){let{meta:t,inheritedStateClass:e,optionsWithInheritance:n}=r,{children:i,defaults:s,name:o}=n,a=typeof o=="string"?o:o&&o.getName()||null;if(e.hasOwnProperty(Fe)){let c=e[Fe]||{};t.actions=m(m({},t.actions),c.actions)}t.children=i,t.defaults=s,t.name=a}var Yu="NGXS_SELECTOR_OPTIONS_META",Zu={getOptions:r=>r&&r[Yu]||{},defineOptions:(r,t)=>{r&&(r[Yu]=t)}};function bg(r,t){let e=Uu(r);e.originalFn=r;let n=()=>({});t&&(e.containerClass=t.containerClass,e.selectorName=t.selectorName||null,n=t.getSelectorOptions||n);let i=m({},e);return e.getSelectorOptions=()=>Sg(i,n()),e}function Sg(r,t){return m(m(m(m({},Zu.getOptions(r.containerClass)||{}),Zu.getOptions(r.originalFn)||{}),r.getSelectorOptions()||{}),t)}function Eg(r,t,e){let n=Lp(t,e),i=bg(t,e);return i.makeRootSelector=Np(i,r,n),n}function Ho(r){return(t,e,n)=>{n||=Object.getOwnPropertyDescriptor(t,e);let i=n?.value,s=Eg(r,i,{containerClass:t,selectorName:e.toString(),getSelectorOptions(){return{}}});return{configurable:!0,get(){return s},originalFn:i}}}function Dw(r=[],...t){let e=[],n={};return t.length>0&&(Cg(t[0])?e.push(...t):(n=t[0],e.push(...t.slice(1)))),$e([...yg(r,n),mg,e])}function Cg(r){return!!r.\u0275providers}function _w(r,...t){return $e([...wg(r),t,vg])}function bw(r){return $e([{provide:No,useClass:r,multi:!0}])}function Sw(r){return g(dn).selectSignal(r)}function fl(r){let t=g(dn);return(...e)=>t.dispatch(new r(...e))}var $i=(()=>{let t=class t{constructor(n){this.session=n}};t.type="[Session] Set Auth Session";let r=t;return r})(),pl=(()=>{let t=class t{constructor(n){this.player=n}};t.type="[Session] Set My Player";let r=t;return r})(),xe,hn=(xe=class{static session(t){return t.session}static user_player(t){return t.user_player}setAuthSession(t,e){e?.session&&t.patchState({session:e.session})}setMyPlayer(t,e){t.patchState({user_player:e.player})}},xe.\u0275fac=function(e){return new(e||xe)},xe.\u0275prov=D({token:xe,factory:xe.\u0275fac}),xe);xt([Go($i),se("design:type",Function),se("design:paramtypes",[Object,$i]),se("design:returntype",void 0)],hn.prototype,"setAuthSession",null);xt([Go(pl),se("design:type",Function),se("design:paramtypes",[Object,pl]),se("design:returntype",void 0)],hn.prototype,"setMyPlayer",null);xt([Ho(),se("design:type",Function),se("design:paramtypes",[Object]),se("design:returntype",void 0)],hn,"session",null);xt([Ho(),se("design:type",Function),se("design:paramtypes",[Object]),se("design:returntype",void 0)],hn,"user_player",null);hn=xt([hl({name:"session_state",defaults:{session:void 0,user_player:void 0}})],hn);var gl=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>import("./chunk-XA5EOUPS.js").then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)};var hr=class extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}},Bi=class extends hr{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},zi=class extends hr{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Vi=class extends hr{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Rg=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(r,t||[])).next())})},fr=class{constructor(t,{headers:e={},customFetch:n}={}){this.url=t,this.headers=e,this.fetch=gl(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n;return Rg(this,void 0,void 0,function*(){try{let{headers:i,method:s,body:o}=e,a={},c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));let u=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(f=>{throw new Bi(f)}),l=u.headers.get("x-relay-error");if(l&&l==="true")throw new zi(u);if(!u.ok)throw new Vi(u);let d=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield u.json():d==="application/octet-stream"?p=yield u.blob():d==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}};var Gi=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};var pr=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Lr:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=this.fetch,i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>h(this,null,function*(){var o,a,c;let u=null,l=null,d=null,p=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){let E=yield s.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=E:l=JSON.parse(E))}let _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,p=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let _=yield s.text();try{u=JSON.parse(_),Array.isArray(u)&&s.status===404&&(l=[],u=null,p=200,f="OK")}catch{s.status===404&&_===""?(p=204,f="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,f="OK"),u&&this.shouldThrowOnError)throw new Gi(u)}return{error:u,data:l,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,c;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=s?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}};var gr=class extends pr{select(t){let e=!1,n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){let o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){let i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){let s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;let c=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var Ee=class extends gr{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let n=e.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){let i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}};var mr=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=e,this.schema=n,this.fetch=i}select(t,{head:e=!1,count:n}={}){let i=e?"HEAD":"GET",s=!1,o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ee({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){let i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){let a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ee({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){let o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ee({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Ee({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ee({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var ml="1.9.2";var vl={"X-Client-Info":`postgrest-js/${ml}`};var vr=class r{constructor(t,{headers:e={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},vl),e),this.schemaName=n,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new mr(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new r(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:n=!1,count:i}={}){let s,o=new URL(`${this.url}/rpc/${t}`),a;n?(s="HEAD",Object.entries(e).forEach(([u,l])=>{o.searchParams.append(u,`${l}`)})):(s="POST",a=e);let c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Ee({method:s,url:o,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var yl="2.9.3";var wl={"X-Client-Info":`realtime-js/${yl}`},Dl="1.0.0",Hi=1e4,_l=1e3,fn=(function(r){return r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed",r})(fn||{}),le=(function(r){return r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving",r})(le||{}),he=(function(r){return r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token",r})(he||{}),qo=(function(r){return r.websocket="websocket",r})(qo||{}),Tt=(function(r){return r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed",r})(Tt||{});var pn=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var qi=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){let i=e.getUint8(1),s=e.getUint8(2),o=this.HEADER_LENGTH+2,a=n.decode(t.slice(o,o+i));o=o+i;let c=n.decode(t.slice(o,o+s));o=o+s;let u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var gn=class{constructor(t,e,n={},i=Hi){this.channel=t,this.event=e,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var yr=class r{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=r.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=r.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=r.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,i){let s=this.cloneDeep(t),o=this.transformState(e),a={},c={};return this.map(s,(u,l)=>{o[u]||(c[u]=l)}),this.map(o,(u,l)=>{let d=s[u];if(d){let p=l.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),y=l.filter(w=>f.indexOf(w.presence_ref)<0),_=d.filter(w=>p.indexOf(w.presence_ref)<0);y.length>0&&(a[u]=y),_.length>0&&(c[u]=_)}else a[u]=l}),this.syncDiff(s,{joins:a,leaves:c},n,i)}static syncDiff(t,e,n,i){let{joins:s,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),p=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}n(a,l,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,c),u.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,n)=>{let i=t[n];return"metas"in i?e[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):e[n]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var k=(function(r){return r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange",r})(k||{}),Ko=(r,t,e={})=>{var n;let i=(n=e.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=Tg(o,r,t,i),s),{})},Tg=(r,t,e,n)=>{let i=t.find(a=>a.name===r),s=i?.type,o=e[r];return s&&!n.includes(s)?bl(s,o):Wo(o)},bl=(r,t)=>{if(r.charAt(0)==="_"){let e=r.slice(1,r.length);return Mg(t,e)}switch(r){case k.bool:return Ag(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return Ig(t);case k.json:case k.jsonb:return Og(t);case k.timestamp:return Pg(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:return Wo(t);default:return Wo(t)}},Wo=r=>r,Ag=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Ig=r=>{if(typeof r=="string"){let t=parseFloat(r);if(!Number.isNaN(t))return t}return r},Og=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},Mg=(r,t)=>{if(typeof r!="string")return r;let e=r.length-1,n=r[e];if(r[0]==="{"&&n==="}"){let s,o=r.slice(1,e);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>bl(t,a))}return r},Pg=r=>typeof r=="string"?r.replace(" ","T"):r;var wr=class r{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},e.config),this.timeout=this.socket.timeout,this.joinPush=new gn(this,he.join,this.params,this.timeout),this.rejoinTimer=new pn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(he.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new yr(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,e=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));let a={},c={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:u})=>{var l;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,p=(l=d?.length)!==null&&l!==void 0?l:0,f=[];for(let y=0;y<p;y++){let _=d[y],{filter:{event:w,schema:E,table:M,filter:N}}=_,I=u&&u[y];if(I&&I.event===w&&I.schema===E&&I.table===M&&I.filter===N)f.push(Object.assign(Object.assign({},_),{id:I.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(n){return h(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,n){return this._on(t,e,n)}send(n){return h(this,arguments,function*(t,e={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:a}=t,c={method:"POST",headers:{apikey:(i=this.socket.apiKey)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=e.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,c,u;let l=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(he.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{let i=new gn(this,he.leave,{},t);i.receive("ok",()=>{e(),n("ok")}).receive("timeout",()=>{e(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(t,e,n){return h(this,null,function*(){let i=new AbortController,s=setTimeout(()=>i.abort(),n),o=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(s),o})}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new gn(this,t,e,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var i,s;let o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=he;if(n&&[a,c,u,l].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,e,n);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,_,w;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(_=f.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var y,_,w,E,M,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){let I=f.id,G=(y=f.filter)===null||y===void 0?void 0:y.event;return I&&((_=e.ids)===null||_===void 0?void 0:_.includes(I))&&(G==="*"||G?.toLocaleLowerCase()===((w=e.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let I=(M=(E=f?.filter)===null||E===void 0?void 0:E.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return I==="*"||I===((N=e?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:_,table:w,commit_timestamp:E,type:M,errors:N}=y;p=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:E,eventType:M,new:{},old:{},errors:N}),this._getPayloadRecords(y))}f.callback(p,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){let i=t.toLocaleLowerCase(),s={type:i,filter:e,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,e){let n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&r.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(he.close,{},t)}_onError(t){this._on(he.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Ko(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Ko(t.columns,t.old_record)),e}};var xg=()=>{},kg=typeof WebSocket<"u",Dr=class{constructor(t,e){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=wl,this.params={},this.timeout=Hi,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xg,this.conn=null,this.sendBuffer=[],this.serializer=new qi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>import("./chunk-XA5EOUPS.js").then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${qo.websocket}`,e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(n=e?.params)===null||n===void 0?void 0:n.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=e?.encode?e.encode:(s,o)=>o(JSON.stringify(s)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pn(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(kg){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Yo(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-TAITHJF6.js").then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t})}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Tt.Connecting;case fn.open:return Tt.Open;case fn.closing:return Tt.Closing;default:return Tt.Closed}}isConnected(){return this.connectionState()===Tt.Open}channel(t,e={config:{}}){let n=new wr(`realtime:${t}`,e,this);return this.channels.push(n),n}push(t){let{topic:e,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(he.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dl}))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:n,event:i,payload:s,ref:o}=e;(o&&o===this.pendingHeartbeatRef||i===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(he.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let n=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(_l,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Yo=class{constructor(t,e,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}};var mn=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function K(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Wi=class extends mn{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},_r=class extends mn{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var Ng=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(r,t||[])).next())})},Ki=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>import("./chunk-XA5EOUPS.js").then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},Sl=()=>Ng(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-XA5EOUPS.js")).Response:Response});var vn=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(r,t||[])).next())})},Zo=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Lg=(r,t)=>vn(void 0,void 0,void 0,function*(){let e=yield Sl();r instanceof e?r.json().then(n=>{t(new Wi(Zo(n),r.status||500))}).catch(n=>{t(new _r(Zo(n),n))}):t(new _r(Zo(r),r))}),jg=(r,t,e,n)=>{let i={method:r,headers:t?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),e))};function Yi(r,t,e,n,i,s){return vn(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(e,jg(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Lg(c,a))})})}function br(r,t,e,n){return vn(this,void 0,void 0,function*(){return Yi(r,"GET",t,e,n)})}function ke(r,t,e,n,i){return vn(this,void 0,void 0,function*(){return Yi(r,"POST",t,n,i,e)})}function El(r,t,e,n,i){return vn(this,void 0,void 0,function*(){return Yi(r,"PUT",t,n,i,e)})}function Zi(r,t,e,n,i){return vn(this,void 0,void 0,function*(){return Yi(r,"DELETE",t,n,i,e)})}var fe=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(r,t||[])).next())})},Ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ji=class{constructor(t,e={},n,i){this.url=t,this.headers=e,this.bucketId=n,this.fetch=Ki(i)}uploadOrUpdate(t,e,n,i){return fe(this,void 0,void 0,function*(){try{let s,o=Object.assign(Object.assign({},Cl),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl)):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),l=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),d=yield l.json();return l.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(K(s))return{data:null,error:s};throw s}})}upload(t,e,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,i){return fe(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let c,u=Object.assign({upsert:Cl.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),p=yield d.json();return d.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(K(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t){return fe(this,void 0,void 0,function*(){try{let e=this._getFinalPath(t),n=yield ke(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:this.headers}),i=new URL(this.url+n.url),s=i.searchParams.get("token");if(!s)throw new mn("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:s},error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}update(t,e,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e){return fe(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}copy(t,e){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers})).Key},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}createSignedUrl(t,e,n){return fe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ke(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,n){return fe(this,void 0,void 0,function*(){try{let i=yield ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}download(t,e){return fe(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield br(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(K(a))return{data:null,error:a};throw a}})}getPublicUrl(t,e){let n=this._getFinalPath(t),i=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);let a=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return fe(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}list(t,e,n){return fe(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},Ug),e),{prefix:t||""});return{data:yield ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var Rl="2.5.5";var Tl={"X-Client-Info":`storage-js/${Rl}`};var yn=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(r,t||[])).next())})},Xi=class{constructor(t,e={},n){this.url=t,this.headers=Object.assign(Object.assign({},Tl),e),this.fetch=Ki(n)}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}})}getBucket(t){return yn(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return yn(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}updateBucket(t,e){return yn(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}emptyBucket(t){return yn(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}deleteBucket(t){return yn(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}};var Sr=class extends Xi{constructor(t,e={},n){super(t,e,n)}from(t){return new Ji(this.url,this.headers,t,this.fetch)}};var Al="2.40.0";var Er="";typeof Deno<"u"?Er="deno":typeof document<"u"?Er="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Er="react-native":Er="node";var $g={"X-Client-Info":`supabase-js-${Er}/${Al}`},Il={headers:$g},Ol={schema:"public"},Ml={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pl={};var Bg=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(r,t||[])).next())})},zg=r=>{let t;return r?t=r:typeof fetch>"u"?t=Lr:t=fetch,(...e)=>t(...e)},Vg=()=>typeof Headers>"u"?Ha:Headers,Fl=(r,t,e)=>{let n=zg(e),i=Vg();return(s,o)=>Bg(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:r,u=new i(o?.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};function xl(r){return r.replace(/\/$/,"")}function kl(r,t){let{db:e,auth:n,realtime:i,global:s}=r,{db:o,auth:a,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),s)}}function Nl(r){return Math.round(Date.now()/1e3)+r}function Ll(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}var pe=()=>typeof document<"u",At={tested:!1,writable:!1},at=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(At.tested)return At.writable;let r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),At.tested=!0,At.writable=!0}catch{At.tested=!0,At.writable=!1}return At.writable};function Qi(r){let t={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return e.searchParams.forEach((n,i)=>{t[i]=n}),t}var es=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>import("./chunk-XA5EOUPS.js").then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},jl=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ct=(r,t,e)=>h(null,null,function*(){yield r.setItem(t,JSON.stringify(e))}),Rr=(r,t)=>h(null,null,function*(){let e=yield r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),ts=(r,t)=>h(null,null,function*(){yield r.removeItem(t)});function Gg(r){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",n,i,s,o,a,c,u,l=0;for(r=r.replace("-","+").replace("_","/");l<r.length;)o=t.indexOf(r.charAt(l++)),a=t.indexOf(r.charAt(l++)),c=t.indexOf(r.charAt(l++)),u=t.indexOf(r.charAt(l++)),n=o<<2|a>>4,i=(a&15)<<4|c>>2,s=(c&3)<<6|u,e=e+String.fromCharCode(n),c!=64&&i!=0&&(e=e+String.fromCharCode(i)),u!=64&&s!=0&&(e=e+String.fromCharCode(s));return e}var Cr=class r{constructor(){this.promise=new r.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Cr.promiseConstructor=Promise;function Jo(r){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=r.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let n=e[1];return JSON.parse(Gg(n))}function Ul(r){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),r)})})}function $l(r,t){return new Promise((n,i)=>{h(null,null,function*(){for(let s=0;s<1/0;s++)try{let o=yield r(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})})}function Hg(r){return("0"+r.toString(16)).substr(-2)}function It(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length,i="";for(let s=0;s<56;s++)i+=e.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Hg).join("")}function qg(r){return h(this,null,function*(){let e=new TextEncoder().encode(r),n=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function Wg(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Ot(r){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;let e=yield qg(r);return Wg(e)})}var Tr=class extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}};function A(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}var ns=class extends Tr{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function Bl(r){return A(r)&&r.name==="AuthApiError"}var wn=class extends Tr{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},qe=class extends Tr{constructor(t,e,n){super(t),this.name=e,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},We=class extends qe{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Dn=class extends qe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Mt=class extends qe{constructor(t){super(t,"AuthInvalidCredentialsError",400)}},Pt=class extends qe{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ar=class extends qe{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_n=class extends qe{constructor(t,e){super(t,"AuthRetryableFetchError",e)}};function is(r){return A(r)&&r.name==="AuthRetryableFetchError"}var rs=class extends qe{constructor(t,e,n){super(t,"AuthWeakPasswordError",e),this.reasons=n}};var Kg=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},bn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Yg=[502,503,504];function zl(r){return h(this,null,function*(){if(!jl(r))throw new _n(bn(r),0);if(Yg.includes(r.status))throw new _n(bn(r),r.status);let t;try{t=yield r.json()}catch(e){throw new wn(bn(e),e)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,n)=>e&&typeof n=="string",!0)?new rs(bn(t),r.status,t.weak_password.reasons):new ns(bn(t),r.status||500)})}var Zg=(r,t,e,n)=>{let i={method:r,headers:t?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),e))};function O(r,t,e,n){return h(this,null,function*(){var i;let s=Object.assign({},n?.headers);n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);let o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield Jg(r,t,e+a,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}})}function Jg(r,t,e,n,i,s){return h(this,null,function*(){let o=Zg(t,n,i,s),a;try{a=yield r(e,o)}catch(c){throw console.error(c),new _n(bn(c),0)}if(a.ok||(yield zl(a)),n?.noResolveJson)return a;try{return yield a.json()}catch(c){yield zl(c)}})}function ut(r){var t;let e=null;Xg(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=Nl(r.expires_in)));let n=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:n},error:null}}function Xo(r){let t=ut(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,n)=>e&&typeof n=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Ne(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function Vl(r){return{data:r,error:null}}function Gl(r){let{action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:s}=r,o=Kg(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Hl(r){return r}function Xg(r){return r.access_token&&r.refresh_token&&r.expires_in}var Qg=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},Sn=class{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=es(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,e="global"){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}})}inviteUserByEmail(n){return h(this,arguments,function*(t,e={}){try{return yield O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Ne})}catch(i){if(A(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:e}=t,n=Qg(t,["options"]),i=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),yield O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Gl,redirectTo:e?.redirectTo})}catch(e){if(A(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ne})}catch(e){if(A(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return h(this,null,function*(){var e,n,i,s,o,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=yield O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Hl});if(l.error)throw l.error;let d=yield l.json(),p=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=_}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}})}getUserById(t){return h(this,null,function*(){try{return yield O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ne})}catch(e){if(A(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return h(this,null,function*(){try{return yield O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Ne})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}})}deleteUser(t,e=!1){return h(this,null,function*(){try{return yield O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Ne})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}})}_listFactors(t){return h(this,null,function*(){try{let{data:e,error:n}=yield O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:n}}catch(e){if(A(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return h(this,null,function*(){try{return{data:yield O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(A(e))return{data:null,error:e};throw e}})}};var ss="0.0.0";var ql="http://localhost:9999",Wl="supabase.auth.token";var Kl={"X-Client-Info":`gotrue-js/${ss}`},Qo=10;var Yl={getItem:r=>at()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{at()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{at()&&globalThis.localStorage.removeItem(r)}};function ea(r={}){return{getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]}}}function Zl(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ft={debug:!!(globalThis&&at()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ir=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},os=class extends Ir{};function ta(r,t,e){return h(this,null,function*(){Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),yield globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},i=>h(null,null,function*(){if(i){Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return yield e()}finally{Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(t===0)throw Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new os(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ft.debug)try{let s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}}))})}Zl();var em={url:ql,storageKey:Wl,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kl,flowType:"implicit",debug:!1},Or=30*1e3,Jl=3;function Xl(r,t,e){return h(this,null,function*(){return yield e()})}var as=(()=>{class r{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=r.nextInstanceID,r.nextInstanceID+=1,this.instanceID>0&&pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let s=Object.assign(Object.assign({},em),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Sn({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=es(s.fetch),this.lock=s.lock||Xl,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,s.lock?this.lock=s.lock:pe()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=ta:this.lock=Xl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:at()?this.storage=Yl:(this.memoryStorage={},this.storage=ea(this.memoryStorage)):(this.memoryStorage={},this.storage=ea(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",o=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ss}) ${new Date().toISOString()}`,...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){try{let e=pe()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:n,error:i}=yield this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),i?.message==="Identity is already linked"||i?.message==="Identity is already linked to another user"?{error:i}:(yield this._removeSession(),{error:i});let{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),yield this._saveSession(s),setTimeout(()=>h(this,null,function*(){o==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return A(e)?{error:e}:{error:new wn("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(e){return h(this,null,function*(){var n,i,s;try{yield this._removeSession();let o;if("email"in e){let{email:d,password:p,options:f}=e,y=null,_=null;if(this.flowType==="pkce"){let w=It();yield ct(this.storage,`${this.storageKey}-code-verifier`,w),y=yield Ot(w),_=w===y?"plain":"s256"}o=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:y,code_challenge_method:_},xform:ut})}else if("phone"in e){let{phone:d,password:p,options:f}=e;o=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ut})}else throw new Mt("You must provide either an email or phone number and a password");let{data:a,error:c}=o;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(e){return h(this,null,function*(){try{yield this._removeSession();let n;if("email"in e){let{email:o,password:a,options:c}=e;n=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Xo})}else if("phone"in e){let{phone:o,password:a,options:c}=e;n=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Xo})}else throw new Mt("You must provide either an email or phone number and a password");let{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Dn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(e){return h(this,null,function*(){var n,i,s,o;return yield this._removeSession(),yield this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return h(this,null,function*(){let n=yield Rr(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/"),{data:o,error:a}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ut});return yield ts(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Dn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})})}signInWithIdToken(e){return h(this,null,function*(){yield this._removeSession();try{let{options:n,provider:i,token:s,access_token:o,nonce:a}=e,c=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ut}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Dn}:(u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOtp(e){return h(this,null,function*(){var n,i,s,o,a;try{if(yield this._removeSession(),"email"in e){let{email:c,options:u}=e,l=null,d=null;if(this.flowType==="pkce"){let f=It();yield ct(this.storage,`${this.storageKey}-code-verifier`,f),l=yield Ot(f),d=f===l?"plain":"s256"}let{error:p}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:c,options:u}=e,{data:l,error:d}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u?.data)!==null&&s!==void 0?s:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Mt("You must provide either an email or phone number.")}catch(c){if(A(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(e){return h(this,null,function*(){var n,i;try{e.type!=="email_change"&&e.type!=="phone_change"&&(yield this._removeSession());let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ut});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(yield this._saveSession(u),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){return h(this,null,function*(){var n,i,s;try{yield this._removeSession();let o=null,a=null;if(this.flowType==="pkce"){let c=It();yield ct(this.storage,`${this.storageKey}-code-verifier`,c),o=yield Ot(c),a=c===o?"plain":"s256"}return yield O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Vl})}catch(o){if(A(o))return{data:null,error:o};throw o}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new We;let{error:s}=yield O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return h(this,null,function*(){try{e.type!="email_change"&&e.type!="phone_change"&&(yield this._removeSession());let n=`${this.url}/resend`;if("email"in e){let{email:i,type:s,options:o}=e,{error:a}=yield O(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:s,options:o}=e,{data:a,error:c}=yield O(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Mt("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(e=>h(this,null,function*(){return e}))}))})}_acquireLock(e,n){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=h(this,null,function*(){return yield i,yield n()});return this.pendingInLock.push(h(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=n();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let n=yield this.__loadSession();return yield e(n)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,n=yield Rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i)return{data:{session:e},error:null};let{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ne}):yield this._useSession(n=>h(this,null,function*(){var i,s;let{data:o,error:a}=n;if(a)throw a;return yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ne})}))}catch(n){if(A(n))return{data:{user:null},error:n};throw n}})}updateUser(i){return h(this,arguments,function*(e,n={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,n)}))})}_updateUser(i){return h(this,arguments,function*(e,n={}){try{return yield this._useSession(s=>h(this,null,function*(){let{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new We;let c=o.session,u=null,l=null;if(this.flowType==="pkce"&&e.email!=null){let f=It();yield ct(this.storage,`${this.storageKey}-code-verifier`,f),u=yield Ot(f),l=f===u?"plain":"s256"}let{data:d,error:p}=yield O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:l}),jwt:c.access_token,xform:Ne});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(s){if(A(s))return{data:{user:null},error:s};throw s}})}_decodeJWT(e){return Jo(e)}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new We;let n=Date.now()/1e3,i=n,s=!0,o=null,a=Jo(e.access_token);if(a.exp&&(i=a.exp,s=i<=n),s){let{session:c,error:u}=yield this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};o=c}else{let{data:c,error:u}=yield this._getUser(e.access_token);if(u)throw u;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){var i;if(!e){let{data:a,error:c}=n;if(c)throw c;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new We;let{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromURL(e){return h(this,null,function*(){try{if(!pe())throw new Pt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Pt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ar("Not a valid PKCE flow url.");let n=Qi(window.location.href);if(e){if(!n.code)throw new Ar("No code detected.");let{data:N,error:I}=yield this._exchangeCodeForSession(n.code);if(I)throw I;let G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:N.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Pt(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!o||!c||!a||!l)throw new Pt("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;u&&(f=parseInt(u));let y=f-d;y*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let _=f-p;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",_,f,d);let{data:w,error:E}=yield this._getUser(o);if(E)throw E;let M={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:p,expires_at:f,refresh_token:a,token_type:l,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:n.type},error:null}}catch(n){if(A(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantFlow(){let e=Qi(window.location.href);return!!(pe()&&(e.access_token||e.error_description))}_isPKCEFlow(){return h(this,null,function*(){let e=Qi(window.location.href),n=yield Rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(n=>h(this,null,function*(){var i;let{data:s,error:o}=n;if(o)return{error:o};let a=(i=s.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,e);if(c&&!(Bl(c)&&(c.status===404||c.status===401)))return{error:c}}return e!=="others"&&(yield this._removeSession(),yield ts(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(e){let n=Ll(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(n)}))}),{data:{subscription:i}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(n=>h(this,null,function*(){var i,s;try{let{data:{session:o},error:a}=n;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(e,n={}){let s=null,o=null;if(this.flowType==="pkce"){let a=It();yield ct(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),s=yield Ot(a),o=a===s?"plain":"s256"}try{return yield O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(A(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:n,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}})}linkIdentity(e){return h(this,null,function*(){var n;try{let{data:i,error:s}=yield this._useSession(o=>h(this,null,function*(){var a,c,u,l,d;let{data:p,error:f}=o;if(f)throw f;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return yield O(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return pe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(A(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){var i,s;let{data:o,error:a}=n;if(a)throw a;return yield O(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})}))}catch(n){if(A(n))return{data:null,error:n};throw n}})}_refreshAccessToken(e){return h(this,null,function*(){let n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{let i=Date.now();return yield $l(s=>h(this,null,function*(){return yield Ul(s*200),this._debug(n,"refreshing attempt",s),yield O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})}),(s,o,a)=>a&&a.error&&is(a.error)&&Date.now()+(s+1)*200-i<Or)}catch(i){if(this._debug(n,"error",i),A(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,n){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),pe()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e;let n="#_recoverAndRefresh()";this._debug(n,"begin");try{let i=yield Rr(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=Math.round(Date.now()/1e3),o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<s+Qo;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Qo}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),is(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var n,i;if(!e)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cr;let{data:o,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new We;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),A(o)){let a={session:null,error:o};return is(o)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,n,i=!0){return h(this,null,function*(){let s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});let o=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(e,n)}catch(u){o.push(u)}}));if(yield Promise.all(a),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),yield ct(this.storage,this.storageKey,e)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield ts(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((i.expires_at*1e3-e)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Or}ms, refresh threshold is ${Jl} ticks`),s<=Jl&&(yield this._callRefreshToken(i.refresh_token))}))}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ir)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!pe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,n,i){return h(this,null,function*(){let s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let o=It();yield ct(this.storage,`${this.storageKey}-code-verifier`,o);let a=yield Ot(o),c=o===a?"plain":"s256";this._debug("PKCE","code verifier",`${o.substring(0,5)}...`,"code challenge",a,"method",c);let u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(u.toString())}if(i?.queryParams){let o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){var i;let{data:s,error:o}=n;return o?{data:null,error:o}:yield O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(n){if(A(n))return{data:null,error:n};throw n}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){var i,s;let{data:o,error:a}=n;if(a)return{data:null,error:a};let{data:c,error:u}=yield O(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(!((s=c?.totp)===null||s===void 0)&&s.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(n){if(A(n))return{data:null,error:n};throw n}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){var i;let{data:s,error:o}=n;if(o)return{data:null,error:o};let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(n){if(A(n))return{data:null,error:n};throw n}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){var i;let{data:s,error:o}=n;return o?{data:null,error:o}:yield O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(n){if(A(n))return{data:null,error:n};throw n}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:n,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:e},error:n}=yield this.getUser();if(n)return{data:null,error:n};let i=e?.factors||[],s=i.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:i,totp:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var n,i;let{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(s.access_token),c=null;a.aal&&(c=a.aal);let u=c;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}))})}}return r.nextInstanceID=0,r})();var cs=class extends as{constructor(t){super(t)}};var tm=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(r,t||[])).next())})},us=class{constructor(t,e,n){var i,s,o,a,c,u,l,d;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let p=xl(t);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;let f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:Ol,realtime:Pl,auth:Object.assign(Object.assign({},Ml),{storageKey:f}),global:Il},_=kl(n??{},y);this.storageKey=(s=(i=_.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=_.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,(u=_.global)===null||u===void 0?void 0:u.fetch),this.fetch=Fl(e,this._getAccessToken.bind(this),(l=_.global)===null||l===void 0?void 0:l.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},_.realtime)),this.rest=new vr(`${p}/rest/v1`,{headers:this.headers,schema:(d=_.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new fr(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sr(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return tm(this,void 0,void 0,function*(){let{data:n}=yield this.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,debug:a},c,u){let l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cs({url:this.authUrl,headers:Object.assign(Object.assign({},l),c),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,flowType:o,debug:a,fetch:u})}_initRealtimeClient(t){return new Dr(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Ql=(r,t,e)=>new us(r,t,e);var na={production:!1,supabaseUrl:"https://oprwdvxabhtnalgsrhem.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wcndkdnhhYmh0bmFsZ3NyaGVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwODgwMzAsImV4cCI6MjA3NzY2NDAzMH0.efTUosjVlZ_tUq5FGG8j-GZnUpWyMfFVREaVGLCxUvA"};var Eb=(()=>{let t=class t{constructor(){this.setAuthSession=fl($i),this._session=null,this.currentUser=new J(null),this.supabase=Ql(na.supabaseUrl,na.supabaseKey),this.supabase.auth.onAuthStateChange((n,i)=>{this.setAuthSession(i),n==="SIGNED_IN"||n==="TOKEN_REFRESHED"?i?.user&&this.currentUser.next(i.user):this.currentUser.next(null)})}get session(){return this.supabase.auth.getSession().then(({data:n})=>{this._session=n.session}),this._session}profile(n){return this.supabase.from("profiles").select("username, website, avatar_url").eq("id",n.id).single()}authChanges(n){return this.supabase.auth.onAuthStateChange(n)}signInGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:"/"}})}signInOTP(n){return this.supabase.auth.signInWithOtp({email:n})}signInPW(n,i){return this.supabase.auth.signInWithPassword({email:n,password:i})}signOut(){return this.supabase.auth.signOut()}updateProfile(n){let i=j(m({},n),{updated_at:new Date});return this.supabase.from("profiles").upsert(i)}getPlayers(){return h(this,null,function*(){let n=(yield this.supabase.from("players").select("*")).data;return n?n.sort((i,s)=>i.trikot-s.trikot):[]})}getGameStats(n){return h(this,null,function*(){return yield this.supabase.rpc("getGameStats",{game_id:n})})}downLoadImage(n){return this.supabase.storage.from("profile_pictures").download(n)}uploadAvatar(n,i){return h(this,null,function*(){return(yield this.supabase.storage.from("profile_pictures").upload(n,i)).data?.path})}getCurrentUser(){return this.currentUser.asObservable()}getCurrentUserId(){return this.currentUser.value?this.currentUser.value.id:"null"}getProfile(n){return h(this,null,function*(){return this.supabase.from("profiles").select("*").eq("id",n).single()})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{Te as a,Qe as b,Cd as c,Rd as d,Id as e,Md as f,Pd as g,Fd as h,pc as i,wv as j,Ys as k,th as l,Pc as m,Ah as n,qy as o,Lc as p,Oh as q,ue as r,Pe as s,yo as t,Se as u,Oi as v,cp as w,lp as x,dp as y,hp as z,K0 as A,ki as B,ur as C,Cp as D,dn as E,Dw as F,_w as G,bw as H,Sw as I,fl as J,$i as K,pl as L,hn as M,Eb as N};
