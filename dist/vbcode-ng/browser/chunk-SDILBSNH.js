import{a as ee,b as te}from"./chunk-SHADY5E3.js";import{a as P}from"./chunk-RPOIAFM2.js";import{a as V}from"./chunk-ZNAIGONW.js";import{a as X}from"./chunk-SYK7F3C3.js";import{a as h}from"./chunk-TCJH5OWT.js";import{b as W}from"./chunk-FJTHVV5D.js";import{a as J,e as Q}from"./chunk-ADS45SPD.js";import{a as Y}from"./chunk-GN3SLP74.js";import{f as U,g as H,h as E,j as u,l as j,o as z,p as K,s as Z,t as $}from"./chunk-UGQI2ENJ.js";import{h as L}from"./chunk-4OMBSZZJ.js";import"./chunk-3ACIU7HM.js";import"./chunk-SECEFDB3.js";import"./chunk-VKAWOJXU.js";import"./chunk-KBJD7QSN.js";import{V as q}from"./chunk-VZPJVAJY.js";import{l as R,p as T}from"./chunk-GBB5DFIW.js";import{Db as c,Jb as G,Lb as M,Mb as I,Nb as i,Ob as t,Pb as g,dd as b,fc as n,hb as o,hc as p,hd as N,la as f,qc as D,ra as C,ua as A,uc as O,vc as r,wc as s,xc as d}from"./chunk-H7CKKUTN.js";import{g as v}from"./chunk-GAL4ENT6.js";var ie=(()=>{class l{transform(a,m){if(a)return a.filter(e=>e.kind===m)}static \u0275fac=function(m){return new(m||l)};static \u0275pipe=A({name:"kindFilter",type:l,pure:!0,standalone:!0})}return l})();var ae=(l,S,a)=>[l,S,"details",a];function re(l,S){if(l&1&&(i(0,"mat-option",4),n(1),t()),l&2){let a=S.$implicit;c("value",a.id),o(),p(" ",a.title," ")}}var Ae=(()=>{class l{ROUTES=V;supabase=f(L);actionsService=f(X);eventsService=f(Y);events=this.eventsService.getEvents();actions;hits=[];kinds=h;gameF=new E({game_id:new u(""),game_set:new u("Alle")});pieChartDist={series:[]};newGameF=new E({title:new u(""),date:new u(new Date)});setCountOptionOfGame=[1];ngOnInit(){return v(this,null,function*(){this.events=this.eventsService.getEvents();let a=(yield this.events)[0].id;if(!a)return;this.gameF.controls.game_id.setValue(a),this.actions=this.actionsService.getActionsOfEvent(a),yield this.refreshHits();let m=[{name:"Attack",value:(yield this.actions).filter(e=>e.kind===h.Attack).length}];this.pieChartDist.series=m,this.gameF.controls.game_id.valueChanges.subscribe(e=>v(this,null,function*(){this.actions=this.actionsService.getActionsOfEvent(e||""),yield this.refreshHits()}))})}refreshHits(){return v(this,null,function*(){this.hits=(yield this.actions)?.filter(a=>a.kind===h.Attack)})}createNewGame(){return v(this,null,function*(){yield this.eventsService.createEvent(this.newGameF.value),this.newGameF.reset()})}static \u0275fac=function(m){return new(m||l)};static \u0275cmp=C({type:l,selectors:[["app-gameview"]],standalone:!0,features:[D],decls:75,vars:52,consts:[[1,"flex","flex-col","max-w-full","overflow-hidden"],[1,"flex","gap-8","p-5"],[1,"flex","gap-4",3,"formGroup"],["formControlName","game_id"],["selected","",3,"value"],["placeholder","Satz","formControlName","game_set",3,"value"],["value","Alle"],["value","1"],[1,"flex","w-full","justify-between","p-5"],[1,"stats","stats-vertical","shadow","w-1/2"],[1,"stat"],[1,"stat-title"],[1,"stat-value","text-secondary"],[1,"btn",3,"routerLink"],["echarts","",1,"h-40","w-full",3,"options"]],template:function(m,e){if(m&1&&(i(0,"div",0)(1,"div",1)(2,"form",2)(3,"mat-form-field")(4,"mat-label"),n(5,"Game:"),t(),i(6,"mat-select",3),M(7,re,2,2,"mat-option",4,G),r(9,"async"),t()(),i(10,"mat-form-field")(11,"mat-label"),n(12,"Satz:"),t(),i(13,"mat-select",5)(14,"mat-option",6),n(15,"Alle"),t(),i(16,"mat-option",7),n(17," 1 "),t()()()()(),g(18,"hr"),i(19,"div",8)(20,"div",9)(21,"div",10)(22,"div",11),n(23,"Angriffe"),t(),i(24,"div",12),n(25),r(26,"async"),r(27,"kindFilter"),t()(),i(28,"div",10)(29,"div",11),n(30,"Aufschl\xE4ge"),t(),i(31,"div",12),n(32),r(33,"async"),r(34,"kindFilter"),t()(),i(35,"div",10)(36,"div",11),n(37,"Annahme"),t(),i(38,"div",12),n(39),r(40,"async"),r(41,"kindFilter"),t()()(),i(42,"div",9)(43,"div",10)(44,"div",11),n(45,"Blocks"),t(),i(46,"div",12),n(47),r(48,"async"),r(49,"kindFilter"),t()(),i(50,"div",10)(51,"div",11),n(52,"Zuspiele"),t(),i(53,"div",12),n(54),r(55,"async"),r(56,"kindFilter"),t()(),i(57,"div",10)(58,"div",11),n(59,"Defense"),t(),i(60,"div",12),n(61),r(62,"async"),r(63,"kindFilter"),t()(),i(64,"div",10)(65,"div",11),n(66,"FreeBall"),t(),i(67,"div",12),n(68),r(69,"async"),r(70,"kindFilter"),t()()()(),i(71,"a",13),n(72,"Details"),t(),g(73,"div",14)(74,"hr"),t()),m&2){let F,k,w,y,_,x,B;o(2),c("formGroup",e.gameF),o(5),I(s(9,11,e.events)),o(6),c("value","Alle"),o(12),p(" ",(F=d(27,15,s(26,13,e.actions),e.kinds.Attack))==null?null:F.length," "),o(7),p(" ",(k=d(34,20,s(33,18,e.actions),e.kinds.Serve))==null?null:k.length," "),o(7),p(" ",(w=d(41,25,s(40,23,e.actions),e.kinds.Recieve))==null?null:w.length," "),o(8),p(" ",(y=d(49,30,s(48,28,e.actions),e.kinds.Block))==null?null:y.length," "),o(7),p(" ",(_=d(56,35,s(55,33,e.actions),e.kinds.Set))==null?null:_.length," "),o(7),p(" ",(x=d(63,40,s(62,38,e.actions),e.kinds.Def))==null?null:x.length," "),o(7),p(" ",(B=d(70,45,s(69,43,e.actions),e.kinds.Free))==null?null:B.length," "),o(3),c("routerLink",O(48,ae,e.ROUTES.root,e.ROUTES.report,e.gameF.controls.game_id.value)),o(2),c("options",e.pieChartDist)}},dependencies:[T,R,N,b,ie,Q,W,J,P,Z,j,U,H,$,z,K,te,ee,q],encapsulation:2})}return l})();export{Ae as GameViewComponent};
