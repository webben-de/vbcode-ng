import{a as d,c as m}from"./chunk-AC5BHCOO.js";import{y as l}from"./chunk-UFIXWNDQ.js";import{fa as o,h as r,la as c}from"./chunk-4E5X34BO.js";import{g as t}from"./chunk-GAL4ENT6.js";var s="actions",w=(()=>{class n{getActionsOfEventByGradeAndPlayer(e,a,i){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown).eq("game_id",e).eq("grade",a).eq("player_id",i)).data})}getActionsOfEventByGrade(e,a){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown).eq("game_id",e).eq("grade",a)).data})}getActionsOfEventByKindAndGrade(e,a,i){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown).eq("game_id",e).eq("kind",a).eq("grade",i)).data})}allColsInclBreakdown="*, player_id (id, name, trikot) ";getActionsOfEventByKindAndPlayer(e,a,i){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown).eq("game_id",e).eq("kind",a).eq("player_id",i)).data})}getActionsOfEventByKind(e,a){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown).eq("game_id",e).eq("kind",a)).data})}supabase=c(l).supabase;getActionsOfEvent(e){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown).order("created_at").eq("game_id",e)).data})}getActionsOfEventOfSet(e,a){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown).eq("game_id",e).eq("game_set",a)).data})}getActions(){return t(this,null,function*(){return(yield this.supabase.from(s).select(this.allColsInclBreakdown)).data})}createAction(e){return t(this,null,function*(){return(yield this.supabase.from(s).upsert(e).select()).data})}getAcesOfEvent(e){return t(this,null,function*(){return(yield this.supabase.from(s).select("*").eq("game_id",e).eq("kind",m.Serve).eq("grade",d["#"])).data})}deleteAction(e){return t(this,null,function*(){return(yield this.supabase.from(s).delete().eq("id",e)).data})}actionChangesChannel=this.supabase.channel("actions-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"actions"},e=>{this.actions$.next(e)}).subscribe();actions$=new r(null);static \u0275fac=function(a){return new(a||n)};static \u0275prov=o({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();export{w as a};
