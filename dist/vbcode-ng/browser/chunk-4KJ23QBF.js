import{$ as nt,$a as bt,$b as Nr,$c as Bm,$d as ks,A as q,Aa as Z,Ab as On,Ac as _m,Ad as zt,Ae as Ks,B as Qt,Ba as Hi,Bb as En,Bc as as,Bd as ds,C as Me,Ca as Gi,Cb as gm,Cc as $,Cd as vs,D as O,Da as fn,Db as Fi,Dc as $i,Dd as ms,E as pt,Ea as hn,Eb as Vn,Ec as ae,Ed as gs,F as we,Fa as Yt,Fb as Ur,Fc as Qi,Fd as ys,G as he,Ga as dn,Gb as re,Gc as Gr,Gd as xs,H as Ae,Ha as vn,Hb as Un,Hc as bm,Hd as Ve,I as Vi,Ia as mn,Ib as Nn,Ic as os,Id as qm,J as Ht,Ja as De,Jb as Pe,Jc as Tm,Jd as ea,K as Rt,Ka as et,Kb as Wi,Kc as Mm,Kd as Ss,L as Ce,La as gn,Lb as Bn,Lc as wm,Ld as _s,M as Je,Ma as ve,Mb as Vt,Mc as Am,Md as ht,N as Zo,Na as yn,Nb as dt,Nc as Cm,Nd as bs,O as mm,Oa as Xt,Ob as ke,Oc as Im,Od as Ts,P as Ir,Pa as Pr,Pb as Hn,Pc as Dm,Pd as Ms,Q as Ie,Qa as Gt,Qb as Re,Qc as zm,Qd as ws,R as Yo,Ra as xn,Rb as Oe,Rc as Lm,Rd as As,S as Ui,Sa as tr,Sb as Gn,Sc as Pm,Sd as Nt,T as Xo,Ta as Ot,Tb as j,Tc as km,Td as Yr,U as Qc,Ua as er,Ub as Zi,Uc as Rm,Ud as Cs,V as Dr,Va as Sn,Vb as ar,Vc as Om,Vd as Is,W as Ni,Wa as _n,Wb as Yi,Wc as Em,Wd as Ds,X as Ko,Xa as bn,Xb as Fn,Xc as Vm,Xd as ra,Y as qo,Ya as At,Yb as Xi,Yc as Um,Yd as zs,Z as Jt,Za as Tn,Zb as ie,Zc as Ee,Zd as Ls,_ as zr,_a as te,_b as Ki,_c as Nm,_d as Ps,a as A,aa as W,ab as kr,ac as Br,ad as Hm,ae as Rs,b as vm,ba as ft,bb as Rr,bc as Hr,bd as Gm,be as Os,c as N,ca as Y,cb as ee,cc as ym,cd as Fm,ce as Es,d as J,da as mt,db as rr,dc as Wn,dd as Wm,de as Vs,e as Ho,ea as jo,eb as ze,ec as It,ed as Zm,ee as Us,f as B,fa as $o,fb as st,fc as Zn,fd as Ym,fe as Ns,g as F,ga as Qo,gb as Or,gc as Yn,gd as Xm,ge as Bs,h as tt,ha as Bi,hb as Mn,hc as Xn,hd as Km,he as Hs,i as $t,ia as Jo,ib as rt,ic as xm,id as R,ie as Xr,j as Go,ja as at,jb as wn,jc as or,jd as Fr,je as Gs,k as _,ka as wt,kb as An,kc as Kn,kd as nr,ke as Fs,l as P,la as tn,lb as Cn,lc as Sm,ld as ns,le as Ws,m as ut,ma as en,mb as Tt,mc as Ft,md as ss,me as Zs,n as be,na as rn,nb as ir,nc as me,nd as ls,ne as ia,o as L,oa as de,ob as In,oc as qn,od as us,oe as Ys,p as U,pa as an,pb as Dn,pc as qi,pd as sr,pe as jm,q as D,qa as on,qb as zn,qc as jn,qd as Wr,qe as $m,r as G,ra as nn,rb as Le,rc as $n,rd as Zr,re as Qm,s as V,sa as sn,sb as Er,sc as Qn,sd as Ji,se as Jm,t as Te,ta as X,tb as Ln,tc as Jn,td as ps,te as tg,u as ot,ua as Lr,ub as Pn,uc as ts,ud as Dt,ue as eg,v as Qe,va as ln,vb as Et,vc as es,vd as ta,ve as rg,w as Fo,wa as _t,wb as Vr,wc as rs,wd as Ut,we as ig,x as Mt,xa as un,xb as kn,xc as is,xd as cs,xe as ag,y as yt,ya as pn,yb as Rn,yc as ji,yd as fs,ye as og,z as Wo,za as cn,zb as Ct,zc as Kt,zd as hs,ze as Xs}from"./chunk-B45TNREH.js";import"./chunk-EL2NI3EA.js";function Jc(i){if(i){for(var e=[],t=0;t<i.length;t++)e.push(i[t].slice());return e}}function tf(i,e){var t=i.label,r=e&&e.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:Jc(r&&r.shape.points)}}var qs=["align","verticalAlign","width","height","fontSize"],xt=new Ir,aa=X(),ef=X();function Kr(i,e,t){for(var r=0;r<t.length;r++){var a=t[r];e[a]!=null&&(i[a]=e[a])}}var qr=["x","y","rotation"],rf=function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(e,t,r,a,o){var n=a.style,s=a.__hostTarget,l=s.textConfig||{},u=a.getComputedTransform(),p=a.getBoundingRect().plain();Rt.applyTransform(p,p,u),u?xt.setLocalTransform(u):(xt.x=xt.y=xt.rotation=xt.originX=xt.originY=0,xt.scaleX=xt.scaleY=1),xt.rotation=qo(xt.rotation);var c=a.__hostTarget,f;if(c){f=c.getBoundingRect().plain();var h=c.getComputedTransform();Rt.applyTransform(f,f,h)}var d=f&&c.getTextGuideLine();this._labelList.push({label:a,labelLine:d,seriesModel:r,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:p,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:d&&d.ignore,x:xt.x,y:xt.y,scaleX:xt.scaleX,scaleY:xt.scaleY,rotation:xt.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},i.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,a=r.get("labelLayout");(G(a)||be(a).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var n=o.getTextContent(),s=Z(o);n&&!n.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,n,a)})},i.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function a(y,b){return function(){qi(y,b)}}for(var o=0;o<this._labelList.length;o++){var n=this._labelList[o],s=n.label,l=s.__hostTarget,u=n.defaultAttr,p=void 0;G(n.layoutOption)?p=n.layoutOption(tf(n,l)):p=n.layoutOption,p=p||{},n.computedLayoutOption=p;var c=Math.PI/180;l&&l.setTextConfig({local:!1,position:p.x!=null||p.y!=null?null:u.attachedPos,rotation:p.rotate!=null?p.rotate*c:u.attachedRot,offset:[p.dx||0,p.dy||0]});var f=!1;if(p.x!=null?(s.x=Y(p.x,t),s.setStyle("x",0),f=!0):(s.x=u.x,s.setStyle("x",u.style.x)),p.y!=null?(s.y=Y(p.y,r),s.setStyle("y",0),f=!0):(s.y=u.y,s.setStyle("y",u.style.y)),p.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:p.labelLinePoints}),f=!1)}var d=aa(s);d.needsUpdateLabelLine=f,s.rotation=p.rotate!=null?p.rotate*c:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var v=0;v<qs.length;v++){var m=qs[v];s.setStyle(m,p[m]!=null?p[m]:u.style[m])}if(p.draggable){if(s.draggable=!0,s.cursor="move",l){var g=n.seriesModel;if(n.dataIndex!=null){var S=n.seriesModel.getData(n.dataType);g=S.getItemModel(n.dataIndex)}s.on("drag",a(l,g.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},i.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),a=Qn(this._labelList),o=ut(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),n=ut(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});Jn(o,0,t),ts(n,0,r);var s=ut(a,function(l){return l.layoutOption.hideOverlap});es(s)},i.prototype.processLabelsOverall=function(){var e=this;_(this._chartViewList,function(t){var r=t.__model,a=t.ignoreLabelLineUpdate,o=r.isAnimationEnabled();t.group.traverse(function(n){if(n.ignore&&!n.forceLabelAnimation)return!0;var s=!a,l=n.getTextContent();!s&&l&&(s=aa(l).needsUpdateLabelLine),s&&e._updateLabelLine(n,r),o&&e._animateLabels(n,r)})})},i.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),a=Z(e),o=a.dataIndex;if(r&&o!=null){var n=t.getData(a.dataType),s=n.getItemModel(o),l={},u=n.getItemVisual(o,"style");if(u){var p=n.getVisual("drawType");l.stroke=u[p]}var c=s.getModel("labelLine");jn(e,$n(s),l),qi(e,c)}},i.prototype._animateLabels=function(e,t){var r=e.getTextContent(),a=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!Sn(e))){var o=aa(r),n=o.oldLayout,s=Z(e),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},p=t.getData(s.dataType);if(n){r.attr(n);var f=e.prevStates;f&&(tt(f,"select")>=0&&r.attr(o.oldLayoutSelect),tt(f,"emphasis")>=0&&r.attr(o.oldLayoutEmphasis)),Ot(r,u,t,l)}else if(r.attr(u),!An(r).valueAnimation){var c=yt(r.style.opacity,1);r.style.opacity=0,er(r,{style:{opacity:c}},t,l)}if(o.oldLayout=u,r.states.select){var h=o.oldLayoutSelect={};Kr(h,u,qr),Kr(h,r.states.select,qr)}if(r.states.emphasis){var d=o.oldLayoutEmphasis={};Kr(d,u,qr),Kr(d,r.states.emphasis,qr)}Cn(r,l,p,t,t)}if(a&&!a.ignore&&!a.invisible){var o=ef(a),n=o.oldLayout,v={points:a.shape.points};n?(a.attr({shape:n}),Ot(a,{shape:v},t)):(a.setShape(v),a.style.strokePercent=0,er(a,{style:{strokePercent:1}},t)),o.oldLayout=v}},i}(),js=rf;var oa=X();function na(i){i.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var a=oa(t).labelManager;a||(a=oa(t).labelManager=new js),a.clearLabels()}),i.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var a=oa(t).labelManager;r.updatedSeries.forEach(function(o){a.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),a.updateLayoutConfig(t),a.layout(t),a.processLabelsOverall()})}var ge=X(),$s=N,sa=L,of=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,r,a){var o=t.get("value"),n=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!a&&this._lastValue===o&&this._lastStatus===n)){this._lastValue=o,this._lastStatus=n;var s=this._group,l=this._handle;if(!n||n==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,e,t,r);var p=u.graphicKey;p!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=p;var c=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new et,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var f=U(Qs,t,c);this.updatePointerEl(s,u,f),this.updateLabelEl(s,u,f,t)}tl(s,t,!0),this._renderHandle(o)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var r=t.get("animation"),a=e.axis,o=a.type==="category",n=t.get("snap");if(!n&&!o)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(o&&a.getBandWidth()>s)return!0;if(n){var l=fs(e).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},i.prototype.makeElOption=function(e,t,r,a,o){},i.prototype.createPointerEl=function(e,t,r,a){var o=t.pointer;if(o){var n=ge(e).pointerEl=new st[o.type]($s(t.pointer));e.add(n)}},i.prototype.createLabelEl=function(e,t,r,a){if(t.label){var o=ge(e).labelEl=new W($s(t.label));e.add(o),Js(o,a)}},i.prototype.updatePointerEl=function(e,t,r){var a=ge(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),r(a,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,r,a){var o=ge(e).labelEl;o&&(o.setStyle(t.label.style),r(o,{x:t.label.x,y:t.label.y}),Js(o,a))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),a=this._handle,o=t.getModel("handle"),n=t.get("status");if(!o.get("show")||!n||n==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=ee(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Kt(u.event)},onmousedown:sa(this._onHandleDragMove,this,0,0),drift:sa(this._onHandleDragMove,this),ondragend:sa(this._onHandleDragEnd,this)}),r.add(a)),tl(a,t,!1),a.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");D(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,Ft(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},i.prototype._moveHandleToValue=function(e,t){Qs(this._axisPointerModel,!t&&this._moveAnimation,this._handle,la(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(la(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(la(a)),ge(r).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,a=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),me(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},i}();function Qs(i,e,t,r){rl(ge(t).lastProp,r)||(ge(t).lastProp=r,e?Ot(t,r,i):(t.stopAnimation(),t.attr(r)))}function rl(i,e){if(ot(i)&&ot(e)){var t=!0;return _(e,function(r,a){t=t&&rl(i[a],r)}),!!t}else return i===e}function Js(i,e){i[e.get(["label","show"])?"show":"hide"]()}function la(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function tl(i,e,t){var r=e.get("z"),a=e.get("zlevel");i&&i.traverse(function(o){o.type!=="group"&&(r!=null&&(o.z=r),a!=null&&(o.zlevel=a),o.silent=t)})}var Ue=of;function Ne(i){var e=i.get("type"),t=i.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function pa(i,e,t,r,a){var o=t.get("value"),n=ca(o,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=re(s.get("padding")||0),u=s.getFont(),p=Ce(n,u),c=a.position,f=p.width+l[1]+l[3],h=p.height+l[0]+l[2],d=a.align;d==="right"&&(c[0]-=f),d==="center"&&(c[0]-=f/2);var v=a.verticalAlign;v==="bottom"&&(c[1]-=h),v==="middle"&&(c[1]-=h/2),nf(c,f,h,r);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),i.label={x:c[0],y:c[1],style:rt(s,{text:n,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function nf(i,e,t,r){var a=r.getWidth(),o=r.getHeight();i[0]=Math.min(i[0]+e,a)-e,i[1]=Math.min(i[1]+t,o)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function ca(i,e,t,r,a){i=e.scale.parse(i);var o=e.scale.getLabel({value:i},{precision:a.precision}),n=a.formatter;if(n){var s={value:Zr(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};_(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,c=u&&u.getDataParams(p);c&&s.seriesData.push(c)}),V(n)?o=n.replace("{value}",o):G(n)&&(o=n(s))}return o}function lr(i,e,t){var r=we();return Ae(r,r,t.rotation),he(r,r,t.position),bt([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function jr(i,e,t,r,a,o){var n=Ut.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=a.get(["label","margin"]),pa(e,r,a,o,{position:lr(r.axis,i,t),align:n.textAlign,verticalAlign:n.textVerticalAlign})}function Be(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function $r(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}function fa(i,e,t,r,a,o){return{cx:i,cy:e,r0:t,r,startAngle:a,endAngle:o,clockwise:!0}}var sf=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,o,n){var s=a.axis,l=s.grid,u=o.get("type"),p=nl(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var f=Ne(o),h=lf[u](s,c,p);h.style=f,t.graphicKey=h.type,t.pointer=h}var d=ta(l.model,a);jr(r,t,d,a,o,n)},e.prototype.getHandleTransform=function(t,r,a){var o=ta(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=a.get(["handle","margin"]);var n=lr(r.axis,t,o);return{x:n[0],y:n[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,o){var n=a.axis,s=n.grid,l=n.getGlobalExtent(!0),u=nl(s,n).getOtherAxis(n).getGlobalExtent(),p=n.dim==="x"?0:1,c=[t.x,t.y];c[p]+=r[p],c[p]=Math.min(l[1],c[p]),c[p]=Math.max(l[0],c[p]);var f=(u[1]+u[0])/2,h=[f,f];h[p]=c[p];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:h,tooltipOption:d[p]}},e}(Ue);function nl(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var lf={line:function(i,e,t){var r=Be([e,t[0]],[e,t[1]],sl(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=Math.max(1,i.getBandWidth()),a=t[1]-t[0];return{type:"Rect",shape:$r([e-r/2,t[0]],[r,a],sl(i))}}};function sl(i){return i.dim==="x"?0:1}var ll=sf;var uf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(j),ul=uf;var qt=X(),pf=_;function Jr(i,e,t){if(!pt.node){var r=e.getZr();qt(r).records||(qt(r).records={}),cf(r,e);var a=qt(r).records[i]||(qt(r).records[i]={});a.handler=t}}function cf(i,e){if(qt(i).initialized)return;qt(i).initialized=!0,t("click",U(pl,"click")),t("mousemove",U(pl,"mousemove")),t("globalout",hf);function t(r,a){i.on(r,function(o){var n=df(e);pf(qt(i).records,function(s){s&&a(s,o,n.dispatchAction)}),ff(n.pendings,e)})}}function ff(i,e){var t=i.showTip.length,r=i.hideTip.length,a;t?a=i.showTip[t-1]:r&&(a=i.hideTip[r-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function hf(i,e,t){i.handler("leave",null,t)}function pl(i,e,t,r){e.handler(i,t,r)}function df(i){var e={showTip:[],hideTip:[]},t=function(r){var a=e[r.type];a?a.push(r):(r.dispatchAction=t,i.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function ur(i,e){if(!pt.node){var t=e.getZr(),r=(qt(t).records||{})[i];r&&(qt(t).records[i]=null)}}var vf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var o=r.getComponent("tooltip"),n=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";Jr("axisPointer",a,function(s,l,u){n!=="none"&&(s==="leave"||n.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){ur("axisPointer",r)},e.prototype.dispose=function(t,r){ur("axisPointer",r)},e.type="axisPointer",e}($),fl=vf;function pr(i,e){var t=[],r=i.seriesIndex,a;if(r==null||!(a=e.getSeriesByIndex(r)))return{point:[]};var o=a.getData(),n=sn(o,i);if(n==null||n<0||D(n))return{point:[]};var s=o.getItemGraphicEl(n),l=a.coordinateSystem;if(a.getTooltipPosition)t=a.getTooltipPosition(n)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),p=l.getOtherAxis(u),c=p.dim,f=u.dim,h=c==="x"||c==="radius"?1:0,d=o.mapDimension(f),v=[];v[h]=o.get(d,n),v[1-h]=o.get(o.getCalculationInfo("stackResultDimension"),n),t=l.dataToPoint(v)||[]}else t=l.dataToPoint(o.getValues(P(l.dimensions,function(g){return o.mapDimension(g)}),n))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var hl=X();function ha(i,e,t){var r=i.currTrigger,a=[i.x,i.y],o=i,n=i.dispatchAction||L(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ei(a)&&(a=pr({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=ei(a),u=o.axesInfo,p=s.axesInfo,c=r==="leave"||ei(a),f={},h={},d={list:[],map:{}},v={showPointer:U(gf,h),showTooltip:U(yf,d)};_(s.coordSysMap,function(g,S){var y=l||g.containPoint(a);_(s.coordSysAxesInfo[S],function(b,x){var T=b.axis,M=bf(u,b);if(!c&&y&&(!u||M)){var C=M&&M.value;C==null&&!l&&(C=T.pointToData(a)),C!=null&&dl(b,C,v,!1,f)}})});var m={};return _(p,function(g,S){var y=g.linkGroup;y&&!h[S]&&_(y.axesInfo,function(b,x){var T=h[x];if(b!==g&&T){var M=T.value;y.mapper&&(M=g.axis.scale.parse(y.mapper(M,vl(b),vl(g)))),m[g.key]=M}})}),_(m,function(g,S){dl(p[S],g,v,!0,f)}),xf(h,p,f),Sf(d,a,i,n),_f(p,n,t),f}}function dl(i,e,t,r,a){var o=i.axis;if(!(o.scale.isBlank()||!o.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var n=mf(e,i),s=n.payloadBatch,l=n.snapToValue;s[0]&&a.seriesIndex==null&&B(a,s[0]),!r&&i.snap&&o.containData(l)&&l!=null&&(e=l),t.showPointer(i,e,s),t.showTooltip(i,n,l)}}function mf(i,e){var t=e.axis,r=t.dim,a=i,o=[],n=Number.MAX_VALUE,s=-1;return _(e.seriesModels,function(l,u){var p=l.getData().mapDimensionsAll(r),c,f;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(p,i,t);f=h.dataIndices,c=h.nestestValue}else{if(f=l.getData().indicesOfNearest(p[0],i,t.type==="category"?.5:null),!f.length)return;c=l.getData().get(p[0],f[0])}if(!(c==null||!isFinite(c))){var d=i-c,v=Math.abs(d);v<=n&&((v<n||d>=0&&s<0)&&(n=v,s=d,a=c,o.length=0),_(f,function(m){o.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:o,snapToValue:a}}function gf(i,e,t,r){i[e.key]={value:t,payloadBatch:r}}function yf(i,e,t,r){var a=t.payloadBatch,o=e.axis,n=o.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,u=hs(l),p=i.map[u];p||(p=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(p)),p.dataByAxis.push({axisDim:o.dim,axisIndex:n.componentIndex,axisType:n.type,axisId:n.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function xf(i,e,t){var r=t.axesInfo=[];_(e,function(a,o){var n=a.axisPointerModel.option,s=i[o];s?(!a.useHandle&&(n.status="show"),n.value=s.value,n.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(n.status="hide"),n.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:n.value})})}function Sf(i,e,t,r){if(ei(e)||!i.list.length){r({type:"hideTip"});return}var a=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:i.list})}function _f(i,e,t){var r=t.getZr(),a="axisPointerLastHighlights",o=hl(r)[a]||{},n=hl(r)[a]={};_(i,function(u,p){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&_(c.seriesDataIndices,function(f){var h=f.seriesIndex+" | "+f.dataIndex;n[h]=f})});var s=[],l=[];_(o,function(u,p){!n[p]&&l.push(u)}),_(n,function(u,p){!o[p]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function bf(i,e){for(var t=0;t<(i||[]).length;t++){var r=i[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function vl(i){var e=i.axis.model,t={},r=t.axisDim=i.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function ei(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function Bt(i){zt.registerAxisPointerClass("CartesianAxisPointer",ll),i.registerComponentModel(ul),i.registerComponentView(fl),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!D(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=cs(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ha)}function da(i){R(ms),R(Bt)}var Tf=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,o,n){var s=a.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),p=u.getExtent(),c=s.dataToCoord(r),f=o.get("type");if(f&&f!=="none"){var h=Ne(o),d=wf[f](s,l,c,p);d.style=h,t.graphicKey=d.type,t.pointer=d}var v=o.get(["label","margin"]),m=Mf(r,a,o,l,v);pa(t,a,o,n,m)},e}(Ue);function Mf(i,e,t,r,a){var o=e.axis,n=o.dataToCoord(i),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,p,c;if(o.dim==="radius"){var f=we();Ae(f,f,s),he(f,f,[r.cx,r.cy]),u=bt([n,-a],f);var h=e.getModel("axisLabel").get("rotate")||0,d=Ut.innerTextLayout(s,h*Math.PI/180,-1);p=d.textAlign,c=d.textVerticalAlign}else{var v=l[1];u=r.coordToPoint([v+a,n]);var m=r.cx,g=r.cy;p=Math.abs(u[0]-m)/v<.3?"center":u[0]>m?"left":"right",c=Math.abs(u[1]-g)/v<.3?"middle":u[1]>g?"top":"bottom"}return{position:u,align:p,verticalAlign:c}}var wf={line:function(i,e,t,r){return i.dim==="angle"?{type:"Line",shape:Be(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(i,e,t,r){var a=Math.max(1,i.getBandWidth()),o=Math.PI/180;return i.dim==="angle"?{type:"Sector",shape:fa(e.cx,e.cy,r[0],r[1],(-t-a/2)*o,(-t+a/2)*o)}:{type:"Sector",shape:fa(e.cx,e.cy,t-a/2,t+a/2,0,Math.PI*2)}}},ml=Tf;var Af=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,a=this.ecModel;return a.eachComponent(t,function(o){o.getCoordSysModel()===this&&(r=o)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(j),gl=Af;var va=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",_t).models[0]},e.type="polarAxis",e}(j);$t(va,Fr);var yl=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(va);var xl=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(va);var ma=function(i){A(e,i);function e(t,r){return i.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(Dt);ma.prototype.dataToRadius=Dt.prototype.dataToCoord;ma.prototype.radiusToData=Dt.prototype.coordToData;var Sl=ma;var Cf=X(),ga=function(i){A(e,i);function e(t,r){return i.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),a=t.scale,o=a.getExtent(),n=a.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),p=Ce(s==null?"":s+"",r.getFont(),"center","top"),c=Math.max(p.height,7),f=c/u;isNaN(f)&&(f=1/0);var h=Math.max(0,Math.floor(f)),d=Cf(t.model),v=d.lastAutoInterval,m=d.lastTickCount;return v!=null&&m!=null&&Math.abs(v-h)<=1&&Math.abs(m-n)<=1&&v>h?h=v:(d.lastTickCount=n,d.lastAutoInterval=h),h},e}(Dt);ga.prototype.dataToAngle=Dt.prototype.dataToCoord;ga.prototype.angleToData=Dt.prototype.coordToData;var _l=ga;var ya=["radius","angle"],If=function(){function i(e){this.dimensions=ya,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Sl,this._angleAxis=new _l,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},i.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},i.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,a=this._radiusAxis;return r.scale.type===e&&t.push(r),a.scale.type===e&&t.push(a),t},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},i.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},i.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},i.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,a=this.getAngleAxis(),o=a.getExtent(),n=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);a.inverse?n=s-360:s=n+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,p=u<n?1:-1;u<n||u>s;)u+=p*360;return[l,u]},i.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,a=Math.cos(r)*t+this.cx,o=-Math.sin(r)*t+this.cy;return[a,o]},i.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var a=e.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-a[0]*o,endAngle:-a[1]*o,clockwise:e.inverse,contain:function(n,s){var l=n-this.cx,u=s-this.cy,p=l*l+u*u-1e-4,c=this.r,f=this.r0;return p<=c*c&&p>=f*f}}},i.prototype.convertToPixel=function(e,t,r){var a=bl(t);return a===this?this.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=bl(t);return a===this?this.pointToData(r):null},i}();function bl(i){var e=i.seriesModel,t=i.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}var Tl=If;function Df(i,e,t){var r=e.get("center"),a=t.getWidth(),o=t.getHeight();i.cx=Y(r[0],a),i.cy=Y(r[1],o);var n=i.getRadiusAxis(),s=Math.min(a,o)/2,l=e.get("radius");l==null?l=[0,"100%"]:D(l)||(l=[0,l]);var u=[Y(l[0],s),Y(l[1],s)];n.inverse?n.setExtent(u[1],u[0]):n.setExtent(u[0],u[1])}function zf(i,e){var t=this,r=t.getAngleAxis(),a=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),i.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();_(Ji(l,"radius"),function(u){a.scale.unionExtentFromData(l,u)}),_(Ji(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),sr(r.scale,r.model),sr(a.scale,a.model),r.type==="category"&&!r.onBand){var o=r.getExtent(),n=360/r.scale.count();r.inverse?o[1]+=n:o[1]-=n,r.setExtent(o[0],o[1])}}function Lf(i){return i.mainType==="angleAxis"}function Ml(i,e){var t;if(i.type=e.get("type"),i.scale=Wr(e),i.onBand=e.get("boundaryGap")&&i.type==="category",i.inverse=e.get("inverse"),Lf(e)){i.inverse=i.inverse!==e.get("clockwise");var r=e.get("startAngle"),a=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(i.inverse?-360:360);i.setExtent(r,a)}e.axis=i,i.model=e}var Pf={dimensions:ya,create:function(i,e){var t=[];return i.eachComponent("polar",function(r,a){var o=new Tl(a+"");o.update=zf;var n=o.getRadiusAxis(),s=o.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");Ml(n,l),Ml(s,u),Df(o,r,e),t.push(o),r.coordinateSystem=o,o.model=r}),i.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var a=r.getReferringComponents("polar",_t).models[0];r.coordinateSystem=a.coordinateSystem}}),t}},wl=Pf;var kf=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function ri(i,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=i.coordToPoint([e[0],t]),a=i.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:a[0],y2:a[1]}}function ii(i){var e=i.getRadiusAxis();return e.inverse?0:1}function Al(i){var e=i[0],t=i[i.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&i.pop()}var Rf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var a=t.axis,o=a.polar,n=o.getRadiusAxis().getExtent(),s=a.getTicksCoords(),l=a.getMinorTicksCoords(),u=P(a.getViewLabels(),function(p){p=N(p);var c=a.scale,f=c.type==="ordinal"?c.getRawOrdinalNumber(p.tickValue):p.tickValue;return p.coord=a.dataToCoord(f),p});Al(u),Al(s),_(kf,function(p){t.get([p,"show"])&&(!a.scale.isBlank()||p==="axisLine")&&Of[p](this.group,t,o,s,l,n,u)},this)}},e.type="angleAxis",e}(zt),Of={axisLine:function(i,e,t,r,a,o){var n=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),p=ii(t),c=p?0:1,f,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";o[c]===0?f=new st[h]({shape:{cx:t.cx,cy:t.cy,r:o[p],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:n.getLineStyle(),z2:1,silent:!0}):f=new yn({shape:{cx:t.cx,cy:t.cy,r:o[p],r0:o[c]},style:n.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,i.add(f)},axisTick:function(i,e,t,r,a,o){var n=e.getModel("axisTick"),s=(n.get("inside")?-1:1)*n.get("length"),l=o[ii(t)],u=P(r,function(p){return new Gt({shape:ri(t,[l,l+s],p.coord)})});i.add(At(u,{style:F(n.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(i,e,t,r,a,o){if(a.length){for(var n=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(n.get("inside")?-1:1)*s.get("length"),u=o[ii(t)],p=[],c=0;c<a.length;c++)for(var f=0;f<a[c].length;f++)p.push(new Gt({shape:ri(t,[u,u+l],a[c][f].coord)}));i.add(At(p,{style:F(s.getModel("lineStyle").getLineStyle(),F(n.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(i,e,t,r,a,o,n){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),p=e.get("triggerEvent");_(n,function(c,f){var h=l,d=c.tickValue,v=o[ii(t)],m=t.coordToPoint([v+u,c.coord]),g=t.cx,S=t.cy,y=Math.abs(m[0]-g)/v<.3?"center":m[0]>g?"left":"right",b=Math.abs(m[1]-S)/v<.3?"middle":m[1]>S?"top":"bottom";if(s&&s[d]){var x=s[d];ot(x)&&x.textStyle&&(h=new Tt(x.textStyle,l,l.ecModel))}var T=new W({silent:Ut.isLabelSilent(e),style:rt(h,{x:m[0],y:m[1],fill:h.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:c.formattedLabel,align:y,verticalAlign:b})});if(i.add(T),p){var M=Ut.makeAxisEventDataBase(e);M.targetType="axisLabel",M.value=c.rawLabel,Z(T).eventData=M}},this)},splitLine:function(i,e,t,r,a,o){var n=e.getModel("splitLine"),s=n.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var p=[],c=0;c<r.length;c++){var f=u++%l.length;p[f]=p[f]||[],p[f].push(new Gt({shape:ri(t,o,r[c].coord)}))}for(var c=0;c<p.length;c++)i.add(At(p[c],{style:F({stroke:l[c%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(i,e,t,r,a,o){if(a.length){for(var n=e.getModel("minorSplitLine"),s=n.getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var p=0;p<a[u].length;p++)l.push(new Gt({shape:ri(t,o,a[u][p].coord)}));i.add(At(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(i,e,t,r,a,o){if(r.length){var n=e.getModel("splitArea"),s=n.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var p=[],c=Math.PI/180,f=-r[0].coord*c,h=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),v=e.get("clockwise"),m=1,g=r.length;m<=g;m++){var S=m===g?r[0].coord:r[m].coord,y=u++%l.length;p[y]=p[y]||[],p[y].push(new ve({shape:{cx:t.cx,cy:t.cy,r0:h,r:d,startAngle:f,endAngle:-S*c,clockwise:v},silent:!0})),f=-S*c}for(var m=0;m<p.length;m++)i.add(At(p[m],{style:F({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}}},Cl=Rf;var Ef=["axisLine","axisTickLabel","axisName"],Vf=["splitLine","splitArea","minorSplitLine"],Uf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,o=this._axisGroup=new et;this.group.add(o);var n=t.axis,s=n.polar,l=s.getAngleAxis(),u=n.getTicksCoords(),p=n.getMinorTicksCoords(),c=l.getExtent()[0],f=n.getExtent(),h=Bf(s,t,c),d=new Ut(t,h);_(Ef,d.add,d),o.add(d.getGroup()),Rr(a,o,t),_(Vf,function(v){t.get([v,"show"])&&!n.scale.isBlank()&&Nf[v](this.group,t,s,c,f,u,p)},this)}},e.type="radiusAxis",e}(zt),Nf={splitLine:function(i,e,t,r,a,o){var n=e.getModel("splitLine"),s=n.getModel("lineStyle"),l=s.get("color"),u=0,p=t.getAngleAxis(),c=Math.PI/180,f=p.getExtent(),h=Math.abs(f[1]-f[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var d=[],v=0;v<o.length;v++){var m=u++%l.length;d[m]=d[m]||[],d[m].push(new st[h]({shape:{cx:t.cx,cy:t.cy,r:Math.max(o[v].coord,0),startAngle:-f[0]*c,endAngle:-f[1]*c,clockwise:p.inverse}}))}for(var v=0;v<d.length;v++)i.add(At(d[v],{style:F({stroke:l[v%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(i,e,t,r,a,o,n){if(n.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],p=0;p<n.length;p++)for(var c=0;c<n[p].length;c++)u.push(new gn({shape:{cx:t.cx,cy:t.cy,r:n[p][c].coord}}));i.add(At(u,{style:F({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(i,e,t,r,a,o){if(o.length){var n=e.getModel("splitArea"),s=n.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var p=[],c=o[0].coord,f=1;f<o.length;f++){var h=u++%l.length;p[h]=p[h]||[],p[h].push(new ve({shape:{cx:t.cx,cy:t.cy,r0:c,r:o[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),c=o[f].coord}for(var f=0;f<p.length;f++)i.add(At(p[f],{style:F({fill:l[f%l.length]},s.getAreaStyle()),silent:!0}))}}};function Bf(i,e,t){return{position:[i.cx,i.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var Il=Uf;function Dl(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function zl(i,e){return e.dim+i.model.componentIndex}function Hf(i,e,t){var r={},a=Gf(ut(e.getSeriesByType(i),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));e.eachSeriesByType(i,function(o){if(o.coordinateSystem.type==="polar"){var n=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=zl(s,l),p=Dl(o),c=a[u][p],f=c.offset,h=c.width,d=s.getOtherAxis(l),v=o.coordinateSystem.cx,m=o.coordinateSystem.cy,g=o.get("barMinHeight")||0,S=o.get("barMinAngle")||0;r[p]=r[p]||[];for(var y=n.mapDimension(d.dim),b=n.mapDimension(l.dim),x=Vr(n,y),T=l.dim!=="radius"||!o.get("roundCap",!0),M=d.model,C=M.get("startValue"),w=d.dataToCoord(C||0),I=0,z=n.count();I<z;I++){var E=n.get(y,I),k=n.get(b,I),H=E>=0?"p":"n",K=w;x&&(r[p][k]||(r[p][k]={p:w,n:w}),K=r[p][k][H]);var Q=void 0,ct=void 0,it=void 0,lt=void 0;if(d.dim==="radius"){var gt=d.dataToCoord(E)-w,kt=l.dataToCoord(k);Math.abs(gt)<g&&(gt=(gt<0?-1:1)*g),Q=K,ct=K+gt,it=kt-f,lt=it-h,x&&(r[p][k][H]=ct)}else{var fe=d.dataToCoord(E,T)-w,Cr=l.dataToCoord(k);Math.abs(fe)<S&&(fe=(fe<0?-1:1)*S),Q=Cr+f,ct=Q+h,it=K,lt=K+fe,x&&(r[p][k][H]=lt)}n.setItemLayout(I,{cx:v,cy:m,r0:Q,r:ct,startAngle:-it*Math.PI/180,endAngle:-lt*Math.PI/180,clockwise:it>=lt})}}})}function Gf(i){var e={};_(i,function(r,a){var o=r.getData(),n=r.coordinateSystem,s=n.getBaseAxis(),l=zl(n,s),u=s.getExtent(),p=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/o.count(),c=e[l]||{bandWidth:p,remainedWidth:p,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=c.stacks;e[l]=c;var h=Dl(r);f[h]||c.autoWidthCount++,f[h]=f[h]||{width:0,maxWidth:0};var d=Y(r.get("barWidth"),p),v=Y(r.get("barMaxWidth"),p),m=r.get("barGap"),g=r.get("barCategoryGap");d&&!f[h].width&&(d=Math.min(c.remainedWidth,d),f[h].width=d,c.remainedWidth-=d),v&&(f[h].maxWidth=v),m!=null&&(c.gap=m),g!=null&&(c.categoryGap=g)});var t={};return _(e,function(r,a){t[a]={};var o=r.stacks,n=r.bandWidth,s=Y(r.categoryGap,n),l=Y(r.gap,1),u=r.remainedWidth,p=r.autoWidthCount,c=(u-s)/(p+(p-1)*l);c=Math.max(c,0),_(o,function(v,m){var g=v.maxWidth;g&&g<c&&(g=Math.min(g,u),v.width&&(g=Math.min(g,v.width)),u-=g,v.width=g,p--)}),c=(u-s)/(p+(p-1)*l),c=Math.max(c,0);var f=0,h;_(o,function(v,m){v.width||(v.width=c),h=v,f+=v.width*(1+l)}),h&&(f-=h.width*l);var d=-f/2;_(o,function(v,m){t[a][m]=t[a][m]||{offset:d,width:v.width},d+=v.width*(1+l)})}),t}var Ll=Hf;var Ff={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Wf={splitNumber:5},Zf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}($);function xa(i){R(Bt),zt.registerAxisPointerClass("PolarAxisPointer",ml),i.registerCoordinateSystem("polar",wl),i.registerComponentModel(gl),i.registerComponentView(Zf),nr(i,"angle",yl,Ff),nr(i,"radius",xl,Wf),i.registerComponentView(Cl),i.registerComponentView(Il),i.registerLayout(U(Ll,"bar"))}function cr(i,e){e=e||{};var t=i.coordinateSystem,r=i.axis,a={},o=r.position,n=r.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[n==="vertical"?u.vertical[o]:l[0],n==="horizontal"?u.horizontal[o]:l[3]];var p={horizontal:0,vertical:1};a.rotation=Math.PI/2*p[n];var c={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=c[o],i.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Mt(e.labelInside,i.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var f=e.rotate;return f==null&&(f=i.get(["axisLabel","rotate"])),a.labelRotation=o==="top"?-f:f,a.z2=1,a}var Yf=["axisLine","axisTickLabel","axisName"],Xf=["splitArea","splitLine"],Kf=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,a,o){var n=this.group;n.removeAll();var s=this._axisGroup;this._axisGroup=new et;var l=cr(t),u=new Ut(t,l);_(Yf,u.add,u),n.add(this._axisGroup),n.add(u.getGroup()),_(Xf,function(p){t.get([p,"show"])&&qf[p](this,this.group,this._axisGroup,t)},this),Rr(s,this._axisGroup,t),i.prototype.render.call(this,t,r,a,o)},e.prototype.remove=function(){vs(this)},e.type="singleAxis",e}(zt),qf={splitLine:function(i,e,t,r){var a=r.axis;if(!a.scale.isBlank()){var o=r.getModel("splitLine"),n=o.getModel("lineStyle"),s=n.get("color");s=s instanceof Array?s:[s];for(var l=n.get("width"),u=r.coordinateSystem.getRect(),p=a.isHorizontal(),c=[],f=0,h=a.getTicksCoords({tickModel:o}),d=[],v=[],m=0;m<h.length;++m){var g=a.toGlobalCoord(h[m].coord);p?(d[0]=g,d[1]=u.y,v[0]=g,v[1]=u.y+u.height):(d[0]=u.x,d[1]=g,v[0]=u.x+u.width,v[1]=g);var S=new Gt({shape:{x1:d[0],y1:d[1],x2:v[0],y2:v[1]},silent:!0});Tn(S.shape,l);var y=f++%s.length;c[y]=c[y]||[],c[y].push(S)}for(var b=n.getLineStyle(["color"]),m=0;m<c.length;++m)e.add(At(c[m],{style:F({stroke:s[m%s.length]},b),silent:!0}))}},splitArea:function(i,e,t,r){ds(i,t,r,r)}},kl=Kf;var Rl=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(j);$t(Rl,Fr.prototype);var ai=Rl;var jf=function(i){A(e,i);function e(t,r,a,o,n){var s=i.call(this,t,r,a)||this;return s.type=o||"value",s.position=n||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e}(Dt),Ol=jf;var Sa=["single"],$f=function(){function i(e,t,r){this.type="single",this.dimension="single",this.dimensions=Sa,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return i.prototype._init=function(e,t,r){var a=this.dimension,o=new Ol(a,Wr(e),[0,0],e.get("type"),e.get("position")),n=o.type==="category";o.onBand=n&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},i.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var a=r.getData();_(a.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(a,o)},this),sr(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(e,t){this._rect=dt({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),a=r?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(a[o],a[1-o]),this._updateAxisTransform(t,r?e.x:e.y)},i.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),a=r[0]+r[1],o=e.isHorizontal();e.toGlobalCoord=o?function(n){return n+t}:function(n){return a-n+t},e.toLocalCoord=o?function(n){return n-t}:function(n){return a-n+t}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),a=r.orient;return a==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},i.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},i.prototype.dataToPoint=function(e){var t=this.getAxis(),r=this.getRect(),a=[],o=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),a[o]=t.toGlobalCoord(t.dataToCoord(+e)),a[1-o]=o===0?r.y+r.height/2:r.x+r.width/2,a},i.prototype.convertToPixel=function(e,t,r){var a=El(t);return a===this?this.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=El(t);return a===this?this.pointToData(r):null},i}();function El(i){var e=i.seriesModel,t=i.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}var Vl=$f;function Qf(i,e){var t=[];return i.eachComponent("singleAxis",function(r,a){var o=new Vl(r,i,e);o.name="single_"+a,o.resize(r,e),r.coordinateSystem=o,t.push(o)}),i.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var a=r.getReferringComponents("singleAxis",_t).models[0];r.coordinateSystem=a&&a.coordinateSystem}}),t}var Jf={create:Qf,dimensions:Sa},Ul=Jf;var Nl=["x","y"],th=["width","height"],eh=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,o,n){var s=a.axis,l=s.coordinateSystem,u=_a(l,1-oi(s)),p=l.dataToPoint(r)[0],c=o.get("type");if(c&&c!=="none"){var f=Ne(o),h=rh[c](s,p,u);h.style=f,t.graphicKey=h.type,t.pointer=h}var d=cr(a);jr(r,t,d,a,o,n)},e.prototype.getHandleTransform=function(t,r,a){var o=cr(r,{labelInside:!1});o.labelMargin=a.get(["handle","margin"]);var n=lr(r.axis,t,o);return{x:n[0],y:n[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,o){var n=a.axis,s=n.coordinateSystem,l=oi(n),u=_a(s,l),p=[t.x,t.y];p[l]+=r[l],p[l]=Math.min(u[1],p[l]),p[l]=Math.max(u[0],p[l]);var c=_a(s,1-l),f=(c[1]+c[0])/2,h=[f,f];return h[l]=p[l],{x:p[0],y:p[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e}(Ue),rh={line:function(i,e,t){var r=Be([e,t[0]],[e,t[1]],oi(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=i.getBandWidth(),a=t[1]-t[0];return{type:"Rect",shape:$r([e-r/2,t[0]],[r,a],oi(i))}}};function oi(i){return i.isHorizontal()?0:1}function _a(i,e){var t=i.getRect();return[t[Nl[e]],t[Nl[e]]+t[th[e]]]}var Bl=eh;var ih=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}($);function ba(i){R(Bt),zt.registerAxisPointerClass("SingleAxisPointer",Bl),i.registerComponentView(ih),i.registerComponentView(kl),i.registerComponentModel(ai),nr(i,"single",ai,ai.defaultOption),i.registerCoordinateSystem("single",Ul)}var ah=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,a){var o=Oe(t);i.prototype.init.apply(this,arguments),Hl(t,o)},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),Hl(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(j);function Hl(i,e){var t=i.cellSize,r;D(t)?r=t:r=i.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var a=P([0,1],function(o){return Hn(e,o)&&(r[o]="auto"),r[o]!=null&&r[o]!=="auto"});Re(i,e,{type:"box",ignoreSize:a})}var Gl=ah;var oh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var o=this.group;o.removeAll();var n=t.coordinateSystem,s=n.getRangeInfo(),l=n.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,s,o),this._renderLines(t,s,l,o),this._renderYearText(t,s,l,o),this._renderMonthText(t,u,l,o),this._renderWeekText(t,u,s,l,o)},e.prototype._renderDayRect=function(t,r,a){for(var o=t.coordinateSystem,n=t.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=r.start.time;u<=r.end.time;u=o.getNextNDay(u,1).time){var p=o.dataToRect([u],!1).tl,c=new nt({shape:{x:p[0],y:p[1],width:s,height:l},cursor:"default",style:n});a.add(c)}},e.prototype._renderLines=function(t,r,a,o){var n=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),p=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=r.start,f=0;c.time<=r.end.time;f++){d(c.formatedDate),f===0&&(c=s.getDateInfo(r.start.y+"-"+r.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=s.getDateInfo(h)}d(s.getNextNDay(r.end.time,1).formatedDate);function d(v){n._firstDayOfMonth.push(s.getDateInfo(v)),n._firstDayPoints.push(s.dataToRect([v],!1).tl);var m=n._getLinePointsOfOneWeek(t,v,a);n._tlpoints.push(m[0]),n._blpoints.push(m[m.length-1]),u&&n._drawSplitline(m,l,o)}u&&this._drawSplitline(n._getEdgesPoints(n._tlpoints,p,a),l,o),u&&this._drawSplitline(n._getEdgesPoints(n._blpoints,p,a),l,o)},e.prototype._getEdgesPoints=function(t,r,a){var o=[t[0].slice(),t[t.length-1].slice()],n=a==="horizontal"?0:1;return o[0][n]=o[0][n]-r/2,o[1][n]=o[1][n]+r/2,o},e.prototype._drawSplitline=function(t,r,a){var o=new Pr({z2:20,shape:{points:t},style:r});a.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,r,a){for(var o=t.coordinateSystem,n=o.getDateInfo(r),s=[],l=0;l<7;l++){var u=o.getNextNDay(n.time,l),p=o.dataToRect([u.time],!1);s[2*u.day]=p.tl,s[2*u.day+1]=p[a==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,r){return V(t)&&t?Nn(t,r):G(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,a,o,n){var s=r[0],l=r[1],u=["center","bottom"];o==="bottom"?(l+=n,u=["center","top"]):o==="left"?s-=n:o==="right"?(s+=n,u=["center","top"]):l-=n;var p=0;return(o==="left"||o==="right")&&(p=Math.PI/2),{rotation:p,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,a,o){var n=t.getModel("yearLabel");if(n.get("show")){var s=n.get("margin"),l=n.get("position");l||(l=a!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,f=a==="horizontal"?0:1,h={top:[p,u[f][1]],bottom:[p,u[1-f][1]],left:[u[1-f][0],c],right:[u[f][0],c]},d=r.start.y;+r.end.y>+r.start.y&&(d=d+"-"+r.end.y);var v=n.get("formatter"),m={start:r.start.y,end:r.end.y,nameMap:d},g=this._formatterLabel(v,m),S=new W({z2:30,style:rt(n,{text:g})});S.attr(this._yearTextPositionControl(S,h[l],a,l,s)),o.add(S)}},e.prototype._monthTextPositionControl=function(t,r,a,o,n){var s="left",l="top",u=t[0],p=t[1];return a==="horizontal"?(p=p+n,r&&(s="center"),o==="start"&&(l="bottom")):(u=u+n,r&&(l="middle"),o==="start"&&(s="right")),{x:u,y:p,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,a,o){var n=t.getModel("monthLabel");if(n.get("show")){var s=n.get("nameMap"),l=n.get("margin"),u=n.get("position"),p=n.get("align"),c=[this._tlpoints,this._blpoints];(!s||V(s))&&(s&&(r=Fi(s)||r),s=r.get(["time","monthAbbr"])||[]);var f=u==="start"?0:1,h=a==="horizontal"?0:1;l=u==="start"?-l:l;for(var d=p==="center",v=0;v<c[f].length-1;v++){var m=c[f][v].slice(),g=this._firstDayOfMonth[v];if(d){var S=this._firstDayPoints[v];m[h]=(S[h]+c[0][v+1][h])/2}var y=n.get("formatter"),b=s[+g.m-1],x={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:b},T=this._formatterLabel(y,x),M=new W({z2:30,style:B(rt(n,{text:T}),this._monthTextPositionControl(m,d,a,u,l))});o.add(M)}}},e.prototype._weekTextPositionControl=function(t,r,a,o,n){var s="center",l="middle",u=t[0],p=t[1],c=a==="start";return r==="horizontal"?(u=u+o+(c?1:-1)*n[0]/2,s=c?"right":"left"):(p=p+o+(c?1:-1)*n[1]/2,l=c?"bottom":"top"),{x:u,y:p,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,a,o,n){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,u=s.get("position"),p=s.get("nameMap"),c=s.get("margin"),f=l.getFirstDayOfWeek();if(!p||V(p)){p&&(r=Fi(p)||r);var h=r.get(["time","dayOfWeekShort"]);p=h||P(r.get(["time","dayOfWeekAbbr"]),function(x){return x[0]})}var d=l.getNextNDay(a.end.time,7-a.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];c=Y(c,Math.min(v[1],v[0])),u==="start"&&(d=l.getNextNDay(a.start.time,-(7+a.fweek)).time,c=-c);for(var m=0;m<7;m++){var g=l.getNextNDay(d,m),S=l.dataToRect([g.time],!1).center,y=m;y=Math.abs((m+f)%7);var b=new W({z2:30,style:B(rt(s,{text:p[y]}),this._weekTextPositionControl(S,o,u,c,v))});n.add(b)}}},e.type="calendar",e}($),Fl=oh;var Ta=864e5,nh=function(){function i(e,t,r){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=e}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(e){e=Qo(e);var t=e.getFullYear(),r=e.getMonth()+1,a=r<10?"0"+r:""+r,o=e.getDate(),n=o<10?"0"+o:""+o,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:a,d:n,day:s,time:e.getTime(),formatedDate:t+"-"+a+"-"+n,date:e}},i.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},i.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,a=["width","height"],o=this._model.getCellSize().slice(),n=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];_([0,1],function(c){p(o,c)&&(n[a[c]]=o[c]*s[c])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=dt(n,l);_([0,1],function(c){p(o,c)||(o[c]=u[a[c]]/s[c])});function p(c,f){return c[f]!=null&&c[f]!=="auto"}this._sw=o[0],this._sh=o[1]},i.prototype.dataToPoint=function(e,t){D(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),a=this._rangeInfo,o=r.formatedDate;if(t&&!(r.time>=a.start.time&&r.time<a.end.time+Ta))return[NaN,NaN];var n=r.day,s=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+n*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]},i.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},i.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},i.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,a):this._getDateByWeeksAndDay(t,r-1,a)},i.prototype.convertToPixel=function(e,t,r){var a=Wl(t);return a===this?a.dataToPoint(r):null},i.prototype.convertFromPixel=function(e,t,r){var a=Wl(t);return a===this?a.pointToData(r):null},i.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(D(e)&&e.length===1&&(e=e[0]),D(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var a=this.getDateInfo(r),o=a.date;o.setMonth(o.getMonth()+1);var n=this.getNextNDay(o,-1);t=[a.formatedDate,n.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},i.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var a=Math.floor(t[1].time/Ta)-Math.floor(t[0].time/Ta)+1,o=new Date(t[0].time),n=o.getDate(),s=t[1].date.getDate();o.setDate(n+a-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-t[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-t[1].time)*u>0;)a-=u,o.setDate(l-u);var p=Math.floor((a+t[0].day+6)/7),c=r?-p+1:p-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:a,weeks:p,nthWeek:c,fweek:t[0].day,lweek:t[1].day}},i.prototype._getDateByWeeksAndDay=function(e,t,r){var a=this._getRangeInfo(r);if(e>a.weeks||e===0&&t<a.fweek||e===a.weeks&&t>a.lweek)return null;var o=(e-1)*7-a.fweek+t,n=new Date(a.start.time);return n.setDate(+a.start.d+o),this.getDateInfo(n)},i.create=function(e,t){var r=[];return e.eachComponent("calendar",function(a){var o=new i(a,e,t);r.push(o),a.coordinateSystem=o}),e.eachSeries(function(a){a.get("coordinateSystem")==="calendar"&&(a.coordinateSystem=r[a.get("calendarIndex")||0])}),r},i.dimensions=["time","value"],i}();function Wl(i){var e=i.calendarModel,t=i.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}var Zl=nh;function Ma(i){i.registerComponentModel(Gl),i.registerComponentView(Fl),i.registerCoordinateSystem("calendar",Zl)}function sh(i,e){var t=i.existing;if(e.id=i.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function Yl(i,e){var t;return _(e,function(r){i[r]!=null&&i[r]!=="auto"&&(t=!0)}),t}function lh(i,e,t){var r=B({},t),a=i[e],o=t.$action||"merge";if(o==="merge")if(a){if(0)var n;J(a,r,!0),Re(a,r,{ignoreSize:!0}),Gn(t,a),ni(t,a),ni(t,a,"shape"),ni(t,a,"style"),ni(t,a,"extra"),t.clipPath=a.clipPath}else i[e]=r;else o==="replace"?i[e]=r:o==="remove"&&a&&(i[e]=null)}var Kl=["transition","enterFrom","leaveTo"],uh=Kl.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function ni(i,e,t){if(t&&(!i[t]&&e[t]&&(i[t]={}),i=i[t],e=e[t]),!(!i||!e))for(var r=t?Kl:uh,a=0;a<r.length;a++){var o=r[a];i[o]==null&&e[o]!=null&&(i[o]=e[o])}}function ph(i,e){if(i&&(i.hv=e.hv=[Yl(e,["left","right"]),Yl(e,["top","bottom"])],i.type==="group")){var t=i,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var ql=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var a=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,t,r),this.option.elements=a},e.prototype.optionUpdated=function(t,r){var a=this.option,o=(r?a:t).elements,n=a.elements=r?[]:a.elements,s=[];this._flatten(o,s,null);var l=rn(n,s,"normalMerge"),u=this._elOptionsToUpdate=[];_(l,function(p,c){var f=p.newOption;f&&(u.push(f),sh(p,f),lh(n,c,f),ph(n[c],f))},this),a.elements=ut(n,function(p){return p&&delete p.$action,p!=null})},e.prototype._flatten=function(t,r,a){_(t,function(o){if(o){a&&(o.parentOption=a),r.push(o);var n=o.children;n&&n.length&&this._flatten(n,r,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(j);var jl={path:null,compoundPath:null,group:et,image:zr,text:W},Lt=X(),Jl=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=q()},e.prototype.render=function(t,r,a){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,a)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var a=this._elMap,o=this.group,n=t.get("z"),s=t.get("zlevel");_(r,function(l){var u=de(l.id,null),p=u!=null?a.get(u):null,c=de(l.parentId,null),f=c!=null?a.get(c):o,h=l.type,d=l.style;h==="text"&&d&&l.hv&&l.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var v=l.textContent,m=l.textConfig;if(d&&Bs(d,h,!!m,!!v)){var g=Hs(d,h,!0);!m&&g.textConfig&&(m=l.textConfig=g.textConfig),!v&&g.textContent&&(v=g.textContent)}var S=ch(l),y=l.$action||"merge",b=y==="merge",x=y==="replace";if(b){var T=!p,M=p;T?M=$l(u,f,l.type,a):(M&&(Lt(M).isNew=!1),Zs(M)),M&&(Xr(M,S,t,{isInit:T}),Ql(M,l,n,s))}else if(x){si(p,l,a,t);var C=$l(u,f,l.type,a);C&&(Xr(C,S,t,{isInit:!0}),Ql(C,l,n,s))}else y==="remove"&&(Gs(p,l),si(p,l,a,t));var w=a.get(u);if(w&&v)if(b){var I=w.getTextContent();I?I.attr(v):w.setTextContent(new W(v))}else x&&w.setTextContent(new W(v));if(w){var z=l.clipPath;if(z){var E=z.type,k=void 0,T=!1;if(b){var H=w.getClipPath();T=!H||Lt(H).type!==E,k=T?wa(E):H}else x&&(T=!0,k=wa(E));w.setClipPath(k),Xr(k,z,t,{isInit:T}),ia(k,z.keyframeAnimation,t)}var K=Lt(w);w.setTextConfig(m),K.option=l,fh(w,t,l),ze({el:w,componentModel:t,itemName:w.name,itemTooltipOption:l.tooltip}),ia(w,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var a=t.option.elements,o=this.group,n=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],p=0;p<a.length;p++){var c=a[p],f=de(c.id,null),h=f!=null?n.get(f):null;if(!(!h||!h.isGroup)){var d=h.parent,v=d===o,m=Lt(h),g=Lt(d);m.width=Y(m.option.width,v?s:g.width)||0,m.height=Y(m.option.height,v?l:g.height)||0}}for(var p=a.length-1;p>=0;p--){var c=a[p],f=de(c.id,null),h=f!=null?n.get(f):null;if(h){var d=h.parent,g=Lt(d),S=d===o?{width:s,height:l}:{width:g.width,height:g.height},y={},b=ke(h,c,S,null,{hv:c.hv,boundingMode:c.bounding},y);if(!Lt(h).isNew&&b){for(var x=c.transition,T={},M=0;M<u.length;M++){var C=u[M],w=y[C];x&&(Ws(x)||tt(x,C)>=0)?T[C]=w:h[C]=w}Ot(h,T,t,0)}else h.attr(y)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(a){si(a,Lt(a).option,r,t._lastGraphicModel)}),this._elMap=q()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}($);function wa(i){var e=Qt(jl,i)?jl[i]:bn(i),t=new e({});return Lt(t).type=i,t}function $l(i,e,t,r){var a=wa(t);return e.add(a),r.set(i,a),Lt(a).id=i,Lt(a).isNew=!0,a}function si(i,e,t,r){var a=i&&i.parent;a&&(i.type==="group"&&i.traverse(function(o){si(o,e,t,r)}),Fs(i,e,r),t.removeKey(Lt(i).id))}function Ql(i,e,t,r){i.isGroup||_([["cursor",Dr.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(a){var o=a[0];Qt(e,o)?i[o]=yt(e[o],a[1]):i[o]==null&&(i[o]=a[1])}),_(be(e),function(a){if(a.indexOf("on")===0){var o=e[a];i[a]=G(o)?o:null}}),Qt(e,"draggable")&&(i.draggable=e.draggable),e.name!=null&&(i.name=e.name),e.id!=null&&(i.id=e.id)}function ch(i){return i=B({},i),_(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Bn),function(e){delete i[e]}),i}function fh(i,e,t){var r=Z(i).eventData;!i.silent&&!i.ignore&&!r&&(r=Z(i).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:i.name}),r&&(r.info=t.info)}function Aa(i){i.registerComponentModel(ql),i.registerComponentView(Jl),i.registerPreprocessor(function(e){var t=e.graphic;D(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var Ca=["x","y","radius","angle","single"],hh=["cartesian2d","polar","singleAxis"];function tu(i){var e=i.get("coordinateSystem");return tt(hh,e)>=0}function Pt(i){return i+"Axis"}function eu(i,e){var t=q(),r=[],a=q();i.eachComponent({mainType:"dataZoom",query:e},function(p){a.get(p.uid)||s(p)});var o;do o=!1,i.eachComponent("dataZoom",n);while(o);function n(p){!a.get(p.uid)&&l(p)&&(s(p),o=!0)}function s(p){a.set(p.uid,!0),r.push(p),u(p)}function l(p){var c=!1;return p.eachTargetAxis(function(f,h){var d=t.get(f);d&&d[h]&&(c=!0)}),c}function u(p){p.eachTargetAxis(function(c,f){(t.get(c)||t.set(c,[]))[f]=!0})}return r}function li(i){var e=i.ecModel,t={infoList:[],infoMap:q()};return i.eachTargetAxis(function(r,a){var o=e.getComponent(Pt(r),a);if(o){var n=o.getCoordSysModel();if(n){var s=n.uid,l=t.infoMap.get(s);l||(l={model:n,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(o)}}}),t}var Ia=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},i}(),dh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,a){var o=ru(t);this.settledOption=o,this.mergeDefaultAndTheme(t,a),this._doInit(o)},e.prototype.mergeOption=function(t){var r=ru(t);J(this.option,t,!0),J(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var a=this.settledOption;_([["start","startValue"],["end","endValue"]],function(o,n){this._rangePropMode[n]==="value"&&(r[o[0]]=a[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=q(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return _(Ca,function(a){var o=this.getReferringComponents(Pt(a),un);if(o.specified){r=!0;var n=new Ia;_(o.models,function(s){n.add(s.componentIndex)}),t.set(a,n)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var a=this.ecModel,o=!0;if(o){var n=r==="vertical"?"y":"x",s=a.findComponents({mainType:n+"Axis"});l(s,n)}if(o){var s=a.findComponents({mainType:"singleAxis",filter:function(p){return p.get("orient",!0)===r}});l(s,"single")}function l(u,p){var c=u[0];if(c){var f=new Ia;if(f.add(c.componentIndex),t.set(p,f),o=!1,p==="x"||p==="y"){var h=c.getReferringComponents("grid",_t).models[0];h&&_(u,function(d){c.componentIndex!==d.componentIndex&&h===d.getReferringComponents("grid",_t).models[0]&&f.add(d.componentIndex)})}}}o&&_(Ca,function(u){if(o){var p=a.findComponents({mainType:Pt(u),filter:function(f){return f.get("type",!0)==="category"}});if(p[0]){var c=new Ia;c.add(p[0].componentIndex),t.set(u,c),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,a=this.get("rangeMode");_([["start","startValue"],["end","endValue"]],function(o,n){var s=t[o[0]]!=null,l=t[o[1]]!=null;s&&!l?r[n]="percent":!s&&l?r[n]="value":a?r[n]=a[n]:s&&(r[n]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,a){t==null&&(t=this.ecModel.getComponent(Pt(r),a))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(a,o){_(a.indexList,function(n){t.call(r,o,n)})})},e.prototype.getAxisProxy=function(t,r){var a=this.getAxisModel(t,r);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var a=this._targetAxisInfoMap.get(t);if(a&&a.indexMap[r])return this.ecModel.getComponent(Pt(t),r)},e.prototype.setRawRange=function(t){var r=this.option,a=this.settledOption;_([["start","startValue"],["end","endValue"]],function(o){(t[o[0]]!=null||t[o[1]]!=null)&&(r[o[0]]=a[o[0]]=t[o[0]],r[o[1]]=a[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;_(["start","startValue","end","endValue"],function(a){r[a]=t[a]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),o=0;o<a.length;o++)for(var n=a[o],s=this._targetAxisInfoMap.get(n),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(n,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(j);function ru(i){var e={};return _(["start","end","startValue","endValue","throttle"],function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}var oe=dh;var vh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(oe),iu=vh;var mh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a,o){this.dataZoomModel=t,this.ecModel=r,this.api=a},e.type="dataZoom",e}($),He=mh;var gh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(He),au=gh;var Ge=_,ou=mt,yh=function(){function i(e,t,r,a){this._dimName=e,this._axisIndex=t,this.ecModel=a,this._dataZoomModel=r}return i.prototype.hostedBy=function(e){return this._dataZoomModel===e},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(tu(t)){var r=Pt(this._dimName),a=t.getReferringComponents(r,_t).models[0];a&&this._axisIndex===a.componentIndex&&e.push(t)}},this),e},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return N(this._minMaxSpan)},i.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,o=this._dataZoomModel.getRangePropMode(),n=[0,100],s=[],l=[],u;Ge(["start","end"],function(f,h){var d=e[f],v=e[f+"Value"];o[h]==="percent"?(d==null&&(d=n[h]),v=a.parse(ft(d,n,t))):(u=!0,v=v==null?t[h]:a.parse(v),d=ft(v,t,n)),l[h]=v==null||isNaN(v)?t[h]:v,s[h]=d==null||isNaN(d)?n[h]:d}),ou(l),ou(s);var p=this._minMaxSpan;u?c(l,s,t,n,!1):c(s,l,n,t,!0);function c(f,h,d,v,m){var g=m?"Span":"ValueSpan";Nt(0,f,d,"all",p["min"+g],p["max"+g]);for(var S=0;S<2;S++)h[S]=ft(f[S],d,v,!0),m&&(h[S]=a.parse(h[S]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=xh(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),o=e.get("filterMode"),n=this._valueWindow;if(o==="none")return;Ge(a,function(l){var u=l.getData(),p=u.mapDimensionsAll(r);if(p.length){if(o==="weakFilter"){var c=u.getStore(),f=P(p,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var d,v,m,g=0;g<p.length;g++){var S=c.get(f[g],h),y=!isNaN(S),b=S<n[0],x=S>n[1];if(y&&!b&&!x)return!0;y&&(m=!0),b&&(d=!0),x&&(v=!0)}return m&&d&&v})}else Ge(p,function(h){if(o==="empty")l.setData(u=u.map(h,function(v){return s(v)?v:NaN}));else{var d={};d[h]=n,u.selectRange(d)}});Ge(p,function(h){u.setApproximateExtent(n,h)})}});function s(l){return l>=n[0]&&l<=n[1]}},i.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;Ge(["min","max"],function(a){var o=t.get(a+"Span"),n=t.get(a+"ValueSpan");n!=null&&(n=this.getAxisModel().axis.scale.parse(n)),n!=null?o=ft(r[0]+n,r,[0,100],!0):o!=null&&(n=ft(o,[0,100],r,!0)-r[0]),e[a+"Span"]=o,e[a+"ValueSpan"]=n},this)},i.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var a=$o(r,[0,500]);a=Math.min(a,20);var o=e.axis.scale.rawExtentInfo;t[0]!==0&&o.setDeterminedMinMax("min",+r[0].toFixed(a)),t[1]!==100&&o.setDeterminedMinMax("max",+r[1].toFixed(a)),o.freeze()}},i}();function xh(i,e,t){var r=[1/0,-1/0];Ge(t,function(n){ps(r,n.getData(),e)});var a=i.getAxisModel(),o=us(a.axis.scale,a,r).calculate();return[o.min,o.max]}var nu=yh;var Sh={getTargetSeries:function(i){function e(a){i.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(n,s){var l=i.getComponent(Pt(n),s);a(n,s,l,o)})})}e(function(a,o,n,s){n.__dzAxisProxy=null});var t=[];e(function(a,o,n,s){n.__dzAxisProxy||(n.__dzAxisProxy=new nu(a,o,s,i),t.push(n.__dzAxisProxy))});var r=q();return _(t,function(a){_(a.getTargetSeriesModels(),function(o){r.set(o.uid,o)})}),r},overallReset:function(i,e){i.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).reset(t)}),t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).filterData(t,e)})}),i.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),o=r.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:o[0],endValue:o[1]})}})}},su=Sh;function Da(i){i.registerAction("dataZoom",function(e,t){var r=eu(t,e);_(r,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var lu=!1;function xe(i){lu||(lu=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,su),Da(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function uu(i){i.registerComponentModel(iu),i.registerComponentView(au),xe(i)}var vt=function(){function i(){}return i}();var pu={};function ne(i,e){pu[i]=e}function ui(i){return pu[i]}var bh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;_(this.option.feature,function(r,a){var o=ui(a);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),J(r,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(j),cu=bh;function fu(i,e,t){var r=e.getBoxLayoutParams(),a=e.get("padding"),o={width:t.getWidth(),height:t.getHeight()},n=dt(r,o,a);Vt(e.get("orient"),i,e.get("itemGap"),n.width,n.height),ke(i,r,o,a)}function pi(i,e){var t=re(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),i=new nt({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),i}var Mh=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a,o){var n=this.group;if(n.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},p=this._features||(this._features={}),c=[];_(u,function(d,v){c.push(v)}),new ir(this._featureNames||[],c).add(f).update(f).remove(U(f,null)).execute(),this._featureNames=c;function f(d,v){var m=c[d],g=c[v],S=u[m],y=new Tt(S,t,t.ecModel),b;if(o&&o.newTitle!=null&&o.featureName===m&&(S.title=o.newTitle),m&&!g){if(wh(m))b={onclick:y.option.onclick,featureName:m};else{var x=ui(m);if(!x)return;b=new x}p[m]=b}else if(b=p[g],!b)return;b.uid=Rn("toolbox-feature"),b.model=y,b.ecModel=r,b.api=a;var T=b instanceof vt;if(!m&&g){T&&b.dispose&&b.dispose(r,a);return}if(!y.get("show")||T&&b.unusable){T&&b.remove&&b.remove(r,a);return}h(y,b,m),y.setIconStatus=function(M,C){var w=this.option,I=this.iconPaths;w.iconStatus=w.iconStatus||{},w.iconStatus[M]=C,I[M]&&(C==="emphasis"?Hi:Gi)(I[M])},b instanceof vt&&b.render&&b.render(y,r,a,o)}function h(d,v,m){var g=d.getModel("iconStyle"),S=d.getModel(["emphasis","iconStyle"]),y=v instanceof vt&&v.getIcons?v.getIcons():d.get("icon"),b=d.get("title")||{},x,T;V(y)?(x={},x[m]=y):x=y,V(b)?(T={},T[m]=b):T=b;var M=d.iconPaths={};_(x,function(C,w){var I=ee(C,{},{x:-s/2,y:-s/2,width:s,height:s});I.setStyle(g.getItemStyle());var z=I.ensureState("emphasis");z.style=S.getItemStyle();var E=new W({style:{text:T[w],align:S.get("textAlign"),borderRadius:S.get("textBorderRadius"),padding:S.get("textPadding"),fill:null,font:wn({fontStyle:S.get("textFontStyle"),fontFamily:S.get("textFontFamily"),fontSize:S.get("textFontSize"),fontWeight:S.get("textFontWeight")},r)},ignore:!0});I.setTextContent(E),ze({el:I,componentModel:t,itemName:w,formatterParamsExtra:{title:T[w]}}),I.__title=T[w],I.on("mouseover",function(){var k=S.getItemStyle(),H=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";E.setStyle({fill:S.get("textFill")||k.fill||k.stroke||"#000",backgroundColor:S.get("textBackgroundColor")}),I.setTextConfig({position:S.get("textPosition")||H}),E.ignore=!t.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){d.get(["iconStatus",w])!=="emphasis"&&a.leaveEmphasis(this),E.hide()}),(d.get(["iconStatus",w])==="emphasis"?Hi:Gi)(I),n.add(I),I.on("click",L(v.onclick,v,r,a,w)),M[w]=I})}fu(n,t,a),n.add(pi(n.getBoundingRect(),t)),l||n.eachChild(function(d){var v=d.__title,m=d.ensureState("emphasis"),g=m.textConfig||(m.textConfig={}),S=d.getTextContent(),y=S&&S.ensureState("emphasis");if(y&&!G(y)&&v){var b=y.style||(y.style={}),x=Ce(v,W.makeFont(b)),T=d.x+n.x,M=d.y+n.y+s,C=!1;M+x.height>a.getHeight()&&(g.position="top",C=!0);var w=C?-5-x.height:s+10;T+x.width/2>a.getWidth()?(g.position=["100%",w],b.align="right"):T-x.width/2<0&&(g.position=[0,w],b.align="left")}})},e.prototype.updateView=function(t,r,a,o){_(this._features,function(n){n instanceof vt&&n.updateView&&n.updateView(n.model,r,a,o)})},e.prototype.remove=function(t,r){_(this._features,function(a){a instanceof vt&&a.remove&&a.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){_(this._features,function(a){a instanceof vt&&a.dispose&&a.dispose(t,r)})},e.type="toolbox",e}($);function wh(i){return i.indexOf("my")===0}var hu=Mh;var Ah=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var a=this.model,o=a.get("name")||t.get("title.0.text")||"echarts",n=r.getZr().painter.getType()==="svg",s=n?"svg":a.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:a.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),u=pt.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var p=document.createElement("a");p.download=o+"."+s,p.target="_blank",p.href=l;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});p.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||n){var f=l.split(","),h=f[0].indexOf("base64")>-1,d=n?decodeURIComponent(f[1]):f[1];h&&(d=window.atob(d));var v=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=d.length,g=new Uint8Array(m);m--;)g[m]=d.charCodeAt(m);var S=new Blob([g]);window.navigator.msSaveOrOpenBlob(S,v)}else{var y=document.createElement("iframe");document.body.appendChild(y);var b=y.contentWindow,x=b.document;x.open("image/svg+xml","replace"),x.write(d),x.close(),b.focus(),x.execCommand("SaveAs",!0,v),document.body.removeChild(y)}}else{var T=a.get("lang"),M='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(T&&T[0]||"")+'" /></body>',C=window.open();C.document.write(M),C.document.title=o}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(vt),du=Ah;var vu="__ec_magicType_stack__";var Ch=[["line","bar"],["stack"]],Ih=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),a={};return _(t.get("type"),function(o){r[o]&&(a[o]=r[o])}),a},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,a){var o=this.model,n=o.get(["seriesIndex",a]);if(mu[a]){var s={series:[]},l=function(c){var f=c.subType,h=c.id,d=mu[a](f,h,c,o);d&&(F(d,c.option),s.series.push(d));var v=c.coordinateSystem;if(v&&v.type==="cartesian2d"&&(a==="line"||a==="bar")){var m=v.getAxesByScale("ordinal")[0];if(m){var g=m.dim,S=g+"Axis",y=c.getReferringComponents(S,_t).models[0],b=y.componentIndex;s[S]=s[S]||[];for(var x=0;x<=b;x++)s[S][b]=s[S][b]||{};s[S][b].boundaryGap=a==="bar"}}};_(Ch,function(c){tt(c,a)>=0&&_(c,function(f){o.setIconStatus(f,"normal")})}),o.setIconStatus(a,"emphasis"),t.eachComponent({mainType:"series",query:n==null?null:{seriesIndex:n}},l);var u,p=a;a==="stack"&&(u=J({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",a])!=="emphasis"&&(p="tiled")),r.dispatchAction({type:"changeMagicType",currentType:p,newOption:s,newTitle:u,featureName:"magicType"})}},e}(vt),mu={line:function(i,e,t,r){if(i==="bar")return J({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(i,e,t,r){if(i==="line")return J({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(i,e,t,r){var a=t.get("stack")===vu;if(i==="line"||i==="bar")return r.setIconStatus("stack",a?"normal":"emphasis"),J({id:e,stack:a?"":vu},r.get(["option","stack"])||{},!0)}};Ee({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});var yu=Ih;var fi=new Array(60).join("-"),Fe="	";function Dh(i){var e={},t=[],r=[];return i.eachRawSeries(function(a){var o=a.coordinateSystem;if(o&&(o.type==="cartesian2d"||o.type==="polar")){var n=o.getBaseAxis();if(n.type==="category"){var s=n.dim+"_"+n.index;e[s]||(e[s]={categoryAxis:n,valueAxis:o.getOtherAxis(n),series:[]},r.push({axisDim:n.dim,axisIndex:n.index})),e[s].series.push(a)}else t.push(a)}else t.push(a)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function zh(i){var e=[];return _(i,function(t,r){var a=t.categoryAxis,o=t.valueAxis,n=o.dim,s=[" "].concat(P(t.series,function(h){return h.name})),l=[a.model.getCategories()];_(t.series,function(h){var d=h.getRawData();l.push(h.getRawData().mapArray(d.mapDimension(n),function(v){return v}))});for(var u=[s.join(Fe)],p=0;p<l[0].length;p++){for(var c=[],f=0;f<l.length;f++)c.push(l[f][p]);u.push(c.join(Fe))}e.push(u.join(`
`))}),e.join(`

`+fi+`

`)}function Lh(i){return P(i,function(e){var t=e.getRawData(),r=[e.name],a=[];return t.each(t.dimensions,function(){for(var o=arguments.length,n=arguments[o-1],s=t.getName(n),l=0;l<o-1;l++)a[l]=arguments[l];r.push((s?s+Fe:"")+a.join(Fe))}),r.join(`
`)}).join(`

`+fi+`

`)}function Ph(i){var e=Dh(i);return{value:ut([zh(e.seriesGroupByCategoryAxis),Lh(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+fi+`

`),meta:e.meta}}function ci(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kh(i){var e=i.slice(0,i.indexOf(`
`));if(e.indexOf(Fe)>=0)return!0}var za=new RegExp("["+Fe+"]+","g");function Rh(i){for(var e=i.split(/\n+/g),t=ci(e.shift()).split(za),r=[],a=P(t,function(l){return{name:l,data:[]}}),o=0;o<e.length;o++){var n=ci(e[o]).split(za);r.push(n.shift());for(var s=0;s<n.length;s++)a[s]&&(a[s].data[o]=n[s])}return{series:a,categories:r}}function Oh(i){for(var e=i.split(/\n+/g),t=ci(e.shift()),r=[],a=0;a<e.length;a++){var o=ci(e[a]);if(o){var n=o.split(za),s="",l=void 0,u=!1;isNaN(n[0])?(u=!0,s=n[0],n=n.slice(1),r[a]={name:s,value:[]},l=r[a].value):l=r[a]=[];for(var p=0;p<n.length;p++)l.push(+n[p]);l.length===1&&(u?r[a].value=l[0]:r[a]=l[0])}}return{name:t,data:r}}function Eh(i,e){var t=i.split(new RegExp(`
*`+fi+`
*`,"g")),r={series:[]};return _(t,function(a,o){if(kh(a)){var n=Rh(a),s=e[o],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:n.categories},r.series=r.series.concat(n.series))}else{var n=Oh(a);r.series.push(n)}}),r}var Vh=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var a=r.getDom(),o=this.model;this._dom&&a.removeChild(this._dom);var n=document.createElement("div");n.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",n.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var u=document.createElement("div"),p=document.createElement("textarea");u.style.cssText="overflow:auto";var c=o.get("optionToContent"),f=o.get("contentToOption"),h=Ph(t);if(G(c)){var d=c(r.getOption());V(d)?u.innerHTML=d:Qe(d)&&u.appendChild(d)}else{p.readOnly=o.get("readOnly");var v=p.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=o.get("textColor"),v.borderColor=o.get("textareaBorderColor"),v.backgroundColor=o.get("textareaColor"),p.value=h.value,u.appendChild(p)}var m=h.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var S="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),b=document.createElement("div");S+=";background-color:"+o.get("buttonColor"),S+=";color:"+o.get("buttonTextColor");var x=this;function T(){a.removeChild(n),x._dom=null}ji(y,"click",T),ji(b,"click",function(){if(f==null&&c!=null||f!=null&&c==null){T();return}var M;try{G(f)?M=f(u,r.getOption()):M=Eh(p.value,m)}catch(C){throw T(),new Error("Data view format error "+C)}M&&r.dispatchAction({type:"changeDataView",newOption:M}),T()}),y.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=y.style.cssText=S,!o.get("readOnly")&&g.appendChild(b),g.appendChild(y),n.appendChild(s),n.appendChild(u),n.appendChild(g),u.style.height=a.clientHeight-80+"px",a.appendChild(n),this._dom=n},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(vt);function Uh(i,e){return P(i,function(t,r){var a=e&&e[r];if(ot(a)&&!D(a)){var o=ot(t)&&!D(t);o||(t={value:t});var n=a.name!=null&&t.name==null;return t=F(t,a),n&&delete t.name,t}else return t})}Ee({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,e){var t=[];_(i.newOption.series,function(r){var a=e.getSeriesByName(r.name)[0];if(!a)t.push(B({type:"scatter"},r));else{var o=a.get("data");t.push({name:r.name,data:Uh(r.data,o)})}}),e.mergeOption(F({series:t},i.newOption))});var xu=Vh;var Su=_,_u=X();function bu(i,e){var t=La(i);Su(e,function(r,a){for(var o=t.length-1;o>=0;o--){var n=t[o];if(n[a])break}if(o<0){var s=i.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var l=s.getPercentRange();t[0][a]={dataZoomId:a,start:l[0],end:l[1]}}}}),t.push(e)}function Tu(i){var e=La(i),t=e[e.length-1];e.length>1&&e.pop();var r={};return Su(t,function(a,o){for(var n=e.length-1;n>=0;n--)if(a=e[n][o],a){r[o]=a;break}}),r}function Mu(i){_u(i).snapshots=null}function wu(i){return La(i).length}function La(i){var e=_u(i);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Nh=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){Mu(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(vt);Ee({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});var Cu=Nh;var Bh=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Hh=function(){function i(e,t,r){var a=this;this._targetInfoList=[];var o=Iu(t,e);_(Gh,function(n,s){(!r||!r.include||tt(r.include,s)>=0)&&n(o,a._targetInfoList)})}return i.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,a,o){if((r.coordRanges||(r.coordRanges=[])).push(a),!r.coordRange){r.coordRange=a;var n=Pa[r.brushType](0,o,a);r.__rangeOffset={offset:Pu[r.brushType](n.values,r.range,[1,1]),xyMinMax:n.xyMinMax}}}),e},i.prototype.matchOutputRanges=function(e,t,r){_(e,function(a){var o=this.findTargetInfo(a,t);o&&o!==!0&&_(o.coordSyses,function(n){var s=Pa[a.brushType](1,n,a.range,!0);r(a,s.values,n,t)})},this)},i.prototype.setInputRanges=function(e,t){_(e,function(r){var a=this.findTargetInfo(r,t);if(r.range=r.range||[],a&&a!==!0){r.panelId=a.panelId;var o=Pa[r.brushType](0,a.coordSys,r.coordRange),n=r.__rangeOffset;r.range=n?Pu[r.brushType](o.values,n.offset,Fh(o.xyMinMax,n.xyMinMax)):o.values}},this)},i.prototype.makePanelOpts=function(e,t){return P(this._targetInfoList,function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:Cs(a),isTargetByCursor:Ds(a,e,r.coordSysModel),getLinearBrushOtherExtent:Is(a)}})},i.prototype.controlSeries=function(e,t,r){var a=this.findTargetInfo(e,r);return a===!0||a&&tt(a.coordSyses,t.coordinateSystem)>=0},i.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,a=Iu(t,e),o=0;o<r.length;o++){var n=r[o],s=e.panelId;if(s){if(n.panelId===s)return n}else for(var l=0;l<Du.length;l++)if(Du[l](a,n))return n}return!0},i}();function ka(i){return i[0]>i[1]&&i.reverse(),i}function Iu(i,e){return Lr(i,e,{includeMainTypes:Bh})}var Gh={grid:function(i,e){var t=i.xAxisModels,r=i.yAxisModels,a=i.gridModels,o=q(),n={},s={};!t&&!r&&!a||(_(t,function(l){var u=l.axis.grid.model;o.set(u.id,u),n[u.id]=!0}),_(r,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),_(a,function(l){o.set(l.id,l),n[l.id]=!0,s[l.id]=!0}),o.each(function(l){var u=l.coordinateSystem,p=[];_(u.getCartesians(),function(c,f){(tt(t,c.getAxis("x").model)>=0||tt(r,c.getAxis("y").model)>=0)&&p.push(c)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:p[0],coordSyses:p,getPanelRect:zu.grid,xAxisDeclared:n[l.id],yAxisDeclared:s[l.id]})}))},geo:function(i,e){_(i.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:zu.geo})})}},Du=[function(i,e){var t=i.xAxisModel,r=i.yAxisModel,a=i.gridModel;return!a&&t&&(a=t.axis.grid.model),!a&&r&&(a=r.axis.grid.model),a&&a===e.gridModel},function(i,e){var t=i.geoModel;return t&&t===e.geoModel}],zu={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,e=i.getBoundingRect().clone();return e.applyTransform(te(i)),e}},Pa={lineX:U(Lu,0),lineY:U(Lu,1),rect:function(i,e,t,r){var a=i?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),o=i?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),n=[ka([a[0],o[0]]),ka([a[1],o[1]])];return{values:n,xyMinMax:n}},polygon:function(i,e,t,r){var a=[[1/0,-1/0],[1/0,-1/0]],o=P(t,function(n){var s=i?e.pointToData(n,r):e.dataToPoint(n,r);return a[0][0]=Math.min(a[0][0],s[0]),a[1][0]=Math.min(a[1][0],s[1]),a[0][1]=Math.max(a[0][1],s[0]),a[1][1]=Math.max(a[1][1],s[1]),s});return{values:o,xyMinMax:a}}};function Lu(i,e,t,r){var a=t.getAxis(["x","y"][i]),o=ka(P([0,1],function(s){return e?a.coordToData(a.toLocalCoord(r[s]),!0):a.toGlobalCoord(a.dataToCoord(r[s]))})),n=[];return n[i]=o,n[1-i]=[NaN,NaN],{values:o,xyMinMax:n}}var Pu={lineX:U(ku,0),lineY:U(ku,1),rect:function(i,e,t){return[[i[0][0]-t[0]*e[0][0],i[0][1]-t[0]*e[0][1]],[i[1][0]-t[1]*e[1][0],i[1][1]-t[1]*e[1][1]]]},polygon:function(i,e,t){return P(i,function(r,a){return[r[0]-t[0]*e[a][0],r[1]-t[1]*e[a][1]]})}};function ku(i,e,t,r){return[e[0]-r[i]*t[0],e[1]-r[i]*t[1]]}function Fh(i,e){var t=Ru(i),r=Ru(e),a=[t[0]/r[0],t[1]/r[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function Ru(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}var fr=Hh;var Ra=_,Wh=on("toolbox-dataZoom_");var Zh=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a,o){this._brushController||(this._brushController=new Yr(a.getZr()),this._brushController.on("brush",L(this._onBrush,this)).mount()),Kh(t,r,this,o,a),Xh(t,r)},e.prototype.onclick=function(t,r,a){Yh[a].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var a={},o=this.ecModel;this._brushController.updateCovers([]);var n=new fr(Oa(this.model),o,{include:["grid"]});n.matchOutputRanges(r,o,function(u,p,c){if(c.type==="cartesian2d"){var f=u.brushType;f==="rect"?(s("x",c,p[0]),s("y",c,p[1])):s({lineX:"x",lineY:"y"}[f],c,p)}}),bu(o,a),this._dispatchZoomAction(a);function s(u,p,c){var f=p.getAxis(u),h=f.model,d=l(u,h,o),v=d.findRepresentativeAxisProxy(h).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(c=Nt(0,c.slice(),f.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),d&&(a[d.id]={dataZoomId:d.id,startValue:c[0],endValue:c[1]})}function l(u,p,c){var f;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var d=h.getAxisModel(u,p.componentIndex);d&&(f=h)}),f}},e.prototype._dispatchZoomAction=function(t){var r=[];Ra(t,function(a,o){r.push(N(a))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(vt),Yh={zoom:function(){var i=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:i})},back:function(){this._dispatchZoomAction(Tu(this.ecModel))}};function Oa(i){var e={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Xh(i,e){i.setIconStatus("back",wu(e)>1?"emphasis":"normal")}function Kh(i,e,t,r,a){var o=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(o=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=o,i.setIconStatus("zoom",o?"emphasis":"normal");var n=new fr(Oa(i),e,{include:["grid"]}),s=n.makePanelOpts(a,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(o&&s.length?{brushType:"auto",brushStyle:i.getModel("brushStyle").getItemStyle()}:!1)}as("dataZoom",function(i){var e=i.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),a=[],o=Oa(r),n=Lr(i,o);Ra(n.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),Ra(n.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,p){var c=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:Wh+u+c};f[p]=c,a.push(f)}return a});var Ou=Zh;function Ea(i){i.registerComponentModel(cu),i.registerComponentView(hu),ne("saveAsImage",du),ne("magicType",yu),ne("dataView",xu),ne("dataZoom",Ou),ne("restore",Cu),R(uu)}var qh=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(j),Eu=qh;function hi(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function Vu(i){if(pt.domSupported){for(var e=document.documentElement.style,t=0,r=i.length;t<r;t++)if(i[t]in e)return i[t]}}var Va=Vu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Uu=Vu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Ua(i,e){if(!i)return e;e=Ur(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function Nu(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?e?t[e]:t:null}var jh=Ua(Uu,"transition"),Na=Ua(Va,"transform"),$h="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(pt.transform3dSupported?"will-change:transform;":"");function Qh(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function Jh(i,e,t){if(!V(t)||t==="inside")return"";var r=i.get("backgroundColor"),a=i.get("borderWidth");e=Pe(e);var o=Qh(t),n=Math.max(Math.round(a)*1.5,6),s="",l=Na+":",u;tt(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=o==="top"?225:45)+"deg)");var p=u*Math.PI/180,c=n+a,f=c*Math.abs(Math.cos(p))+c*Math.abs(Math.sin(p)),h=Math.round(((f-Math.SQRT2*a)/2+Math.SQRT2*a-(f-c)/2)*100)/100;s+=";"+o+":-"+h+"px";var d=e+" solid "+a+"px;",v=["position:absolute;width:"+n+"px;height:"+n+"px;z-index:-1;",s+";"+l+";","border-bottom:"+d,"border-right:"+d,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function td(i,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+i/2+"s "+t,a="opacity"+r+",visibility"+r;return e||(r=" "+i+"s "+t,a+=pt.transformSupported?","+Na+r:",left"+r+",top"+r),jh+":"+a}function Bu(i,e,t){var r=i.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!pt.transformSupported)return t?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var o=pt.transform3dSupported,n="translate"+(o?"3d":"")+"("+r+","+a+(o?",0":"")+")";return t?"top:0;left:0;"+Na+":"+n+";":[["top",0],["left",0],[Va,n]]}function ed(i){var e=[],t=i.get("fontSize"),r=i.getTextColor();r&&e.push("color:"+r),e.push("font:"+i.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var a=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,n=i.get("textShadowOffsetX")||0,s=i.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+n+"px "+s+"px "+o+"px "+a),_(["decoration","align"],function(l){var u=i.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function rd(i,e,t){var r=[],a=i.get("transitionDuration"),o=i.get("backgroundColor"),n=i.get("shadowBlur"),s=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),p=i.getModel("textStyle"),c=Nr(i,"html"),f=l+"px "+u+"px "+n+"px "+s;return r.push("box-shadow:"+f),e&&a&&r.push(td(a,t)),o&&r.push("background-color:"+o),_(["width","color","radius"],function(h){var d="border-"+h,v=Ur(d),m=i.get(v);m!=null&&r.push(d+":"+m+(h==="color"?"":"px"))}),r.push(ed(p)),c!=null&&r.push("padding:"+re(c).join("px ")+"px"),r.join(";")+";"}function Hu(i,e,t,r,a){var o=e&&e.painter;if(t){var n=o&&o.getViewportRoot();n&&On(i,n,t,r,a)}else{i[0]=r,i[1]=a;var s=o&&o.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var id=function(){function i(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,pt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var a=this._zr=e.getZr(),o=t.appendTo,n=o&&(V(o)?document.querySelector(o):Qe(o)?o:G(o)&&o(e.getDom()));Hu(this._styleCoord,a,n,e.getWidth()/2,e.getHeight()/2),(n||e.getDom()).appendChild(r),this._api=e,this._container=n;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,p=a.painter.getViewportRoot();is(p,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=Nu(t,"position"),a=t.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative")}var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,o=this._styleCoord;r.innerHTML?a.cssText=$h+rd(e,!this._firstShow,this._longHide)+Bu(o[0],o[1],!0)+("border-color:"+Pe(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,r,a,o){var n=this.el;if(e==null){n.innerHTML="";return}var s="";if(V(o)&&r.get("trigger")==="item"&&!hi(r)&&(s=Jh(r,a,o)),V(e))n.innerHTML=e+s;else if(e){n.innerHTML="",D(e)||(e=[e]);for(var l=0;l<e.length;l++)Qe(e[l])&&e[l].parentNode!==n&&n.appendChild(e[l]);if(s&&n.childNodes.length){var u=document.createElement("div");u.innerHTML=s,n.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},i.prototype.moveTo=function(e,t){var r=this._styleCoord;if(Hu(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var a=this.el.style,o=Bu(r[0],r[1]);_(o,function(n){a[n[0]]=n[1]})}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",pt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(L(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},i}(),Gu=id;var ad=function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Wu(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,r,a,o){var n=this;ot(e)&&at(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new W({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Nr(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),_(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){n.el.style[u]=r.get(u)}),_(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){n.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Fu(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},i.prototype.moveTo=function(e,t){var r=this.el;if(r){var a=this._styleCoord;Wu(a,this._zr,e,t),e=a[0],t=a[1];var o=r.style,n=se(o.borderWidth||0),s=Fu(o);r.x=e+n+s.left,r.y=t+n+s.top,r.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(L(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function se(i){return Math.max(0,i)}function Fu(i){var e=se(i.shadowBlur||0),t=se(i.shadowOffsetX||0),r=se(i.shadowOffsetY||0);return{left:se(e-t),right:se(e+t),top:se(e-r),bottom:se(e+r)}}function Wu(i,e,t,r){i[0]=t,i[1]=r,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var Zu=ad;var od=new nt({shape:{x:-1,y:-1,width:2,height:2}}),nd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(pt.node||!r.getDom())){var a=t.getComponent("tooltip"),o=this._renderMode=cn(a.get("renderMode"));this._tooltipContent=o==="richText"?new Zu(r):new Gu(r,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(t,r,a){if(!(pt.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=a;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Ft(this,"_updatePosition",50,"fixRate"):me(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");Jr("itemTooltip",this._api,L(function(a,o,n){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(o,n):a==="leave"&&this._hide(n))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,a=this._api,o=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&n.manuallyShowTip(t,r,a,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,a,o){if(!(o.from===this.uid||pt.node||!a.getDom())){var n=Yu(o,a);this._ticket="";var s=o.dataByCoordSys,l=pd(o,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},n)}else if(o.tooltip&&o.x!=null&&o.y!=null){var p=od;p.x=o.x,p.y=o.y,p.update(),Z(p).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:p},n)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},n);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,a,o))return;var c=pr(o,r),f=c.point[0],h=c.point[1];f!=null&&h!=null&&this._tryShow({offsetX:f,offsetY:h,target:c.el,position:o.position,positionDefault:"bottom"},n)}else o.x!=null&&o.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:a.getZr().findHover(o.x,o.y).target},n))}},e.prototype.manuallyHideTip=function(t,r,a,o){var n=this._tooltipContent;this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(Yu(o,a))},e.prototype._manuallyAxisShowTip=function(t,r,a,o){var n=o.seriesIndex,s=o.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(n==null||s==null||l==null)){var u=r.getSeriesByIndex(n);if(u){var p=u.getData(),c=hr([p.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:s,position:o.position}),!0}}},e.prototype._tryShow=function(t,r){var a=t.target,o=this._tooltipModel;if(o){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;if(n&&n.length)this._showAxisTooltip(n,t);else if(a){var s=Z(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Gr(a,function(p){if(Z(p).dataIndex!=null)return l=p,!0;if(Z(p).tooltipConfig!=null)return u=p,!0},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var a=t.get("showDelay");r=L(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},e.prototype._showAxisTooltip=function(t,r){var a=this._ecModel,o=this._tooltipModel,n=[r.offsetX,r.offsetY],s=hr([r.tooltipOption],o),l=this._renderMode,u=[],p=ie("section",{blocks:[],noHeader:!0}),c=[],f=new Br;_(t,function(S){_(S.dataByAxis,function(y){var b=a.getComponent(y.axisDim+"Axis",y.axisIndex),x=y.value;if(!(!b||x==null)){var T=ca(x,b.axis,a,y.seriesDataIndices,y.valueLabelOpt),M=ie("section",{header:T,noHeader:!Wo(T),sortBlocks:!0,blocks:[]});p.blocks.push(M),_(y.seriesDataIndices,function(C){var w=a.getSeriesByIndex(C.seriesIndex),I=C.dataIndexInside,z=w.getDataParams(I);if(!(z.dataIndex<0)){z.axisDim=y.axisDim,z.axisIndex=y.axisIndex,z.axisType=y.axisType,z.axisId=y.axisId,z.axisValue=Zr(b.axis,{value:x}),z.axisValueLabel=T,z.marker=f.makeTooltipMarker("item",Pe(z.color),l);var E=Yi(w.formatTooltip(I,!0,null)),k=E.frag;if(k){var H=hr([w],o).get("valueFormatter");M.blocks.push(H?B({valueFormatter:H},k):k)}E.text&&c.push(E.text),u.push(z)}})}})}),p.blocks.reverse(),c.reverse();var h=r.position,d=s.get("order"),v=Ki(p,f,l,d,a.get("useUTC"),s.get("textStyle"));v&&c.unshift(v);var m=l==="richText"?`

`:"<br/>",g=c.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,h,n[0],n[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",n[0],n[1],h,null,f)})},e.prototype._showSeriesItemTooltip=function(t,r,a){var o=this._ecModel,n=Z(r),s=n.seriesIndex,l=o.getSeriesByIndex(s),u=n.dataModel||l,p=n.dataIndex,c=n.dataType,f=u.getData(c),h=this._renderMode,d=t.positionDefault,v=hr([f.getItemModel(p),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),m=v.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(p,c),S=new Br;g.marker=S.makeTooltipMarker("item",Pe(g.color),h);var y=Yi(u.formatTooltip(p,!1,c)),b=v.get("order"),x=v.get("valueFormatter"),T=y.frag,M=T?Ki(x?B({valueFormatter:x},T):T,S,h,b,o.get("useUTC"),v.get("textStyle")):y.text,C="item_"+u.name+"_"+p;this._showOrMove(v,function(){this._showTooltipContent(v,M,g,C,t.offsetX,t.offsetY,t.position,t.target,S)}),a({type:"showTip",dataIndexInside:p,dataIndex:f.getRawIndex(p),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,a){var o=this._renderMode==="html",n=Z(r),s=n.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(V(l)){var p=l;l={content:p,formatter:p},u=!0}u&&o&&l.content&&(l=N(l),l.content=En(l.content));var c=[l],f=this._ecModel.getComponent(n.componentMainType,n.componentIndex);f&&c.push(f),c.push({formatter:l.content});var h=t.positionDefault,d=hr(c,this._tooltipModel,h?{position:h}:null),v=d.get("content"),m=Math.random()+"",g=new Br;this._showOrMove(d,function(){var S=N(d.get("formatterParams")||{});this._showTooltipContent(d,v,S,m,t.offsetX,t.offsetY,t.position,r,g)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,a,o,n,s,l,u,p){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var h=r,d=this._getNearestPoint([n,s],a,t.get("trigger"),t.get("borderColor")),v=d.color;if(f)if(V(f)){var m=t.ecModel.get("useUTC"),g=D(a)?a[0]:a,S=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=f,S&&(h=Vn(g.axisValue,h,m)),h=Un(h,a,!0)}else if(G(f)){var y=L(function(b,x){b===this._ticket&&(c.setContent(x,p,t,v,l),this._updatePosition(t,l,n,s,c,a,u))},this);this._ticket=o,h=f(a,o,y)}else h=f;c.setContent(h,p,t,v,l),c.show(t,v),this._updatePosition(t,l,n,s,c,a,u)}},e.prototype._getNearestPoint=function(t,r,a,o){if(a==="axis"||D(r))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!D(r))return{color:o||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,a,o,n,s,l){var u=this._api.getWidth(),p=this._api.getHeight();r=r||t.get("position");var c=n.getSize(),f=t.get("align"),h=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),G(r)&&(r=r([a,o],s,n.el,d,{viewSize:[u,p],contentSize:c.slice()})),D(r))a=Y(r[0],u),o=Y(r[1],p);else if(ot(r)){var v=r;v.width=c[0],v.height=c[1];var m=dt(v,{width:u,height:p});a=m.x,o=m.y,f=null,h=null}else if(V(r)&&l){var g=ud(r,d,c,t.get("borderWidth"));a=g[0],o=g[1]}else{var g=sd(a,o,n,u,p,f?null:20,h?null:20);a=g[0],o=g[1]}if(f&&(a-=Xu(f)?c[0]/2:f==="right"?c[0]:0),h&&(o-=Xu(h)?c[1]/2:h==="bottom"?c[1]:0),hi(t)){var g=ld(a,o,n,u,p);a=g[0],o=g[1]}n.moveTo(a,o)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var a=this._lastDataByCoordSys,o=this._cbParamsList,n=!!a&&a.length===t.length;return n&&_(a,function(s,l){var u=s.dataByAxis||[],p=t[l]||{},c=p.dataByAxis||[];n=n&&u.length===c.length,n&&_(u,function(f,h){var d=c[h]||{},v=f.seriesDataIndices||[],m=d.seriesDataIndices||[];n=n&&f.value===d.value&&f.axisType===d.axisType&&f.axisId===d.axisId&&v.length===m.length,n&&_(v,function(g,S){var y=m[S];n=n&&g.seriesIndex===y.seriesIndex&&g.dataIndex===y.dataIndex}),o&&_(f.seriesDataIndices,function(g){var S=g.seriesIndex,y=r[S],b=o[S];y&&b&&b.data!==y.data&&(n=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){pt.node||!r.getDom()||(me(this,"_updatePosition"),this._tooltipContent.dispose(),ur("itemTooltip",r))},e.type="tooltip",e}($);function hr(i,e,t){var r=e.ecModel,a;t?(a=new Tt(t,r,r),a=new Tt(e.option,a,r)):a=e;for(var o=i.length-1;o>=0;o--){var n=i[o];n&&(n instanceof Tt&&(n=n.get("tooltip",!0)),V(n)&&(n={formatter:n}),n&&(a=new Tt(n,a,r)))}return a}function Yu(i,e){return i.dispatchAction||L(e.dispatchAction,e)}function sd(i,e,t,r,a,o,n){var s=t.getSize(),l=s[0],u=s[1];return o!=null&&(i+l+o+2>r?i-=l+o:i+=o),n!=null&&(e+u+n>a?e-=u+n:e+=n),[i,e]}function ld(i,e,t,r,a){var o=t.getSize(),n=o[0],s=o[1];return i=Math.min(i+n,r)-n,e=Math.min(e+s,a)-s,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function ud(i,e,t,r){var a=t[0],o=t[1],n=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,p=e.height;switch(i){case"inside":s=e.x+u/2-a/2,l=e.y+p/2-o/2;break;case"top":s=e.x+u/2-a/2,l=e.y-o-n;break;case"bottom":s=e.x+u/2-a/2,l=e.y+p+n;break;case"left":s=e.x-a-n,l=e.y+p/2-o/2;break;case"right":s=e.x+u+n,l=e.y+p/2-o/2}return[s,l]}function Xu(i){return i==="center"||i==="middle"}function pd(i,e,t){var r=ln(i).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var o=pn(e,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),n=o.models[0];if(n){var s=t.getViewOfComponentModel(n),l;if(s.group.traverse(function(u){var p=Z(u).tooltipConfig;if(p&&p.name===i.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:n.componentIndex,el:l}}}}var Ku=nd;function Ba(i){R(Bt),i.registerComponentModel(Eu),i.registerComponentView(Ku),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Me),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Me)}var cd=["rect","polygon","keep","clear"];function Ha(i,e){var t=wt(i?i.brush:[]);if(t.length){var r=[];_(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var a=i&&i.toolbox;D(a)&&(a=a[0]),a||(a={feature:{}},i.toolbox=[a]);var o=a.feature||(a.feature={}),n=o.brush||(o.brush={}),s=n.type||(n.type=[]);s.push.apply(s,r),fd(s),e&&!s.length&&s.push.apply(s,cd)}}function fd(i){var e={};_(i,function(t){e[t]=1}),i.length=0,_(e,function(t,r){i.push(r)})}var qu=_;function ju(i){if(i){for(var e in i)if(i.hasOwnProperty(e))return!0}}function dr(i,e,t){var r={};return qu(e,function(o){var n=r[o]=a();qu(i[o],function(s,l){if(ht.isValidType(l)){var u={type:l,visual:s};t&&t(u,o),n[l]=new ht(u),l==="opacity"&&(u=N(u),u.type="colorAlpha",n.__hidden.__alphaForOpacity=new ht(u))}})}),r;function a(){var o=function(){};o.prototype.__hidden=o.prototype;var n=new o;return n}}function di(i,e,t){var r;_(t,function(a){e.hasOwnProperty(a)&&ju(e[a])&&(r=!0)}),r&&_(t,function(a){e.hasOwnProperty(a)&&ju(e[a])?i[a]=N(e[a]):delete i[a]})}function $u(i,e,t,r,a,o){var n={};_(i,function(c){var f=ht.prepareVisualTypes(e[c]);n[c]=f});var s;function l(c){return $i(t,s,c)}function u(c,f){Qi(t,s,c,f)}o==null?t.each(p):t.each([o],p);function p(c,f){s=o==null?c:f;var h=t.getRawDataItem(s);if(!(h&&h.visualMap===!1))for(var d=r.call(a,c),v=e[d],m=n[d],g=0,S=m.length;g<S;g++){var y=m[g];v[y]&&v[y].applyVisual(c,l,u)}}}function Qu(i,e,t,r){var a={};return _(i,function(o){var n=ht.prepareVisualTypes(e[o]);a[o]=n}),{progress:function(n,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(x){return $i(s,c,x)}function p(x,T){Qi(s,c,x,T)}for(var c,f=s.getStore();(c=n.next())!=null;){var h=s.getRawDataItem(c);if(!(h&&h.visualMap===!1))for(var d=r!=null?f.get(l,c):c,v=t(d),m=e[v],g=a[v],S=0,y=g.length;S<y;S++){var b=g[S];m[b]&&m[b].applyVisual(d,u,p)}}}}}function ep(i){var e=i.brushType,t={point:function(r){return Ju[e].point(r,t,i)},rect:function(r){return Ju[e].rect(r,t,i)}};return t}var Ju={lineX:tp(0),lineY:tp(1),rect:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])},rect:function(i,e,t){return i&&t.boundingRect.intersect(i)}},polygon:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])&&Ve(t.range,i[0],i[1])},rect:function(i,e,t){var r=t.range;if(!i||r.length<=1)return!1;var a=i.x,o=i.y,n=i.width,s=i.height,l=r[0];if(Ve(r,a,o)||Ve(r,a+n,o)||Ve(r,a,o+s)||Ve(r,a+n,o+s)||Rt.create(i).contain(l[0],l[1])||rr(a,o,a+n,o,r)||rr(a,o,a,o+s,r)||rr(a+n,o,a+n,o+s,r)||rr(a,o+s,a+n,o+s,r))return!0}}};function tp(i){var e=["x","y"],t=["width","height"];return{point:function(r,a,o){if(r){var n=o.range,s=r[i];return vr(s,n)}},rect:function(r,a,o){if(r){var n=o.range,s=[r[e[i]],r[e[i]]+r[t[i]]];return s[1]<s[0]&&s.reverse(),vr(s[0],n)||vr(s[1],n)||vr(n[0],s)||vr(n[1],s)}}}}function vr(i,e){return e[0]<=i&&i<=e[1]}var rp=["inBrush","outOfBrush"],Ga="__ecBrushSelect",Fa="__ecInBrushSelectEvent";function Wa(i){i.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new fr(e.option,i);t.setInputRanges(e.areas,i)})}function Za(i,e,t){var r=[],a,o;i.eachComponent({mainType:"brush"},function(n){t&&t.type==="takeGlobalCursor"&&n.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),Wa(i),i.eachComponent({mainType:"brush"},function(n,s){var l={brushId:n.id,brushIndex:s,brushName:n.name,areas:N(n.areas),selected:[]};r.push(l);var u=n.option,p=u.brushLink,c=[],f=[],h=[],d=!1;s||(a=u.throttleType,o=u.throttleDelay);var v=P(n.areas,function(x){var T=md[x.brushType],M=F({boundingRect:T?T(x):void 0},x);return M.selectors=ep(M),M}),m=dr(n.option,rp,function(x){x.mappingMethod="fixed"});D(p)&&_(p,function(x){c[x]=1});function g(x){return p==="all"||!!c[x]}function S(x){return!!x.length}i.eachSeries(function(x,T){var M=h[T]=[];x.subType==="parallel"?y(x,T):b(x,T,M)});function y(x,T){var M=x.coordinateSystem;d=d||M.hasAxisBrushed(),g(T)&&M.eachActiveState(x.getData(),function(C,w){C==="active"&&(f[w]=1)})}function b(x,T,M){if(!(!x.brushSelector||vd(n,T))&&(_(v,function(w){n.brushTargetManager.controlSeries(w,x,i)&&M.push(w),d=d||S(M)}),g(T)&&S(M))){var C=x.getData();C.each(function(w){ip(x,M,C,w)&&(f[w]=1)})}}i.eachSeries(function(x,T){var M={seriesId:x.id,seriesIndex:T,seriesName:x.name,dataIndex:[]};l.selected.push(M);var C=h[T],w=x.getData(),I=g(T)?function(z){return f[z]?(M.dataIndex.push(w.getRawIndex(z)),"inBrush"):"outOfBrush"}:function(z){return ip(x,C,w,z)?(M.dataIndex.push(w.getRawIndex(z)),"inBrush"):"outOfBrush"};(g(T)?d:S(C))&&$u(rp,m,w,I)})}),hd(e,a,o,r,t)}function hd(i,e,t,r,a){if(a){var o=i.getZr();if(!o[Fa]){o[Ga]||(o[Ga]=dd);var n=Ft(o,Ga,t,e);n(i,r)}}}function dd(i,e){if(!i.isDisposed()){var t=i.getZr();t[Fa]=!0,i.dispatchAction({type:"brushSelect",batch:e}),t[Fa]=!1}}function ip(i,e,t,r){for(var a=0,o=e.length;a<o;a++){var n=e[a];if(i.brushSelector(r,t,n.selectors,n))return!0}}function vd(i,e){var t=i.option.seriesIndex;return t!=null&&t!=="all"&&(D(t)?tt(t,e)<0:e!==t)}var md={rect:function(i){return ap(i.range)},polygon:function(i){for(var e,t=i.range,r=0,a=t.length;r<a;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=t[r];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&ap(e)}};function ap(i){return new Rt(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var gd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new Yr(r.getZr())).on("brush",L(this._onBrush,this)).mount()},e.prototype.render=function(t,r,a,o){this.model=t,this._updateController(t,r,a,o)},e.prototype.updateTransform=function(t,r,a,o){Wa(r),this._updateController(t,r,a,o)},e.prototype.updateVisual=function(t,r,a,o){this.updateTransform(t,r,a,o)},e.prototype.updateView=function(t,r,a,o){this._updateController(t,r,a,o)},e.prototype._updateController=function(t,r,a,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(a)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,a=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:N(a),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:N(a),$from:r})},e.type="brush",e}($),op=gd;var yd="#ddd",xd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var a=this.option;!r&&di(a,t,["inBrush","outOfBrush"]);var o=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:yd},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=P(t,function(r){return np(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=np(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(j);function np(i,e){return J({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new Tt(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},e,!0)}var sp=xd;var Sd=["rect","polygon","lineX","lineY","keep","clear"],_d=function(i){A(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,r,a){var o,n,s;r.eachComponent({mainType:"brush"},function(l){o=l.brushType,n=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=n,_(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?n==="multiple":l==="clear"?s:l===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,a){this.render(t,r,a)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),a={};return _(t.get("type",!0),function(o){r[o]&&(a[o]=r[o])}),a},e.prototype.onclick=function(t,r,a){var o=this._brushType,n=this._brushMode;a==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?o:o===a?!1:a,brushMode:a==="keep"?n==="multiple"?"single":"multiple":n}})},e.getDefaultOption=function(t){var r={show:!0,type:Sd.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e}(vt),lp=_d;function Ya(i){i.registerComponentView(op),i.registerComponentModel(sp),i.registerPreprocessor(Ha),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,Za),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Me),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Me),ne("brush",lp)}var bd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(j),Td=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){if(this.group.removeAll(),!!t.get("show")){var o=this.group,n=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=yt(t.get("textBaseline"),t.get("textVerticalAlign")),p=new W({style:rt(n,{text:t.get("text"),fill:n.getTextColor()},{disableBox:!0}),z2:10}),c=p.getBoundingRect(),f=t.get("subtext"),h=new W({style:rt(s,{text:f,fill:s.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),v=t.get("sublink"),m=t.get("triggerEvent",!0);p.silent=!d&&!m,h.silent=!v&&!m,d&&p.on("click",function(){Wi(d,"_"+t.get("target"))}),v&&h.on("click",function(){Wi(v,"_"+t.get("subtarget"))}),Z(p).eventData=Z(h).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(p),f&&o.add(h);var g=o.getBoundingRect(),S=t.getBoxLayoutParams();S.width=g.width,S.height=g.height;var y=dt(S,{width:a.getWidth(),height:a.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?y.x+=y.width:l==="center"&&(y.x+=y.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?y.y+=y.height:u==="middle"&&(y.y+=y.height/2),u=u||"top"),o.x=y.x,o.y=y.y,o.markRedraw();var b={align:l,verticalAlign:u};p.setStyle(b),h.setStyle(b),g=o.getBoundingRect();var x=y.margin,T=t.getItemStyle(["color","opacity"]);T.fill=t.get("backgroundColor");var M=new nt({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:T,subPixelOptimize:!0,silent:!0});o.add(M)}},e.type="title",e}($);function Xa(i){i.registerComponentModel(bd),i.registerComponentView(Td)}var Md=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),this._initData()},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],a=t.axisType,o=this._names=[],n;a==="category"?(n=[],_(r,function(u,p){var c=de(en(u),""),f;ot(u)?(f=N(u),f.value=p):f=p,n.push(f),o.push(c)})):n=r;var s={category:"ordinal",time:"time",value:"number"}[a]||"number",l=this._data=new Et([{name:"value",type:s}],this);l.initData(n,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(j),Ka=Md;var up=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Ct(Ka.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Ka);$t(up,ar.prototype);var pp=up;var wd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}($),cp=wd;var Ad=function(i){A(e,i);function e(t,r,a,o){var n=i.call(this,t,r,a)||this;return n.type=o||"value",n}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Dt),fp=Ad;var qa=Math.PI,hp=X(),Cd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,a){if(this.model=t,this.api=a,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,a),n=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,t);t.formatTooltip=function(u){var p=l.scale.getLabel({value:u});return ie("nameValue",{noName:!0,value:p})},_(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,n,l,t)},this),this._renderAxisLabel(o,s,l,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var a=t.get(["label","position"]),o=t.get("orient"),n=Dd(t,r),s;a==null||a==="auto"?s=o==="horizontal"?n.y+n.height/2<r.getHeight()/2?"-":"+":n.x+n.width/2<r.getWidth()/2?"+":"-":V(a)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][a]:s=a;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},p={horizontal:0,vertical:qa/2},c=o==="vertical"?n.height:n.width,f=t.getModel("controlStyle"),h=f.get("show",!0),d=h?f.get("itemSize"):0,v=h?f.get("itemGap"):0,m=d+v,g=t.get(["label","rotate"])||0;g=g*qa/180;var S,y,b,x=f.get("position",!0),T=h&&f.get("showPlayBtn",!0),M=h&&f.get("showPrevBtn",!0),C=h&&f.get("showNextBtn",!0),w=0,I=c;x==="left"||x==="bottom"?(T&&(S=[0,0],w+=m),M&&(y=[w,0],w+=m),C&&(b=[I-d,0],I-=m)):(T&&(S=[I-d,0],I-=m),M&&(y=[0,0],w+=m),C&&(b=[I-d,0],I-=m));var z=[w,I];return t.get("inverse")&&z.reverse(),{viewRect:n,mainLength:c,orient:o,rotation:p[o],labelRotation:g,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[o],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[o],playPosition:S,prevBtnPosition:y,nextBtnPosition:b,axisExtent:z,controlSize:d,controlGap:v}},e.prototype._position=function(t,r){var a=this._mainGroup,o=this._labelGroup,n=t.viewRect;if(t.orient==="vertical"){var s=we(),l=n.x,u=n.y+n.height;he(s,s,[-l,-u]),Ae(s,s,-qa/2),he(s,s,[l,u]),n=n.clone(),n.applyTransform(s)}var p=S(n),c=S(a.getBoundingRect()),f=S(o.getBoundingRect()),h=[a.x,a.y],d=[o.x,o.y];d[0]=h[0]=p[0][0];var v=t.labelPosOpt;if(v==null||V(v)){var m=v==="+"?0:1;y(h,c,p,1,m),y(d,f,p,1,1-m)}else{var m=v>=0?0:1;y(h,c,p,1,m),d[1]=h[1]+v}a.setPosition(h),o.setPosition(d),a.rotation=o.rotation=t.rotation,g(a),g(o);function g(b){b.originX=p[0][0]-b.x,b.originY=p[1][0]-b.y}function S(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function y(b,x,T,M,C){b[M]+=T[M][C]-x[M][C]}},e.prototype._createAxis=function(t,r){var a=r.getData(),o=r.get("axisType"),n=Id(r,o);n.getTicks=function(){return a.mapArray(["value"],function(u){return{value:u}})};var s=a.getDataExtent("value");n.setExtent(s[0],s[1]),n.calcNiceTicks();var l=new fp("value",n,t.axisExtent,o);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new et;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,a,o){var n=a.getExtent();if(o.get(["lineStyle","show"])){var s=new Gt({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:B({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new Gt({shape:{x1:n[0],x2:this._currentPointer?this._currentPointer.x:n[0],y1:0,y2:0},style:F({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,a,o){var n=this,s=o.getData(),l=a.scale.getTicks();this._tickSymbols=[],_(l,function(u){var p=a.dataToCoord(u.value),c=s.getItemModel(u.value),f=c.getModel("itemStyle"),h=c.getModel(["emphasis","itemStyle"]),d=c.getModel(["progress","itemStyle"]),v={x:p,y:0,onclick:L(n._changeTimeline,n,u.value)},m=dp(c,f,r,v);m.ensureState("emphasis").style=h.getItemStyle(),m.ensureState("progress").style=d.getItemStyle(),Yt(m);var g=Z(m);c.get("tooltip")?(g.dataIndex=u.value,g.dataModel=o):g.dataIndex=g.dataModel=null,n._tickSymbols.push(m)})},e.prototype._renderAxisLabel=function(t,r,a,o){var n=this,s=a.getLabelModel();if(s.get("show")){var l=o.getData(),u=a.getViewLabels();this._tickLabels=[],_(u,function(p){var c=p.tickValue,f=l.getItemModel(c),h=f.getModel("label"),d=f.getModel(["emphasis","label"]),v=f.getModel(["progress","label"]),m=a.dataToCoord(p.tickValue),g=new W({x:m,y:0,rotation:t.labelRotation-t.rotation,onclick:L(n._changeTimeline,n,c),silent:!1,style:rt(h,{text:p.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});g.ensureState("emphasis").style=rt(d),g.ensureState("progress").style=rt(v),r.add(g),Yt(g),hp(g).dataIndex=c,n._tickLabels.push(g)})}},e.prototype._renderControl=function(t,r,a,o){var n=t.controlSize,s=t.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),p=o.getPlayState(),c=o.get("inverse",!0);f(t.nextBtnPosition,"next",L(this._changeTimeline,this,c?"-":"+")),f(t.prevBtnPosition,"prev",L(this._changeTimeline,this,c?"+":"-")),f(t.playPosition,p?"stop":"play",L(this._handlePlayClick,this,!p),!0);function f(h,d,v,m){if(h){var g=Je(yt(o.get(["controlStyle",d+"BtnSize"]),n),n),S=[0,-g/2,g,g],y=zd(o,d+"Icon",S,{x:h[0],y:h[1],originX:n/2,originY:0,rotation:m?-s:0,rectHover:!0,style:l,onclick:v});y.ensureState("emphasis").style=u,r.add(y),Yt(y)}}},e.prototype._renderCurrentPointer=function(t,r,a,o){var n=o.getData(),s=o.getCurrentIndex(),l=n.getItemModel(s).getModel("checkpointStyle"),u=this,p={onCreate:function(c){c.draggable=!0,c.drift=L(u._handlePointerDrag,u),c.ondragend=L(u._handlePointerDragend,u),vp(c,u._progressLine,s,a,o,!0)},onUpdate:function(c){vp(c,u._progressLine,s,a,o)}};this._currentPointer=dp(l,l,this._mainGroup,{},this._currentPointer,p)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var a=this._toAxisCoord(t)[0],o=this._axis,n=mt(o.getExtent().slice());a>n[1]&&(a=n[1]),a<n[0]&&(a=n[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=a,s.dirty());var l=this._findNearestTick(a),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return bt(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),a=1/0,o,n=this._axis;return r.each(["value"],function(s,l){var u=n.dataToCoord(s),p=Math.abs(u-t);p<a&&(a=p,o=l)}),o},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,a=this._tickLabels;if(r)for(var o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",o<t);if(a)for(var o=0;o<a.length;o++)a&&a[o]&&a[o].toggleState("progress",hp(a[o]).dataIndex<=t)},e.type="timeline.slider",e}(cp);function Id(i,e){if(e=e||i.get("type"),e)switch(e){case"category":return new ns({ordinalMeta:i.getCategories(),extent:[1/0,-1/0]});case"time":return new ls({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new ss}}function Dd(i,e){return dt(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},i.get("padding"))}function zd(i,e,t,r){var a=r.style,o=ee(i.get(["controlStyle",e]),r||{},new Rt(t[0],t[1],t[2],t[3]));return a&&o.setStyle(a),o}function dp(i,e,t,r,a,o){var n=e.get("color");if(a)a.setColor(n),t.add(a),o&&o.onUpdate(a);else{var s=i.get("symbol");a=It(s,-1,-1,2,2,n),a.setStyle("strokeNoScale",!0),t.add(a),o&&o.onCreate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l),r=J({rectHover:!0,z2:100},r,!0);var u=Zn(i.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var p=Yn(i.get("symbolOffset"),u);p&&(r.x=(r.x||0)+p[0],r.y=(r.y||0)+p[1]);var c=i.get("symbolRotate");return r.rotation=(c||0)*Math.PI/180||0,a.attr(r),a.updateTransform(),a}function vp(i,e,t,r,a,o){if(!i.dragging){var n=a.getModel("checkpointStyle"),s=r.dataToCoord(a.getData().get("value",t));if(o||!n.get("animation",!0))i.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:n.get("animationDuration",!0),easing:n.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var mp=Cd;function gp(i){i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var a=t.getComponent("timeline");return a&&e.currentIndex!=null&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),F({currentIndex:a.option.currentIndex},e)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function ja(i){var e=i&&i.timeline;D(e)||(e=e?[e]:[]),_(e,function(t){t&&Ld(t)})}function Ld(i){var e=i.type,t={number:"value",time:"time"};if(t[e]&&(i.axisType=t[e],delete i.type),yp(i),Se(i,"controlPosition")){var r=i.controlStyle||(i.controlStyle={});Se(r,"position")||(r.position=i.controlPosition),r.position==="none"&&!Se(r,"show")&&(r.show=!1,delete r.position),delete i.controlPosition}_(i.data||[],function(a){ot(a)&&!D(a)&&(!Se(a,"value")&&Se(a,"name")&&(a.value=a.name),yp(a))})}function yp(i){var e=i.itemStyle||(i.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=i.label||i.label||{},a=r.normal||(r.normal={}),o={normal:1,emphasis:1};_(r,function(n,s){!o[s]&&!Se(a,s)&&(a[s]=n)}),t.label&&!Se(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function Se(i,e){return i.hasOwnProperty(e)}function $a(i){i.registerComponentModel(pp),i.registerComponentView(mp),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),gp(i),i.registerPreprocessor(ja)}function _e(i,e){if(!i)return!1;for(var t=D(i)?i:[i],r=0;r<t.length;r++)if(t[r]&&t[r][e])return!0;return!1}function mi(i){tn(i,"label",["show"])}var gi=X(),xp=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),this._mergeOption(t,a,!1,!0)},e.prototype.isAnimationEnabled=function(){if(pt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},e.prototype._mergeOption=function(t,r,a,o){var n=this.mainType;a||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=gi(s)[n];if(!l||!l.data){gi(s)[n]=null;return}u?u._mergeOption(l,r,!0):(o&&mi(l),_(l.data,function(p){p instanceof Array?(mi(p[0]),mi(p[1])):mi(p)}),u=this.createMarkerModelFromSeries(l,this,r),B(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),gi(s)[n]=u},this)},e.prototype.formatTooltip=function(t,r,a){var o=this.getData(),n=this.getRawValue(t),s=o.getName(t);return ie("section",{header:this.name,blocks:[ie("nameValue",{name:s,value:n,noName:!s,noValue:n==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,r){var a=ar.prototype.getDataParams.call(this,t,r),o=this.__hostSeries;return o&&(a.seriesId=o.id,a.seriesName=o.name,a.seriesType=o.subType),a},e.getMarkerModelFromSeries=function(t,r){return gi(t)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(j);$t(xp,ar.prototype);var St=xp;var Pd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(St),Sp=Pd;function Ja(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function kd(i){return!isNaN(parseFloat(i.x))&&!isNaN(parseFloat(i.y))}function yi(i,e,t,r,a,o){var n=[],s=Vr(e,r),l=s?e.getCalculationInfo("stackResultDimension"):r,u=Si(e,l,i),p=e.indicesOfNearest(l,u)[0];n[a]=e.get(t,p),n[o]=e.get(l,p);var c=e.get(r,p),f=jo(e.get(r,p));return f=Math.min(f,20),f>=0&&(n[o]=+n[o].toFixed(f)),[n,c]}var Qa={min:U(yi,"min"),max:U(yi,"max"),average:U(yi,"average"),median:U(yi,"median")};function le(i,e){if(e){var t=i.getData(),r=i.coordinateSystem,a=r&&r.dimensions;if(!kd(e)&&!D(e.coord)&&D(a)){var o=to(e,t,r,i);if(e=N(e),e.type&&Qa[e.type]&&o.baseAxis&&o.valueAxis){var n=tt(a,o.baseAxis.dim),s=tt(a,o.valueAxis.dim),l=Qa[e.type](t,o.baseDataDim,o.valueDataDim,n,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!D(a))e.coord=[];else for(var u=e.coord,p=0;p<2;p++)Qa[u[p]]&&(u[p]=Si(t,t.mapDimension(a[p]),u[p]));return e}}function to(i,e,t,r){var a={};return i.valueIndex!=null||i.valueDim!=null?(a.valueDataDim=i.valueIndex!=null?e.getDimension(i.valueIndex):i.valueDim,a.valueAxis=t.getAxis(Rd(r,a.valueDataDim)),a.baseAxis=t.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=r.getBaseAxis(),a.valueAxis=t.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function Rd(i,e){var t=i.getData().getDimensionInfo(e);return t&&t.coordDim}function ue(i,e){return i&&i.containData&&e.coord&&!Ja(e)?i.containData(e.coord):!0}function _p(i,e,t){return i&&i.containZone&&e.coord&&t.coord&&!Ja(e)&&!Ja(t)?i.containZone(e.coord,t.coord):!0}function xi(i,e){return i?function(t,r,a,o){var n=o<2?t.coord&&t.coord[o]:t.value;return Le(n,e[o])}:function(t,r,a,o){return Le(t.value,e[o])}}function Si(i,e,t){if(t==="average"){var r=0,a=0;return i.each(e,function(o,n){isNaN(o)||(r+=o,a++)}),r/a}else return t==="median"?i.getMedian(e):i.getDataExtent(e)[t==="max"?1:0]}var ro=X(),Od=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=q()},e.prototype.render=function(t,r,a){var o=this,n=this.markerGroupMap;n.each(function(s){ro(s).keep=!1}),r.eachSeries(function(s){var l=St.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,r,a)}),n.each(function(s){!ro(s).keep&&o.group.remove(s.group)})},e.prototype.markKeep=function(t){ro(t).keep=!0},e.prototype.toggleBlurSeries=function(t,r){var a=this;_(t,function(o){var n=St.getMarkerModelFromSeries(o,a.type);if(n){var s=n.getData();s.eachItemGraphicEl(function(l){l&&(r?fn(l):hn(l))})}})},e.type="marker",e}($),We=Od;function bp(i,e,t){var r=e.coordinateSystem;i.each(function(a){var o=i.getItemModel(a),n,s=Y(o.get("x"),t.getWidth()),l=Y(o.get("y"),t.getHeight());if(!isNaN(s)&&!isNaN(l))n=[s,l];else if(e.getMarkerPosition)n=e.getMarkerPosition(i.getValues(i.dimensions,a));else if(r){var u=i.get(r.dimensions[0],a),p=i.get(r.dimensions[1],a);n=r.dataToPoint([u,p])}isNaN(s)||(n[0]=s),isNaN(l)||(n[1]=l),i.setItemLayout(a,n)})}var Ed=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(o){var n=St.getMarkerModelFromSeries(o,"markPoint");n&&(bp(n.getData(),o,a),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,r,a,o){var n=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,p=u.get(s)||u.set(s,new Xn),c=Vd(n,t,r);r.setData(c),bp(r.getData(),t,o),c.each(function(f){var h=c.getItemModel(f),d=h.getShallow("symbol"),v=h.getShallow("symbolSize"),m=h.getShallow("symbolRotate"),g=h.getShallow("symbolOffset"),S=h.getShallow("symbolKeepAspect");if(G(d)||G(v)||G(m)||G(g)){var y=r.getRawValue(f),b=r.getDataParams(f);G(d)&&(d=d(y,b)),G(v)&&(v=v(y,b)),G(m)&&(m=m(y,b)),G(g)&&(g=g(y,b))}var x=h.getModel("itemStyle").getItemStyle(),T=ae(l,"color");x.fill||(x.fill=T),c.setItemVisual(f,{symbol:d,symbolSize:v,symbolRotate:m,symbolOffset:g,symbolKeepAspect:S,style:x})}),p.updateData(c),this.group.add(p.group),c.eachItemGraphicEl(function(f){f.traverse(function(h){Z(h).dataModel=r})}),this.markKeep(p),p.group.silent=r.get("silent")||t.get("silent")},e.type="markPoint",e}(We);function Vd(i,e,t){var r;i?r=P(i&&i.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return B(B({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Et(r,t),o=P(t.get("data"),U(le,e));i&&(o=ut(o,U(ue,i)));var n=xi(!!i,r);return a.initData(o,null,n),a}var Tp=Ed;function io(i){i.registerComponentModel(Sp),i.registerComponentView(Tp),i.registerPreprocessor(function(e){_e(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var Ud=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(St),Mp=Ud;var _i=X(),Nd=function(i,e,t,r){var a=i.getData(),o;if(D(r))o=r;else{var n=r.type;if(n==="min"||n==="max"||n==="average"||n==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=Mt(r.yAxis,r.xAxis);else{var u=to(r,a,e,i);s=u.valueAxis;var p=kn(a,u.valueDataDim);l=Si(a,p,n)}var c=s.dim==="x"?0:1,f=1-c,h=N(r),d={coord:[]};h.type=null,h.coord=[],h.coord[f]=-1/0,d.coord[f]=1/0;var v=t.get("precision");v>=0&&Te(l)&&(l=+l.toFixed(Math.min(v,20))),h.coord[c]=d.coord[c]=l,o=[h,d,{type:n,valueIndex:r.valueIndex,value:l}]}else o=[]}var m=[le(i,o[0]),le(i,o[1]),B({},o[2])];return m[2].type=m[2].type||null,J(m[2],m[0]),J(m[2],m[1]),m};function bi(i){return!isNaN(i)&&!isFinite(i)}function wp(i,e,t,r){var a=1-i,o=r.dimensions[i];return bi(e[a])&&bi(t[a])&&e[i]===t[i]&&r.getAxis(o).containData(e[i])}function Bd(i,e){if(i.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(wp(1,t,r,i)||wp(0,t,r,i)))return!0}return ue(i,e[0])&&ue(i,e[1])}function ao(i,e,t,r,a){var o=r.coordinateSystem,n=i.getItemModel(e),s,l=Y(n.get("x"),a.getWidth()),u=Y(n.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(i.getValues(i.dimensions,e));else{var p=o.dimensions,c=i.get(p[0],e),f=i.get(p[1],e);s=o.dataToPoint([c,f])}if(or(o,"cartesian2d")){var h=o.getAxis("x"),d=o.getAxis("y"),p=o.dimensions;bi(i.get(p[0],e))?s[0]=h.toGlobalCoord(h.getExtent()[t?0:1]):bi(i.get(p[1],e))&&(s[1]=d.toGlobalCoord(d.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}i.setItemLayout(e,s)}var Hd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(o){var n=St.getMarkerModelFromSeries(o,"markLine");if(n){var s=n.getData(),l=_i(n).from,u=_i(n).to;l.each(function(p){ao(l,p,!0,o,a),ao(u,p,!1,o,a)}),s.each(function(p){s.setItemLayout(p,[l.getItemLayout(p),u.getItemLayout(p)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,a,o){var n=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,p=u.get(s)||u.set(s,new Ts);this.group.add(p.group);var c=Gd(n,t,r),f=c.from,h=c.to,d=c.line;_i(r).from=f,_i(r).to=h,r.setData(d);var v=r.get("symbol"),m=r.get("symbolSize"),g=r.get("symbolRotate"),S=r.get("symbolOffset");D(v)||(v=[v,v]),D(m)||(m=[m,m]),D(g)||(g=[g,g]),D(S)||(S=[S,S]),c.from.each(function(b){y(f,b,!0),y(h,b,!1)}),d.each(function(b){var x=d.getItemModel(b).getModel("lineStyle").getLineStyle();d.setItemLayout(b,[f.getItemLayout(b),h.getItemLayout(b)]),x.stroke==null&&(x.stroke=f.getItemVisual(b,"style").fill),d.setItemVisual(b,{fromSymbolKeepAspect:f.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(b,"symbolOffset"),fromSymbolRotate:f.getItemVisual(b,"symbolRotate"),fromSymbolSize:f.getItemVisual(b,"symbolSize"),fromSymbol:f.getItemVisual(b,"symbol"),toSymbolKeepAspect:h.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(b,"symbolOffset"),toSymbolRotate:h.getItemVisual(b,"symbolRotate"),toSymbolSize:h.getItemVisual(b,"symbolSize"),toSymbol:h.getItemVisual(b,"symbol"),style:x})}),p.updateData(d),c.line.eachItemGraphicEl(function(b){Z(b).dataModel=r,b.traverse(function(x){Z(x).dataModel=r})});function y(b,x,T){var M=b.getItemModel(x);ao(b,x,T,t,o);var C=M.getModel("itemStyle").getItemStyle();C.fill==null&&(C.fill=ae(l,"color")),b.setItemVisual(x,{symbolKeepAspect:M.get("symbolKeepAspect"),symbolOffset:yt(M.get("symbolOffset",!0),S[T?0:1]),symbolRotate:yt(M.get("symbolRotate",!0),g[T?0:1]),symbolSize:yt(M.get("symbolSize"),m[T?0:1]),symbol:yt(M.get("symbol",!0),v[T?0:1]),style:C})}this.markKeep(p),p.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e}(We);function Gd(i,e,t){var r;i?r=P(i&&i.dimensions,function(u){var p=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return B(B({},p),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Et(r,t),o=new Et(r,t),n=new Et([],t),s=P(t.get("data"),U(Nd,e,i,t));i&&(s=ut(s,U(Bd,i)));var l=xi(!!i,r);return a.initData(P(s,function(u){return u[0]}),null,l),o.initData(P(s,function(u){return u[1]}),null,l),n.initData(P(s,function(u){return u[2]})),n.hasItemOption=!0,{from:a,to:o,line:n}}var Ap=Hd;function oo(i){i.registerComponentModel(Mp),i.registerComponentView(Ap),i.registerPreprocessor(function(e){_e(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var Fd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,a){return new e(t,r,a)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(St),Cp=Fd;var Ti=X(),Wd=function(i,e,t,r){var a=r[0],o=r[1];if(!(!a||!o)){var n=le(i,a),s=le(i,o),l=n.coord,u=s.coord;l[0]=Mt(l[0],-1/0),l[1]=Mt(l[1],-1/0),u[0]=Mt(u[0],1/0),u[1]=Mt(u[1],1/0);var p=Ho([{},n,s]);return p.coord=[n.coord,s.coord],p.x0=n.x,p.y0=n.y,p.x1=s.x,p.y1=s.y,p}};function Mi(i){return!isNaN(i)&&!isFinite(i)}function Ip(i,e,t,r){var a=1-i;return Mi(e[a])&&Mi(t[a])}function Zd(i,e){var t=e.coord[0],r=e.coord[1],a={coord:t,x:e.x0,y:e.y0},o={coord:r,x:e.x1,y:e.y1};return or(i,"cartesian2d")?t&&r&&(Ip(1,t,r,i)||Ip(0,t,r,i))?!0:_p(i,a,o):ue(i,a)||ue(i,o)}function Dp(i,e,t,r,a){var o=r.coordinateSystem,n=i.getItemModel(e),s,l=Y(n.get(t[0]),a.getWidth()),u=Y(n.get(t[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var p=i.getValues(["x0","y0"],e),c=i.getValues(["x1","y1"],e),f=o.clampData(p),h=o.clampData(c),d=[];t[0]==="x0"?d[0]=f[0]>h[0]?c[0]:p[0]:d[0]=f[0]>h[0]?p[0]:c[0],t[1]==="y0"?d[1]=f[1]>h[1]?c[1]:p[1]:d[1]=f[1]>h[1]?p[1]:c[1],s=r.getMarkerPosition(d,t,!0)}else{var v=i.get(t[0],e),m=i.get(t[1],e),g=[v,m];o.clampData&&o.clampData(g,g),s=o.dataToPoint(g,!0)}if(or(o,"cartesian2d")){var S=o.getAxis("x"),y=o.getAxis("y"),v=i.get(t[0],e),m=i.get(t[1],e);Mi(v)?s[0]=S.toGlobalCoord(S.getExtent()[t[0]==="x0"?0:1]):Mi(m)&&(s[1]=y.toGlobalCoord(y.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var zp=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Yd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,a){r.eachSeries(function(o){var n=St.getMarkerModelFromSeries(o,"markArea");if(n){var s=n.getData();s.each(function(l){var u=P(zp,function(c){return Dp(s,l,c,o,a)});s.setItemLayout(l,u);var p=s.getItemGraphicEl(l);p.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,a,o){var n=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,p=u.get(s)||u.set(s,{group:new et});this.group.add(p.group),this.markKeep(p);var c=Xd(n,t,r);r.setData(c),c.each(function(f){var h=P(zp,function(C){return Dp(c,f,C,t,o)}),d=n.getAxis("x").scale,v=n.getAxis("y").scale,m=d.getExtent(),g=v.getExtent(),S=[d.parse(c.get("x0",f)),d.parse(c.get("x1",f))],y=[v.parse(c.get("y0",f)),v.parse(c.get("y1",f))];mt(S),mt(y);var b=!(m[0]>S[1]||m[1]<S[0]||g[0]>y[1]||g[1]<y[0]),x=!b;c.setItemLayout(f,{points:h,allClipped:x});var T=c.getItemModel(f).getModel("itemStyle").getItemStyle(),M=ae(l,"color");T.fill||(T.fill=M,V(T.fill)&&(T.fill=Ui(T.fill,.4))),T.stroke||(T.stroke=M),c.setItemVisual(f,"style",T)}),c.diff(Ti(p).data).add(function(f){var h=c.getItemLayout(f);if(!h.allClipped){var d=new Xt({shape:{points:h.points}});c.setItemGraphicEl(f,d),p.group.add(d)}}).update(function(f,h){var d=Ti(p).data.getItemGraphicEl(h),v=c.getItemLayout(f);v.allClipped?d&&p.group.remove(d):(d?Ot(d,{shape:{points:v.points}},r,f):d=new Xt({shape:{points:v.points}}),c.setItemGraphicEl(f,d),p.group.add(d))}).remove(function(f){var h=Ti(p).data.getItemGraphicEl(f);p.group.remove(h)}).execute(),c.eachItemGraphicEl(function(f,h){var d=c.getItemModel(h),v=c.getItemVisual(h,"style");f.useStyle(c.getItemVisual(h,"style")),Or(f,Mn(d),{labelFetcher:r,labelDataIndex:h,defaultText:c.getName(h)||"",inheritColor:V(v.fill)?Ui(v.fill,1):"#000"}),vn(f,d),dn(f,null,null,d.get(["emphasis","disabled"])),Z(f).dataModel=r}),Ti(p).data=c,p.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e}(We);function Xd(i,e,t){var r,a,o=["x0","y0","x1","y1"];if(i){var n=P(i&&i.dimensions,function(u){var p=e.getData(),c=p.getDimensionInfo(p.mapDimension(u))||{};return B(B({},c),{name:u,ordinalMeta:null})});a=P(o,function(u,p){return{name:u,type:n[p%2].type}}),r=new Et(a,t)}else a=[{name:"value",type:"float"}],r=new Et(a,t);var s=P(t.get("data"),U(Wd,e,i,t));i&&(s=ut(s,U(Zd,i)));var l=i?function(u,p,c,f){var h=u.coord[Math.floor(f/2)][f%2];return Le(h,a[f])}:function(u,p,c,f){return Le(u.value,a[f])};return r.initData(s,null,l),r.hasItemOption=!0,r}var Lp=Yd;function no(i){i.registerComponentModel(Cp),i.registerComponentView(Lp),i.registerPreprocessor(function(e){_e(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var Kd=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},qd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,a=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),D(r)&&_(r,function(o,n){V(o)&&(o={type:o}),r[n]=J(o,Kd(a,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<t.length;a++){var o=t[a].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],a=[];t.eachRawSeries(function(l){var u=l.name;a.push(u);var p;if(l.legendVisualProvider){var c=l.legendVisualProvider,f=c.getAllNames();t.isSeriesFiltered(l)||(a=a.concat(f)),f.length?r=r.concat(f):p=!0}else p=!0;p&&an(l)&&r.push(l.name)}),this._availableNames=a;var o=this.get("data")||r,n=q(),s=P(o,function(l){return(V(l)||Te(l))&&(l={name:l}),n.get(l.name)?null:(n.set(l.name,!0),new Tt(l,this,this.ecModel))},this);this._data=ut(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var o=this._data;_(o,function(n){r[n.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;_(t,function(a){r[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;_(t,function(a){var o=a.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&tt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(j),mr=qd;var Ze=U,so=_,wi=et,jd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new wi),this.group.add(this._selectorGroup=new wi),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,a){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var n=t.get("align"),s=t.get("orient");(!n||n==="auto")&&(n=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(n,t,r,a,l,s,u);var p=t.getBoxLayoutParams(),c={width:a.getWidth(),height:a.getHeight()},f=t.get("padding"),h=dt(p,c,f),d=this.layoutInner(t,n,h,o,l,u),v=dt(F({width:d.width,height:d.height},p),c,f);this.group.x=v.x-d.x,this.group.y=v.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=pi(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,a,o,n,s,l){var u=this.getContentGroup(),p=q(),c=r.get("selectedMode"),f=[];a.eachRawSeries(function(h){!h.get("legendHoverLink")&&f.push(h.id)}),so(r.getData(),function(h,d){var v=h.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var m=new wi;m.newline=!0,u.add(m);return}var g=a.getSeriesByName(v)[0];if(!p.get(v))if(g){var S=g.getData(),y=S.getVisual("legendLineStyle")||{},b=S.getVisual("legendIcon"),x=S.getVisual("style"),T=this._createItem(g,v,d,h,r,t,y,x,b,c,o);T.on("click",Ze(Pp,v,null,o,f)).on("mouseover",Ze(lo,g.name,null,o,f)).on("mouseout",Ze(uo,g.name,null,o,f)),a.ssr&&T.eachChild(function(M){var C=Z(M);C.seriesIndex=g.seriesIndex,C.dataIndex=d,C.ssrType="legend"}),p.set(v,!0)}else a.eachRawSeries(function(M){if(!p.get(v)&&M.legendVisualProvider){var C=M.legendVisualProvider;if(!C.containName(v))return;var w=C.indexOfName(v),I=C.getItemVisual(w,"style"),z=C.getItemVisual(w,"legendIcon"),E=Yo(I.fill);E&&E[3]===0&&(E[3]=.2,I=B(B({},I),{fill:Xo(E,"rgba")}));var k=this._createItem(M,v,d,h,r,t,{},I,z,c,o);k.on("click",Ze(Pp,null,v,o,f)).on("mouseover",Ze(lo,null,v,o,f)).on("mouseout",Ze(uo,null,v,o,f)),a.ssr&&k.eachChild(function(H){var K=Z(H);K.seriesIndex=M.seriesIndex,K.dataIndex=d,K.ssrType="legend"}),p.set(v,!0)}},this)},this),n&&this._createSelector(n,r,o,s,l)},e.prototype._createSelector=function(t,r,a,o,n){var s=this.getSelectorGroup();so(t,function(u){var p=u.type,c=new W({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:p==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(c);var f=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);Or(c,{normal:f,emphasis:h},{defaultText:u.title}),Yt(c)})},e.prototype._createItem=function(t,r,a,o,n,s,l,u,p,c,f){var h=t.visualDrawType,d=n.get("itemWidth"),v=n.get("itemHeight"),m=n.isSelected(r),g=o.get("symbolRotate"),S=o.get("symbolKeepAspect"),y=o.get("icon");p=y||p||"roundRect";var b=$d(p,o,l,u,h,m,f),x=new wi,T=o.getModel("textStyle");if(G(t.getLegendIcon)&&(!y||y==="inherit"))x.add(t.getLegendIcon({itemWidth:d,itemHeight:v,icon:p,iconRotate:g,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:S}));else{var M=y==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;x.add(Qd({itemWidth:d,itemHeight:v,icon:p,iconRotate:M,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:S}))}var C=s==="left"?d+5:-5,w=s,I=n.get("formatter"),z=r;V(I)&&I?z=I.replace("{name}",r??""):G(I)&&(z=I(r));var E=m?T.getTextColor():o.get("inactiveColor");x.add(new W({style:rt(T,{text:z,x:C,y:v/2,fill:E,align:w,verticalAlign:"middle"},{inheritColor:E})}));var k=new nt({shape:x.getBoundingRect(),style:{fill:"transparent"}}),H=o.getModel("tooltip");return H.get("show")&&ze({el:k,componentModel:n,itemName:r,itemTooltipOption:H.option}),x.add(k),x.eachChild(function(K){K.silent=!0}),k.silent=!c,this.getContentGroup().add(x),Yt(x),x.__legendDataIndex=a,x},e.prototype.layoutInner=function(t,r,a,o,n,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Vt(t.get("orient"),l,t.get("itemGap"),a.width,a.height);var p=l.getBoundingRect(),c=[-p.x,-p.y];if(u.markRedraw(),l.markRedraw(),n){Vt("horizontal",u,t.get("selectorItemGap",!0));var f=u.getBoundingRect(),h=[-f.x,-f.y],d=t.get("selectorButtonGap",!0),v=t.getOrient().index,m=v===0?"width":"height",g=v===0?"height":"width",S=v===0?"y":"x";s==="end"?h[v]+=p[m]+d:c[v]+=f[m]+d,h[1-v]+=p[g]/2-f[g]/2,u.x=h[0],u.y=h[1],l.x=c[0],l.y=c[1];var y={x:0,y:0};return y[m]=p[m]+d+f[m],y[g]=Math.max(p[g],f[g]),y[S]=Math.min(0,f[S]+h[1-v]),y}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}($);function $d(i,e,t,r,a,o,n){function s(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),so(m,function(S,y){m[y]==="inherit"&&(m[y]=g[y])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),p=i.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:os(c,n),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[p]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:t).opacity),s(u,r);var f=e.getModel("lineStyle"),h=f.getLineStyle();if(s(h,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!o){var d=e.get("inactiveBorderWidth"),v=u[p];u.lineWidth=d==="auto"?r.lineWidth>0&&v?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),h.stroke=f.get("inactiveColor"),h.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function Qd(i){var e=i.icon||"roundRect",t=It(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Pp(i,e,t,r){uo(i,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:i??e}),lo(i,e,t,r)}function kp(i){for(var e=i.getZr().storage.getDisplayList(),t,r=0,a=e.length;r<a&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function lo(i,e,t,r){kp(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:r})}function uo(i,e,t,r){kp(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:r})}var Ai=jd;function po(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function gr(i,e,t){var r={},a=i==="toggleSelected",o;return t.eachComponent("legend",function(n){a&&o!=null?n[o?"select":"unSelect"](e.name):i==="allSelect"||i==="inverseSelect"?n[i]():(n[i](e.name),o=n.isSelected(e.name));var s=n.getData();_(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var p=n.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&p:r[u]=p}})}),i==="allSelect"||i==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function Rp(i){i.registerAction("legendToggleSelect","legendselectchanged",U(gr,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",U(gr,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",U(gr,"inverseSelect")),i.registerAction("legendSelect","legendselected",U(gr,"select")),i.registerAction("legendUnSelect","legendunselected",U(gr,"unSelect"))}function Ci(i){i.registerComponentModel(mr),i.registerComponentView(Ai),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,po),i.registerSubTypeDefaulter("legend",function(){return"plain"}),Rp(i)}var Jd=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,a){var o=Oe(t);i.prototype.init.call(this,t,r,a),Op(this,t,o)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),Op(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Ct(mr.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(mr);function Op(i,e,t){var r=i.getOrient(),a=[1,1];a[r.index]=0,Re(e,t,{type:"box",ignoreSize:!!a})}var Ep=Jd;var Vp=et,co=["width","height"],fo=["x","y"],tv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new Vp),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Vp)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,a,o,n,s,l){var u=this;i.prototype.renderInner.call(this,t,r,a,o,n,s,l);var p=this._controllerGroup,c=r.get("pageIconSize",!0),f=D(c)?c:[c,c];d("pagePrev",0);var h=r.getModel("pageTextStyle");p.add(new W({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(v,m){var g=v+"DataIndex",S=ee(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:L(u._pageGo,u,g,r,o)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});S.name=v,p.add(S)}},e.prototype.layoutInner=function(t,r,a,o,n,s){var l=this.getSelectorGroup(),u=t.getOrient().index,p=co[u],c=fo[u],f=co[1-u],h=fo[1-u];n&&Vt("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),v=l.getBoundingRect(),m=[-v.x,-v.y],g=N(a);n&&(g[p]=a[p]-v[p]-d);var S=this._layoutContentAndController(t,o,g,u,p,f,h,c);if(n){if(s==="end")m[u]+=S[p]+d;else{var y=v[p]+d;m[u]-=y,S[c]-=y}S[p]+=v[p]+d,m[1-u]+=S[h]+S[f]/2-v[f]/2,S[f]=Math.max(S[f],v[f]),S[h]=Math.min(S[h],v[h]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return S},e.prototype._layoutContentAndController=function(t,r,a,o,n,s,l,u){var p=this.getContentGroup(),c=this._containerGroup,f=this._controllerGroup;Vt(t.get("orient"),p,t.get("itemGap"),o?a.width:null,o?null:a.height),Vt("horizontal",f,t.get("pageButtonItemGap",!0));var h=p.getBoundingRect(),d=f.getBoundingRect(),v=this._showController=h[n]>a[n],m=[-h.x,-h.y];r||(m[o]=p[u]);var g=[0,0],S=[-d.x,-d.y],y=yt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(v){var b=t.get("pageButtonPosition",!0);b==="end"?S[o]+=a[n]-d[n]:g[o]+=d[n]+y}S[1-o]+=h[s]/2-d[s]/2,p.setPosition(m),c.setPosition(g),f.setPosition(S);var x={x:0,y:0};if(x[n]=v?a[n]:h[n],x[s]=Math.max(h[s],d[s]),x[l]=Math.min(0,d[l]+S[1-o]),c.__rectSize=a[n],v){var T={x:0,y:0};T[n]=Math.max(a[n]-d[n]-y,0),T[s]=x[s],c.setClipPath(new nt({shape:T})),c.__rectSize=T[n]}else f.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var M=this._getPageInfo(t);return M.pageIndex!=null&&Ot(p,{x:M.contentPosition[0],y:M.contentPosition[1]},v?t:null),this._updatePageInfoView(t,M),x},e.prototype._pageGo=function(t,r,a){var o=this._getPageInfo(r)[t];o!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var a=this._controllerGroup;_(["pagePrev","pageNext"],function(p){var c=p+"DataIndex",f=r[c]!=null,h=a.childOfName(p);h&&(h.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=f?"pointer":"default")});var o=a.childOfName("pageText"),n=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;o&&n&&o.setStyle("text",V(n)?n.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):n({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),a=this.getContentGroup(),o=this._containerGroup.__rectSize,n=t.getOrient().index,s=co[n],l=fo[n],u=this._findTargetItemIndex(r),p=a.children(),c=p[u],f=p.length,h=f?1:0,d={contentPosition:[a.x,a.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var v=b(c);d.contentPosition[n]=-v.s;for(var m=u+1,g=v,S=v,y=null;m<=f;++m)y=b(p[m]),(!y&&S.e>g.s+o||y&&!x(y,g.s))&&(S.i>g.i?g=S:g=y,g&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=g.i),++d.pageCount)),S=y;for(var m=u-1,g=v,S=v,y=null;m>=-1;--m)y=b(p[m]),(!y||!x(S,y.s))&&g.i<S.i&&(S=g,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=y;return d;function b(T){if(T){var M=T.getBoundingRect(),C=M[l]+T[l];return{s:C,e:C+M[s],i:T.__legendDataIndex}}}function x(T,M){return T.e>=M&&T.s<=M+o}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,a=this.getContentGroup(),o;return a.eachChild(function(n,s){var l=n.__legendDataIndex;o==null&&l!=null&&(o=s),l===t&&(r=s)}),r??o},e.type="legend.scroll",e}(Ai),Up=tv;function ho(i){i.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(r)})})}function Np(i){R(Ci),i.registerComponentModel(Ep),i.registerComponentView(Up),ho(i)}function vo(i){R(Ci),R(Np)}var ev=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Ct(oe.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(oe),Bp=ev;var mo=X();function Hp(i,e,t){mo(i).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(e.uid);a&&(a.getRange=t)})}function Gp(i,e){for(var t=mo(i).coordSysRecordMap,r=t.keys(),a=0;a<r.length;a++){var o=r[a],n=t.get(o),s=n.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Fp(t,n))}}}function Fp(i,e){if(e){i.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function rv(i,e){var t={model:e,containsPoint:U(av,e),dispatchAction:U(iv,i),dataZoomInfoMap:null,controller:null},r=t.controller=new xs(i.getZr());return _(["pan","zoom","scrollMove"],function(a){r.on(a,function(o){var n=[];t.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,o);!s.model.get("disabled",!0)&&u&&n.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),n.length&&t.dispatchAction(n)})}),t}function iv(i,e){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function av(i,e,t,r){return i.coordinateSystem.containPoint([t,r])}function ov(i){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return i.each(function(o){var n=o.model,s=n.get("disabled",!0)?!1:n.get("zoomLock",!0)?"move":!0;r[t+s]>r[t+e]&&(e=s),a=a&&n.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function Wp(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=mo(t),a=r.coordSysRecordMap||(r.coordSysRecordMap=q());a.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var n=li(o);_(n.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,rv(t,s.model)),p=u.dataZoomInfoMap||(u.dataZoomInfoMap=q());p.set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),a.each(function(o){var n=o.controller,s,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Fp(a,o);return}var p=ov(l);n.enable(p.controlType,p.opt),n.setPointerChecker(o.containsPoint),Ft(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var sv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,a){if(i.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),Hp(a,t,{pan:L(go.pan,this),zoom:L(go.zoom,this),scrollMove:L(go.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Gp(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(He),go={zoom:function(i,e,t,r){var a=this.range,o=a.slice(),n=i.axisModels[0];if(n){var s=yo[e](null,[r.originX,r.originY],n,t,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/r.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var p=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Nt(0,o,[0,100],0,p.minSpan,p.maxSpan),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}},pan:Zp(function(i,e,t,r,a,o){var n=yo[r]([o.oldX,o.oldY],[o.newX,o.newY],e,a,t);return n.signal*(i[1]-i[0])*n.pixel/n.pixelLength}),scrollMove:Zp(function(i,e,t,r,a,o){var n=yo[r]([0,0],[o.scrollDelta,o.scrollDelta],e,a,t);return n.signal*(i[1]-i[0])*o.scrollDelta})};function Zp(i){return function(e,t,r,a){var o=this.range,n=o.slice(),s=e.axisModels[0];if(s){var l=i(n,s,e,t,r,a);if(Nt(l,n,[0,100],"all"),this.range=n,o[0]!==n[0]||o[1]!==n[1])return n}}}var yo={grid:function(i,e,t,r,a){var o=t.axis,n={},s=a.model.coordinateSystem.getRect();return i=i||[0,0],o.dim==="x"?(n.pixel=e[0]-i[0],n.pixelLength=s.width,n.pixelStart=s.x,n.signal=o.inverse?1:-1):(n.pixel=e[1]-i[1],n.pixelLength=s.height,n.pixelStart=s.y,n.signal=o.inverse?-1:1),n},polar:function(i,e,t,r,a){var o=t.axis,n={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(n.pixel=e[0]-i[0],n.pixelLength=l[1]-l[0],n.pixelStart=l[0],n.signal=o.inverse?1:-1):(n.pixel=e[1]-i[1],n.pixelLength=u[1]-u[0],n.pixelStart=u[0],n.signal=o.inverse?-1:1),n},singleAxis:function(i,e,t,r,a){var o=t.axis,n=a.model.coordinateSystem.getRect(),s={};return i=i||[0,0],o.orient==="horizontal"?(s.pixel=e[0]-i[0],s.pixelLength=n.width,s.pixelStart=n.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-i[1],s.pixelLength=n.height,s.pixelStart=n.y,s.signal=o.inverse?-1:1),s}},Yp=sv;function yr(i){xe(i),i.registerComponentModel(Bp),i.registerComponentView(Yp),Wp(i)}var lv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Ct(oe.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(oe),Xp=lv;var xr=nt,Kp=7,uv=1,xo=30,pv=7,Sr="horizontal",qp="vertical",cv=5,fv=["line","bar","candlestick","scatter"],hv={easing:"cubicOut",duration:100,delay:0},dv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=L(this._onBrush,this),this._onBrushEnd=L(this._onBrushEnd,this)},e.prototype.render=function(t,r,a,o){if(i.prototype.render.apply(this,arguments),Ft(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){me(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new et;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,a=t.get("brushSelect"),o=a?pv:0,n=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Sr?{right:s.width-n.x-n.width,top:s.height-xo-Kp-o,width:n.width,height:xo}:{right:Kp,top:n.y,width:xo,height:n.height},u=Oe(t.option);_(["right","top","width","height"],function(c){u[c]==="ph"&&(u[c]=l[c])});var p=dt(u,s);this._location={x:p.x,y:p.y},this._size=[p.width,p.height],this._orient===qp&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,a=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),n=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===Sr&&!n?{scaleY:l?1:-1,scaleX:1}:a===Sr&&n?{scaleY:l?1:-1,scaleX:-1}:a===qp&&!n?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,o=t.get("brushSelect");a.add(new xr({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var n=new xr({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:L(this._onClickPanel,this)}),s=this.api.getZr();o?(n.on("mousedown",this._onBrushStart,this),n.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(n)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,a=this._shadowSize||[],o=t.series,n=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&n.getDimensionInfo(s)?o.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,p=this._shadowPolylinePts;if(n!==this._shadowData||l!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var c=n.getDataExtent(l),f=(c[1]-c[0])*.3;c=[c[0]-f,c[1]+f];var h=[0,r[1]],d=[0,r[0]],v=[[r[0],0],[0,0]],m=[],g=d[1]/(n.count()-1),S=0,y=Math.round(n.count()/r[0]),b;n.each([l],function(w,I){if(y>0&&I%y){S+=g;return}var z=w==null||isNaN(w)||w==="",E=z?0:ft(w,c,h,!0);z&&!b&&I?(v.push([v[v.length-1][0],0]),m.push([m[m.length-1][0],0])):!z&&b&&(v.push([S,0]),m.push([S,0])),v.push([S,E]),m.push([S,E]),S+=g,b=z}),u=this._shadowPolygonPts=v,p=this._shadowPolylinePts=m}this._shadowData=n,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var x=this.dataZoomModel;function T(w){var I=x.getModel(w?"selectedDataBackground":"dataBackground"),z=new et,E=new Xt({shape:{points:u},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),k=new Pr({shape:{points:p},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return z.add(E),z.add(k),z}for(var M=0;M<3;M++){var C=T(M===1);this._displayables.sliderGroup.add(C),this._displayables.dataShadowSegs.push(C)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var a,o=this.ecModel;return t.eachTargetAxis(function(n,s){var l=t.getAxisProxy(n,s).getTargetSeriesModels();_(l,function(u){if(!a&&!(r!==!0&&tt(fv,u.get("type"))<0)){var p=o.getComponent(Pt(n),s).axis,c=vv(n),f,h=u.coordinateSystem;c!=null&&h.getOtherAxis&&(f=h.getOtherAxis(p).inverse),c=u.getData().mapDimension(c),a={thisAxis:p,series:u,thisDim:n,otherDim:c,otherAxisInverse:f}}},this)},this),a}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,a=r.handles=[null,null],o=r.handleLabels=[null,null],n=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,p=l.get("borderRadius")||0,c=l.get("brushSelect"),f=r.filler=new xr({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});n.add(f),n.add(new xr({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:p},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:uv,fill:"rgba(0,0,0,0)"}})),_([0,1],function(y){var b=l.get("handleIcon");!Wn[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var x=It(b,-1,0,2,2,null,!0);x.attr({cursor:jp(this._orient),draggable:!0,drift:L(this._onDragMove,this,y),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1),z2:5});var T=x.getBoundingRect(),M=l.get("handleSize");this._handleHeight=Y(M,this._size[1]),this._handleWidth=T.width/T.height*this._handleHeight,x.setStyle(l.getModel("handleStyle").getItemStyle()),x.style.strokeNoScale=!0,x.rectHover=!0,x.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Yt(x);var C=l.get("handleColor");C!=null&&(x.style.fill=C),n.add(a[y]=x);var w=l.getModel("textStyle");t.add(o[y]=new W({silent:!0,invisible:!0,style:rt(w,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:w.getTextColor(),font:w.getFont()}),z2:10}))},this);var h=f;if(c){var d=Y(l.get("moveHandleSize"),s[1]),v=r.moveHandle=new nt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:d}}),m=d*.8,g=r.moveHandleIcon=It(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);g.silent=!0,g.y=s[1]+d/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var S=Math.min(s[1]/2,Math.max(d,10));h=r.moveZone=new nt({invisible:!0,shape:{y:s[1]-S,height:d+S}}),h.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),n.add(v),n.add(g),n.add(h)}h.attr({draggable:!0,cursor:jp(this._orient),drift:L(this._onDragMove,this,"all"),ondragstart:L(this._showDataInfo,this,!0),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[ft(t[0],[0,100],r,!0),ft(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var a=this.dataZoomModel,o=this._handleEnds,n=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Nt(r,o,n,a.get("zoomLock")?"all":t,s.minSpan!=null?ft(s.minSpan,l,n,!0):null,s.maxSpan!=null?ft(s.maxSpan,l,n,!0):null);var u=this._range,p=this._range=mt([ft(o[0],n,l,!0),ft(o[1],n,l,!0)]);return!u||u[0]!==p[0]||u[1]!==p[1]},e.prototype._updateView=function(t){var r=this._displayables,a=this._handleEnds,o=mt(a.slice()),n=this._size;_([0,1],function(h){var d=r.handles[h],v=this._handleHeight;d.attr({scaleX:v/2,scaleY:v/2,x:a[h]+(h?-1:1),y:n[1]/2-v/2})},this),r.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:n[1]});var s={x:o[0],width:o[1]-o[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,o[0],o[1],n[0]],p=0;p<l.length;p++){var c=l[p],f=c.getClipPath();f||(f=new nt,c.setClipPath(f)),f.setShape({x:u[p],y:0,width:u[p+1]-u[p],height:n[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,a=this._displayables,o=a.handleLabels,n=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,p=this._range,c=t?l.calculateDataWindow({start:p[0],end:p[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var f=mt(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(d){var v=te(a.handles[d].parent,this.group),m=kr(d===0?"right":"left",v),g=this._handleWidth/2+cv,S=bt([f[d]+(d===0?-g:g),this._size[1]/2],v);o[d].setStyle({x:S[0],y:S[1],verticalAlign:n===Sr?"middle":m,align:n===Sr?m:"center",text:s[d]})}},e.prototype._formatLabel=function(t,r){var a=this.dataZoomModel,o=a.get("labelFormatter"),n=a.get("labelPrecision");(n==null||n==="auto")&&(n=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(n,20));return G(o)?o(t,s):V(o)?o.replace("{value}",s):s},e.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,a=r.handleLabels;a[0].attr("invisible",!t),a[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,r,a,o){this._dragging=!0,Kt(o.event);var n=this._displayables.sliderGroup.getLocalTransform(),s=bt([r,a],n,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var o=this._handleEnds,n=(o[0]+o[1])/2,s=this._updateInterval("all",a[0]-n);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,a=t.offsetY;this._brushStart=new Ht(r,a),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(a.width)<5)){var n=this._getViewExtent(),s=[0,100];this._range=mt([ft(a.x,n,s,!0),ft(a.x+a.width,n,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Kt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var a=this._displayables,o=this.dataZoomModel,n=a.brushRect;n||(n=a.brushRect=new xr({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(n)),n.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),p=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),n.setShape({x:p[0],y:0,width:u[0]-p[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?hv:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=li(this.dataZoomModel).infoList;if(!t&&r.length){var a=r[0].model.coordinateSystem;t=a.getRect&&a.getRect()}if(!t){var o=this.api.getWidth(),n=this.api.getHeight();t={x:o*.2,y:n*.2,width:o*.6,height:n*.6}}return t},e.type="dataZoom.slider",e}(He);function vv(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function jp(i){return i==="vertical"?"ns-resize":"ew-resize"}var $p=dv;function _r(i){i.registerComponentModel(Xp),i.registerComponentView($p),xe(i)}function So(i){R(yr),R(_r)}var mv={get:function(i,e,t){var r=N((gv[i]||{})[e]);return t&&D(r)?r[r.length-1]:r}},gv={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Ii=mv;var Qp=ht.mapVisual,yv=ht.eachVisual,xv=D,Jp=_,Sv=mt,_v=ft,bv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a)},e.prototype.optionUpdated=function(t,r){var a=this.option;!r&&di(a,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=L(t,this),this.controllerVisuals=dr(this.option.controller,r,t),this.targetVisuals=dr(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(a,o){r.push(o)}):r=wt(t),r},e.prototype.eachTargetSeries=function(t,r){_(this.getTargetSeriesIndices(),function(a){var o=this.ecModel.getSeriesByIndex(a);o&&t.call(r,o)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(a){a===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,a){var o=this.option,n=o.precision,s=this.dataBound,l=o.formatter,u;a=a||["<",">"],D(t)&&(t=t.slice(),u=!0);var p=r?t:u?[c(t[0]),c(t[1])]:c(t);if(V(l))return l.replace("{value}",u?p[0]:p).replace("{value2}",u?p[1]:p);if(G(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?a[0]+" "+p[1]:t[1]===s[1]?a[1]+" "+p[0]:p[0]+" - "+p[1];return p;function c(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(n,20))}},e.prototype.resetExtent=function(){var t=this.option,r=Sv([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var a=t.dimensions,o=a.length-1;o>=0;o--){var n=a[o],s=t.getDimensionInfo(n);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,a={inRange:r.inRange,outOfRange:r.outOfRange},o=r.target||(r.target={}),n=r.controller||(r.controller={});J(o,a),J(n,a);var s=this.isCategory();l.call(this,o),l.call(this,n),u.call(this,o,"inRange","outOfRange"),p.call(this,n);function l(c){xv(r.color)&&!c.inRange&&(c.inRange={color:r.color.slice().reverse()}),c.inRange=c.inRange||{color:t.get("gradientColor")}}function u(c,f,h){var d=c[f],v=c[h];d&&!v&&(v=c[h]={},Jp(d,function(m,g){if(ht.isValidType(g)){var S=Ii.get(g,"inactive",s);S!=null&&(v[g]=S,g==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function p(c){var f=(c.inRange||{}).symbol||(c.outOfRange||{}).symbol,h=(c.inRange||{}).symbolSize||(c.outOfRange||{}).symbolSize,d=this.get("inactiveColor"),v=this.getItemSymbol(),m=v||"roundRect";Jp(this.stateList,function(g){var S=this.itemSize,y=c[g];y||(y=c[g]={color:s?d:[d]}),y.symbol==null&&(y.symbol=f&&N(f)||(s?m:[m])),y.symbolSize==null&&(y.symbolSize=h&&N(h)||(s?S[0]:[S[0],S[0]])),y.symbol=Qp(y.symbol,function(T){return T==="none"?m:T});var b=y.symbolSize;if(b!=null){var x=-1/0;yv(b,function(T){T>x&&(x=T)}),y.symbolSize=Qp(b,function(T){return _v(T,[0,x],[0,S[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(j),Ye=bv;var tc=[20,140],Tv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=tc[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=tc[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):D(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),_(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=mt((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,a=this.getExtent();return(r[0]<=a[0]||r[0]<=t)&&(r[1]>=a[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(a){var o=[],n=a.getData();n.each(this.getDataDimensionIndex(n),function(s,l){t[0]<=s&&s<=t[1]&&o.push(l)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},e.prototype.getVisualMeta=function(t){var r=ec(this,"outOfRange",this.getExtent()),a=ec(this,"inRange",this.option.range.slice()),o=[];function n(h,d){o.push({value:h,color:t(h,d)})}for(var s=0,l=0,u=a.length,p=r.length;l<p&&(!a.length||r[l]<=a[0]);l++)r[l]<a[s]&&n(r[l],"outOfRange");for(var c=1;s<u;s++,c=0)c&&o.length&&n(a[s],"outOfRange"),n(a[s],"inRange");for(var c=1;l<p;l++)(!a.length||a[a.length-1]<r[l])&&(c&&(o.length&&n(o[o.length-1].value,"outOfRange"),c=0),n(r[l],"outOfRange"));var f=o.length;return{stops:o,outerColors:[f?o[0].color:"transparent",f?o[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Ct(Ye.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(Ye);function ec(i,e,t){if(t[0]===t[1])return t.slice();for(var r=200,a=(t[1]-t[0])/r,o=t[0],n=[],s=0;s<=r&&o<t[1];s++)n.push(o),o+=a;return n.push(t[1]),n}var rc=Tv;var Mv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,a,o){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,a,o)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,a=re(r.get("padding")||0),o=t.getBoundingRect();t.add(new nt({z2:-1,silent:!0,shape:{x:o.x-a[3],y:o.y-a[0],width:o.width+a[3]+a[1],height:o.height+a[0]+a[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,a){a=a||{};var o=a.forceState,n=this.visualMapModel,s={};if(r==="color"){var l=n.get("contentColor");s.color=l}function u(h){return s[h]}function p(h,d){s[h]=d}var c=n.controllerVisuals[o||n.getValueState(t)],f=ht.prepareVisualTypes(c);return _(f,function(h){var d=c[h];a.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",d=c.__alphaForOpacity),ht.dependsOn(h,r)&&d&&d.applyVisual(t,u,p)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,a=this.api;ke(t,r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},e.prototype.doRender=function(t,r,a,o){},e.type="visualMap",e}($),Di=Mv;var ic=[["left","right","width"],["top","bottom","height"]];function zi(i,e,t){var r=i.option,a=r.align;if(a!=null&&a!=="auto")return a;for(var o={width:e.getWidth(),height:e.getHeight()},n=r.orient==="horizontal"?1:0,s=ic[n],l=[0,null,10],u={},p=0;p<3;p++)u[ic[1-n][p]]=l[p],u[s[p]]=p===2?t[0]:r[s[p]];var c=[["x","width",3],["y","height",0]][n],f=dt(u,o,r.padding);return s[(f.margin[c[2]]||0)+f[c[0]]+f[c[1]]*.5<o[c[1]]*.5?0:1]}function Xe(i,e){return _(i||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),i}var Wt=ft,wv=_,oc=Math.min,_o=Math.max,Av=12,Cv=6,Iv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,r){i.prototype.init.call(this,t,r),this._hoverLinkFromSeriesMouseOver=L(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=L(this._hideIndicator,this)},e.prototype.doRender=function(t,r,a,o){(!o||o.type!=="selectDataRange"||o.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var a=t.get("text");this._renderEndsText(r,a,0),this._renderEndsText(r,a,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,a){if(r){var o=r[1-a];o=o!=null?o+"":"";var n=this.visualMapModel,s=n.get("textGap"),l=n.itemSize,u=this._shapes.mainGroup,p=this._applyTransform([l[0]/2,a===0?-s:l[1]+s],u),c=this._applyTransform(a===0?"bottom":"top",u),f=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new W({style:rt(h,{x:p[0],y:p[1],verticalAlign:f==="horizontal"?"middle":c,align:f==="horizontal"?c:"center",text:o})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,a=this._shapes,o=r.itemSize,n=this._orient,s=this._useHandle,l=zi(r,this.api,o),u=a.mainGroup=this._createBarGroup(l),p=new et;u.add(p),p.add(a.outOfRange=nc()),p.add(a.inRange=nc(null,s?lc(this._orient):null,L(this._dragHandle,this,"all",!1),L(this._dragHandle,this,"all",!0))),p.setClipPath(new nt({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var c=r.textStyleModel.getTextRect("\u56FD"),f=_o(c.width,c.height);s&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(r,u,0,o,f,n),this._createHandle(r,u,1,o,f,n)),this._createIndicator(r,u,o,f,n),t.add(u)},e.prototype._createHandle=function(t,r,a,o,n,s){var l=L(this._dragHandle,this,a,!1),u=L(this._dragHandle,this,a,!0),p=Je(t.get("handleSize"),o[0]),c=It(t.get("handleIcon"),-p/2,-p/2,p,p,null,!0),f=lc(this._orient);c.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(g){Kt(g.event)}}),c.x=o[0]/2,c.useStyle(t.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),mn(c,!0),r.add(c);var h=this.visualMapModel.textStyleModel,d=new W({cursor:f,draggable:!0,drift:l,onmousemove:function(g){Kt(g.event)},ondragend:u,style:rt(h,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var v=[p,0],m=this._shapes;m.handleThumbs[a]=c,m.handleLabelPoints[a]=v,m.handleLabels[a]=d},e.prototype._createIndicator=function(t,r,a,o,n){var s=Je(t.get("indicatorSize"),a[0]),l=It(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof zr){var p=l.style;l.useStyle(B({image:p.image,x:p.x,y:p.y,width:p.width,height:p.height},u))}else l.useStyle(u);r.add(l);var c=this.visualMapModel.textStyleModel,f=new W({silent:!0,invisible:!0,style:rt(c,{x:0,y:0,text:""})});this.group.add(f);var h=[(n==="horizontal"?o/2:Cv)+a[0]/2,0],d=this._shapes;d.indicator=l,d.indicatorLabel=f,d.indicatorLabelPoint=h,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,a,o){if(this._useHandle){if(this._dragging=!r,!r){var n=this._applyTransform([a,o],this._shapes.mainGroup,!0);this._updateInterval(t,n[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():sc(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),a=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[Wt(r[0],a,o,!0),Wt(r[1],a,o,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var a=this.visualMapModel,o=this._handleEnds,n=[0,a.itemSize[1]];Nt(r,o,n,t,0);var s=a.getExtent();this._dataInterval=[Wt(o[0],n,s,!0),Wt(o[1],n,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,a=r.getExtent(),o=this._shapes,n=[0,r.itemSize[1]],s=t?n:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,s,"inRange"),u=this._createBarVisual(a,a,n,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,a,o){var n={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,n),l=[this.getControllerVisual(t[0],"symbolSize",n),this.getControllerVisual(t[1],"symbolSize",n)],u=this._createBarPoints(a,l);return{barColor:new xn(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var a=100,o=[],n=(t[1]-t[0])/a;o.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<a;s++){var l=t[0]+n*s;if(l>t[1])break;o.push({color:this.getControllerVisual(l,"color",r),offset:s/a})}return o.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),o},e.prototype._createBarPoints=function(t,r){var a=this.visualMapModel.itemSize;return[[a[0]-r[0],t[0]],[a[0],t[0]],[a[0],t[1]],[a[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,a=this.visualMapModel.get("inverse");return new et(r==="horizontal"&&!a?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&a?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!a?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var a=this._shapes,o=this.visualMapModel,n=a.handleThumbs,s=a.handleLabels,l=o.itemSize,u=o.getExtent();wv([0,1],function(p){var c=n[p];c.setStyle("fill",r.handlesColor[p]),c.y=t[p];var f=Wt(t[p],[0,l[1]],u,!0),h=this.getControllerVisual(f,"symbolSize");c.scaleX=c.scaleY=h/l[0],c.x=l[0]-h/2;var d=bt(a.handleLabelPoints[p],te(c,this.group));s[p].setStyle({x:d[0],y:d[1],text:o.formatValueText(this._dataInterval[p]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,a,o){var n=this.visualMapModel,s=n.getExtent(),l=n.itemSize,u=[0,l[1]],p=this._shapes,c=p.indicator;if(c){c.attr("invisible",!1);var f={convertOpacityToAlpha:!0},h=this.getControllerVisual(t,"color",f),d=this.getControllerVisual(t,"symbolSize"),v=Wt(t,s,u,!0),m=l[0]-d/2,g={x:c.x,y:c.y};c.y=v,c.x=m;var S=bt(p.indicatorLabelPoint,te(c,this.group)),y=p.indicatorLabel;y.attr("invisible",!1);var b=this._applyTransform("left",p.mainGroup),x=this._orient,T=x==="horizontal";y.setStyle({text:(a||"")+n.formatValueText(r),verticalAlign:T?b:"middle",align:T?"center":b});var M={x:m,y:v,style:{fill:h}},C={style:{x:S[0],y:S[1]}};if(n.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};c.x=g.x,c.y=g.y,c.animateTo(M,w),y.animateTo(C,w)}else c.attr(M),y.attr(C);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var z=0;z<I.length;z++)this.api.enterBlur(I[z])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var a=t.visualMapModel.itemSize,o=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);o[1]=oc(_o(0,o[1]),a[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=a[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var a=this.visualMapModel,o=a.itemSize;if(a.option.hoverLink){var n=[0,o[1]],s=a.getExtent();t=oc(_o(n[0],t),n[1]);var l=Dv(a,s,n),u=[t-l,t+l],p=Wt(t,n,s,!0),c=[Wt(u[0],n,s,!0),Wt(u[1],n,s,!0)];u[0]<n[0]&&(c[0]=-1/0),u[1]>n[1]&&(c[1]=1/0),r&&(c[0]===-1/0?this._showIndicator(p,c[1],"< ",l):c[1]===1/0?this._showIndicator(p,c[0],"> ",l):this._showIndicator(p,p,"\u2248 ",l));var f=this._hoverLinkDataIndices,h=[];(r||sc(a))&&(h=this._hoverLinkDataIndices=a.findTargetDataIndices(c));var d=nn(f,h);this._dispatchHighDown("downplay",Xe(d[0],a)),this._dispatchHighDown("highlight",Xe(d[1],a))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(Gr(t.target,function(l){var u=Z(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var a=this.ecModel.getSeriesByIndex(r.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(a)){var n=a.getData(r.dataType),s=n.getStore().get(o.getDataDimensionIndex(n),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var a=0;a<r.length;a++)this.api.leaveBlur(r[a])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Xe(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,a,o){var n=te(r,o?null:this.group);return D(t)?bt(t,n,a):kr(t,n,a)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Di);function nc(i,e,t,r){return new Xt({shape:{points:i},draggable:!!t,cursor:e,drift:t,onmousemove:function(a){Kt(a.event)},ondragend:r})}function Dv(i,e,t){var r=Av/2,a=i.get("hoverLinkDataSize");return a&&(r=Wt(a,e,t,!0)/2),r}function sc(i){var e=i.get("hoverLinkOnHandle");return!!(e??i.get("realtime"))}function lc(i){return i==="vertical"?"ns-resize":"ew-resize"}var uc=Iv;var pc={type:"selectDataRange",event:"dataRangeSelected",update:"update"},cc=function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(t){t.setSelected(i.selected)})};var fc=[{createOnAllSeries:!0,reset:function(i,e){var t=[];return e.eachComponent("visualMap",function(r){var a=i.pipelineContext;!r.isTargetSeries(i)||a&&a.large||t.push(Qu(r.stateList,r.targetVisuals,L(r.getValueState,r),r.getDataDimensionIndex(i.getData())))}),t}},{createOnAllSeries:!0,reset:function(i,e){var t=i.getData(),r=[];e.eachComponent("visualMap",function(a){if(a.isTargetSeries(i)){var o=a.getVisualMeta(L(zv,null,i,a))||{stops:[],outerColors:[]},n=a.getDataDimensionIndex(t);n>=0&&(o.dimension=n,r.push(o))}}),i.getData().setVisual("visualMeta",r)}}];function zv(i,e,t,r){for(var a=e.targetVisuals[r],o=ht.prepareVisualTypes(a),n={color:ae(i.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],p=a[u==="opacity"?"__alphaForOpacity":u];p&&p.applyVisual(t,c,f)}return n.color;function c(h){return n[h]}function f(h,d){n[h]=d}}var hc=_;function bo(i){var e=i&&i.visualMap;D(e)||(e=e?[e]:[]),hc(e,function(t){if(t){Ke(t,"splitList")&&!Ke(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&D(r)&&hc(r,function(a){ot(a)&&(Ke(a,"start")&&!Ke(a,"min")&&(a.min=a.start),Ke(a,"end")&&!Ke(a,"max")&&(a.max=a.end))})}})}function Ke(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}var dc=!1;function br(i){dc||(dc=!0,i.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),i.registerAction(pc,cc),_(fc,function(e){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,e)}),i.registerPreprocessor(bo))}function Tr(i){i.registerComponentModel(rc),i.registerComponentView(uc),br(i)}var Lv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],Pv[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var o=this.option.categories;this.resetVisual(function(n,s){a==="categories"?(n.mappingMethod="category",n.categories=N(o)):(n.dataExtent=this.getExtent(),n.mappingMethod="piecewise",n.pieceList=P(this._pieceList,function(l){return l=N(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},a=ht.listVisualTypes(),o=this.isCategory();_(t.pieces,function(s){_(a,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),_(r,function(s,l){var u=!1;_(this.stateList,function(p){u=u||n(t,p,l)||n(t.target,p,l)},this),!u&&_(this.stateList,function(p){(t[p]||(t[p]={}))[l]=Ii.get(l,p==="inRange"?"active":"inactive",o)})},this);function n(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var a=this.option,o=this._pieceList,n=(r?a:t).selected||{};if(a.selected=n,_(o,function(l,u){var p=this.getSelectedMapKey(l);n.hasOwnProperty(p)||(n[p]=!0)},this),a.selectedMode==="single"){var s=!1;_(o,function(l,u){var p=this.getSelectedMapKey(l);n[p]&&(s?n[p]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=N(t)},e.prototype.getValueState=function(t){var r=ht.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],a=this._pieceList;return this.eachTargetSeries(function(o){var n=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var p=ht.findPieceIndex(l,a);p===t&&n.push(u)},this),r.push({seriesId:o.id,dataIndex:n})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var a=t.interval||[];r=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],a=["",""],o=this;function n(p,c){var f=o.getRepresentValue({interval:p});c||(c=o.getValueState(f));var h=t(f,c);p[0]===-1/0?a[0]=h:p[1]===1/0?a[1]=h:r.push({value:p[0],color:h},{value:p[1],color:h})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return _(s,function(p){var c=p.interval;c&&(c[0]>u&&n([u,c[0]],"outOfRange"),n(c.slice()),u=c[1])},this),{stops:r,outerColors:a}},e.type="visualMap.piecewise",e.defaultOption=Ct(Ye.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(Ye),Pv={splitNumber:function(i){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var o=(r[1]-r[0])/a;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&i.push({interval:[-1/0,r[0]],close:[0,0]});for(var n=0,s=r[0];n<a;s+=o,n++){var l=n===a-1?r[1]:s+o;i.push({interval:[s,l],close:[1,1]})}e.maxOpen&&i.push({interval:[r[1],1/0],close:[0,0]}),Bi(i),_(i,function(u,p){u.index=p,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var e=this.option;_(e.categories,function(t){i.push({text:this.formatValueText(t,!0),value:t})},this),vc(e,i)},pieces:function(i){var e=this.option;_(e.pieces,function(t,r){ot(t)||(t={value:t});var a={text:"",index:r};if(t.label!=null&&(a.text=t.label),t.hasOwnProperty("value")){var o=a.value=t.value;a.interval=[o,o],a.close=[1,1]}else{for(var n=a.interval=[],s=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],p=[],c=0;c<2;c++){for(var f=[["gte","gt","min"],["lte","lt","max"]][c],h=0;h<3&&n[c]==null;h++)n[c]=t[f[h]],s[c]=l[h],p[c]=h===2;n[c]==null&&(n[c]=u[c])}p[0]&&n[1]===1/0&&(s[0]=0),p[1]&&n[0]===-1/0&&(s[1]=0),n[0]===n[1]&&s[0]&&s[1]&&(a.value=n[0])}a.visual=ht.retrieveVisuals(t),i.push(a)},this),vc(e,i),Bi(i),_(i,function(t){var r=t.close,a=[["<","\u2264"][r[1]],[">","\u2265"][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,a)},this)}};function vc(i,e){var t=i.inverse;(i.orient==="vertical"?!t:t)&&e.reverse()}var mc=Lv;var kv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,a=r.get("textGap"),o=r.textStyleModel,n=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=r.itemSize,p=this._getViewData(),c=p.endsText,f=Mt(r.get("showLabel",!0),!c);c&&this._renderEndsText(t,c[0],u,f,l),_(p.viewPieceList,function(h){var d=h.piece,v=new et;v.onclick=L(this._onItemClick,this,d),this._enableHoverLink(v,h.indexInModelPieceList);var m=r.getRepresentValue(d);if(this._createItemSymbol(v,m,[0,0,u[0],u[1]]),f){var g=this.visualMapModel.getValueState(m);v.add(new W({style:{x:l==="right"?-a:u[0]+a,y:u[1]/2,text:d.text,verticalAlign:"middle",align:l,font:n,fill:s,opacity:g==="outOfRange"?.5:1}}))}t.add(v)},this),c&&this._renderEndsText(t,c[1],u,f,l),Vt(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var a=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(n){var s=a.visualMapModel;s.option.hoverLink&&a.api.dispatchAction({type:n,batch:Xe(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return zi(t,this.api,t.itemSize);var a=r.align;return(!a||a==="auto")&&(a="left"),a},e.prototype._renderEndsText=function(t,r,a,o,n){if(r){var s=new et,l=this.visualMapModel.textStyleModel;s.add(new W({style:rt(l,{x:o?n==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:o?n:"center",text:r})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=P(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),a=t.get("text"),o=t.get("orient"),n=t.get("inverse");return(o==="horizontal"?n:!n)?r.reverse():a&&(a=a.slice().reverse()),{viewPieceList:r,endsText:a}},e.prototype._createItemSymbol=function(t,r,a){t.add(It(this.getControllerVisual(r,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(t){var r=this.visualMapModel,a=r.option,o=a.selectedMode;if(o){var n=N(a.selected),s=r.getSelectedMapKey(t);o==="single"||o===!0?(n[s]=!0,_(n,function(l,u){n[u]=u===s})):n[s]=!n[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}},e.type="visualMap.piecewise",e}(Di),gc=kv;function Mr(i){i.registerComponentModel(mc),i.registerComponentView(gc),br(i)}function To(i){R(Tr),R(Mr)}var Rv={label:{enabled:!0},decal:{show:!1}},yc=X(),Ov={};function Mo(i,e){var t=i.getModel("aria");if(!t.get("enabled"))return;var r=N(Rv);J(r.label,i.getLocaleModel().get("aria"),!1),J(t.option,r,!1),a(),o();function a(){var u=t.getModel("decal"),p=u.get("show");if(p){var c=q();i.eachSeries(function(f){if(!f.isColorBySeries()){var h=c.get(f.type);h||(h={},c.set(f.type,h)),yc(f).scope=h}}),i.eachRawSeries(function(f){if(i.isSeriesFiltered(f))return;if(G(f.enableAriaDecal)){f.enableAriaDecal();return}var h=f.getData();if(f.isColorBySeries()){var S=Zi(f.ecModel,f.name,Ov,i.getSeriesCount()),y=h.getVisual("decal");h.setVisual("decal",b(y,S))}else{var d=f.getRawData(),v={},m=yc(f).scope;h.each(function(x){var T=h.getRawIndex(x);v[T]=x});var g=d.count();d.each(function(x){var T=v[x],M=d.getName(x)||x+"",C=Zi(f.ecModel,M,m,g),w=h.getItemVisual(T,"decal");h.setItemVisual(T,"decal",b(w,C))})}function b(x,T){var M=x?B(B({},T),x):T;return M.dirty=!0,M}})}}function o(){var u=e.getZr().dom;if(u){var p=i.getLocaleModel().get("aria"),c=t.getModel("label");if(c.option=F(c.option,p),!!c.get("enabled")){if(c.get("description")){u.setAttribute("aria-label",c.get("description"));return}var f=i.getSeriesCount(),h=c.get(["data","maxCount"])||10,d=c.get(["series","maxCount"])||10,v=Math.min(f,d),m;if(!(f<1)){var g=s();if(g){var S=c.get(["general","withTitle"]);m=n(S,{title:g})}else m=c.get(["general","withoutTitle"]);var y=[],b=f>1?c.get(["series","multiple","prefix"]):c.get(["series","single","prefix"]);m+=n(b,{seriesCount:f}),i.eachSeries(function(C,w){if(w<v){var I=void 0,z=C.get("name"),E=z?"withName":"withoutName";I=f>1?c.get(["series","multiple",E]):c.get(["series","single",E]),I=n(I,{seriesId:C.seriesIndex,seriesName:C.get("name"),seriesType:l(C.subType)});var k=C.getData();if(k.count()>h){var H=c.get(["data","partialData"]);I+=n(H,{displayCnt:h})}else I+=c.get(["data","allData"]);for(var K=c.get(["data","separator","middle"]),Q=c.get(["data","separator","end"]),ct=[],it=0;it<k.count();it++)if(it<h){var lt=k.getName(it),gt=k.getValues(it),kt=c.get(["data",lt?"withName":"withoutName"]);ct.push(n(kt,{name:lt,value:gt.join(K)}))}I+=ct.join(K)+Q,y.push(I)}});var x=c.getModel(["series","multiple","separator"]),T=x.get("middle"),M=x.get("end");m+=y.join(T)+M,u.setAttribute("aria-label",m)}}}}function n(u,p){if(!V(u))return u;var c=u;return _(p,function(f,h){c=c.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),f)}),c}function s(){var u=i.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var p=i.getLocaleModel().get(["series","typeNames"]);return p[u]||p.chart}}function wo(i){if(!(!i||!i.aria)){var e=i.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},_(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function Ao(i){i.registerPreprocessor(wo),i.registerVisual(i.PRIORITY.VISUAL.ARIA,Mo)}var xc={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Ev=function(){function i(e){var t=this._condVal=V(e)?new RegExp(e):Fo(e)?e:null;if(t==null){var r="";at(r)}}return i.prototype.evaluate=function(e){var t=typeof e;return V(t)?this._condVal.test(e):Te(t)?this._condVal.test(e+""):!1},i}(),Vv=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),Uv=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},i}(),Nv=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},i}(),Bv=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),Hv=function(){function i(){}return i.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),a=e?this.valueParser(r):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?a:r))return!1;return!0},i}();function Co(i,e){if(i===!0||i===!1){var t=new Vv;return t.value=i,t}var r="";return _c(i)||at(r),i.and?Sc("and",i,e):i.or?Sc("or",i,e):i.not?Gv(i,e):Fv(i,e)}function Sc(i,e,t){var r=e[i],a="";D(r)||at(a),r.length||at(a);var o=i==="and"?new Uv:new Nv;return o.children=P(r,function(n){return Co(n,t)}),o.children.length||at(a),o}function Gv(i,e){var t=i.not,r="";_c(t)||at(r);var a=new Bv;return a.child=Co(t,e),a.child||at(r),a}function Fv(i,e){for(var t="",r=e.prepareGetValue(i),a=[],o=be(i),n=i.parser,s=n?Er(n):null,l=0;l<o.length;l++){var u=o[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var p=Qt(xc,u)?xc[u]:u,c=i[u],f=s?s(c):c,h=Pn(p,f)||p==="reg"&&new Ev(f);h||at(t),a.push(h)}}a.length||at(t);var d=new Hv;return d.valueGetterParam=r,d.valueParser=s,d.getValue=e.getValue,d.subCondList=a,d}function _c(i){return ot(i)&&!Go(i)}var Wv=function(){function i(e,t){this._cond=Co(e,t)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}();function bc(i,e){return new Wv(i,e)}var Tc={type:"echarts:filter",transform:function(i){for(var e=i.upstream,t,r=bc(i.config,{valueGetterAttrMap:q({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Qt(s,"dimension")||at(l);var p=e.getDimensionInfo(u);return p||at(l),{dimIdx:p.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),a=[],o=0,n=e.count();o<n;o++)t=e.getRawDataItem(o),r.evaluate()&&a.push(t);return{data:a}}};var Mc={type:"echarts:sort",transform:function(i){var e=i.upstream,t=i.config,r="",a=wt(t);a.length||at(r);var o=[];_(a,function(p){var c=p.dimension,f=p.order,h=p.parser,d=p.incomparable;if(c==null&&at(r),f!=="asc"&&f!=="desc"&&at(r),d&&d!=="min"&&d!=="max"){var v="";at(v)}if(f!=="asc"&&f!=="desc"){var m="";at(m)}var g=e.getDimensionInfo(c);g||at(r);var S=h?Er(h):null;h&&!S&&at(r),o.push({dimIdx:g.index,parser:S,comparator:new Ln(f,d)})});var n=e.sourceFormat;n!==In&&n!==Dn&&at(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(p,c){for(var f=0;f<o.length;f++){var h=o[f],d=e.retrieveValueFromItem(p,h.dimIdx),v=e.retrieveValueFromItem(c,h.dimIdx);h.parser&&(d=h.parser(d),v=h.parser(v));var m=h.comparator.evaluate(d,v);if(m!==0)return m}return 0}),{data:s}}};function Io(i){i.registerTransform(Tc),i.registerTransform(Mc)}var Zv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,a){i.prototype.init.call(this,t,r,a),this._sourceManager=new Fn(this),Xi(this)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),Xi(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:zn},e}(j);var Yv=function(i){A(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}($);function Do(i){i.registerComponentModel(Zv),i.registerComponentView(Yv)}var Zt=Ko.CMD;function qe(i,e){return Math.abs(i-e)<1e-5}function Li(i){var e=i.data,t=i.len(),r=[],a,o=0,n=0,s=0,l=0;function u(k,H){a&&a.length>2&&r.push(a),a=[k,H]}function p(k,H,K,Q){qe(k,K)&&qe(H,Q)||a.push(k,H,K,Q,K,Q)}function c(k,H,K,Q,ct,it){var lt=Math.abs(H-k),gt=Math.tan(lt/4)*4/3,kt=H<k?-1:1,fe=Math.cos(k),Cr=Math.sin(k),Oo=Math.cos(H),Eo=Math.sin(H),jc=fe*ct+K,$c=Cr*it+Q,Vo=Oo*ct+K,Uo=Eo*it+Q,No=ct*gt*kt,Bo=it*gt*kt;a.push(jc-No*Cr,$c+Bo*fe,Vo+No*Eo,Uo-Bo*Oo,Vo,Uo)}for(var f,h,d,v,m=0;m<t;){var g=e[m++],S=m===1;switch(S&&(o=e[m],n=e[m+1],s=o,l=n,(g===Zt.L||g===Zt.C||g===Zt.Q)&&(a=[s,l])),g){case Zt.M:o=s=e[m++],n=l=e[m++],u(s,l);break;case Zt.L:f=e[m++],h=e[m++],p(o,n,f,h),o=f,n=h;break;case Zt.C:a.push(e[m++],e[m++],e[m++],e[m++],o=e[m++],n=e[m++]);break;case Zt.Q:f=e[m++],h=e[m++],d=e[m++],v=e[m++],a.push(o+2/3*(f-o),n+2/3*(h-n),d+2/3*(f-d),v+2/3*(h-v),d,v),o=d,n=v;break;case Zt.A:var y=e[m++],b=e[m++],x=e[m++],T=e[m++],M=e[m++],C=e[m++]+M;m+=1;var w=!e[m++];f=Math.cos(M)*x+y,h=Math.sin(M)*T+b,S?(s=f,l=h,u(s,l)):p(o,n,f,h),o=Math.cos(C)*x+y,n=Math.sin(C)*T+b;for(var I=(w?-1:1)*Math.PI/2,z=M;w?z>C:z<C;z+=I){var E=w?Math.max(z+I,C):Math.min(z+I,C);c(z,E,y,b,x,T)}break;case Zt.R:s=o=e[m++],l=n=e[m++],f=s+e[m++],h=l+e[m++],u(f,l),p(f,l,f,h),p(f,h,s,h),p(s,h,s,l),p(s,l,f,l);break;case Zt.Z:a&&p(o,n,s,l),o=s,n=l;break}}return a&&a.length>2&&r.push(a),r}function zo(i,e,t,r,a,o,n,s,l,u){if(qe(i,t)&&qe(e,r)&&qe(a,n)&&qe(o,s)){l.push(n,s);return}var p=2/u,c=p*p,f=n-i,h=s-e,d=Math.sqrt(f*f+h*h);f/=d,h/=d;var v=t-i,m=r-e,g=a-n,S=o-s,y=v*v+m*m,b=g*g+S*S;if(y<c&&b<c){l.push(n,s);return}var x=f*v+h*m,T=-f*g-h*S,M=y-x*x,C=b-T*T;if(M<c&&x>=0&&C<c&&T>=0){l.push(n,s);return}var w=[],I=[];Ie(i,t,a,n,.5,w),Ie(e,r,o,s,.5,I),zo(w[0],I[0],w[1],I[1],w[2],I[2],w[3],I[3],l,u),zo(w[4],I[4],w[5],I[5],w[6],I[6],w[7],I[7],l,u)}function wc(i,e){var t=Li(i),r=[];e=e||1;for(var a=0;a<t.length;a++){var o=t[a],n=[],s=o[0],l=o[1];n.push(s,l);for(var u=2;u<o.length;){var p=o[u++],c=o[u++],f=o[u++],h=o[u++],d=o[u++],v=o[u++];zo(s,l,p,c,f,h,d,v,n,e),s=d,l=v}r.push(n)}return r}function Dc(i,e,t){var r=i[e],a=i[1-e],o=Math.abs(r/a),n=Math.ceil(Math.sqrt(o*t)),s=Math.floor(t/n);s===0&&(s=1,n=t);for(var l=[],u=0;u<n;u++)l.push(s);var p=n*s,c=t-p;if(c>0)for(var u=0;u<c;u++)l[u%n]+=1;return l}function Ac(i,e,t){for(var r=i.r0,a=i.r,o=i.startAngle,n=i.endAngle,s=Math.abs(n-o),l=s*a,u=a-r,p=l>Math.abs(u),c=Dc([l,u],p?0:1,e),f=(p?s:u)/c.length,h=0;h<c.length;h++)for(var d=(p?u:s)/c[h],v=0;v<c[h];v++){var m={};p?(m.startAngle=o+f*h,m.endAngle=o+f*(h+1),m.r0=r+d*v,m.r=r+d*(v+1)):(m.startAngle=o+d*v,m.endAngle=o+d*(v+1),m.r0=r+f*h,m.r=r+f*(h+1)),m.clockwise=i.clockwise,m.cx=i.cx,m.cy=i.cy,t.push(m)}}function Xv(i,e,t){for(var r=i.width,a=i.height,o=r>a,n=Dc([r,a],o?0:1,e),s=o?"width":"height",l=o?"height":"width",u=o?"x":"y",p=o?"y":"x",c=i[s]/n.length,f=0;f<n.length;f++)for(var h=i[l]/n[f],d=0;d<n[f];d++){var v={};v[u]=f*c,v[p]=d*h,v[s]=c,v[l]=h,v.x+=i.x,v.y+=i.y,t.push(v)}}function Cc(i,e,t,r){return i*r-t*e}function Kv(i,e,t,r,a,o,n,s){var l=t-i,u=r-e,p=n-a,c=s-o,f=Cc(p,c,l,u);if(Math.abs(f)<1e-6)return null;var h=i-a,d=e-o,v=Cc(h,d,p,c)/f;return v<0||v>1?null:new Ht(v*l+i,v*u+e)}function qv(i,e,t){var r=new Ht;Ht.sub(r,t,e),r.normalize();var a=new Ht;Ht.sub(a,i,e);var o=a.dot(r);return o}function je(i,e){var t=i[i.length-1];t&&t[0]===e[0]&&t[1]===e[1]||i.push(e)}function jv(i,e,t){for(var r=i.length,a=[],o=0;o<r;o++){var n=i[o],s=i[(o+1)%r],l=Kv(n[0],n[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&a.push({projPt:qv(l,e,t),pt:l,idx:o})}if(a.length<2)return[{points:i},{points:i}];a.sort(function(m,g){return m.projPt-g.projPt});var u=a[0],p=a[a.length-1];if(p.idx<u.idx){var c=u;u=p,p=c}for(var f=[u.pt.x,u.pt.y],h=[p.pt.x,p.pt.y],d=[f],v=[h],o=u.idx+1;o<=p.idx;o++)je(d,i[o].slice());je(d,h),je(d,f);for(var o=p.idx+1;o<=u.idx+r;o++)je(v,i[o%r].slice());return je(v,f),je(v,h),[{points:d},{points:v}]}function Ic(i){var e=i.points,t=[],r=[];Ni(e,t,r);var a=new Rt(t[0],t[1],r[0]-t[0],r[1]-t[1]),o=a.width,n=a.height,s=a.x,l=a.y,u=new Ht,p=new Ht;return o>n?(u.x=p.x=s+o/2,u.y=l,p.y=l+n):(u.y=p.y=l+n/2,u.x=s,p.x=s+o),jv(e,u,p)}function Pi(i,e,t,r){if(t===1)r.push(e);else{var a=Math.floor(t/2),o=i(e);Pi(i,o[0],a,r),Pi(i,o[1],t-a,r)}return r}function $v(i,e){for(var t=[],r=0;r<e;r++)t.push(De(i));return t}function Qv(i,e){e.setStyle(i.style),e.z=i.z,e.z2=i.z2,e.zlevel=i.zlevel}function Jv(i){for(var e=[],t=0;t<i.length;)e.push([i[t++],i[t++]]);return e}function zc(i,e){var t=[],r=i.shape,a;switch(i.type){case"rect":Xv(r,e,t),a=nt;break;case"sector":Ac(r,e,t),a=ve;break;case"circle":Ac({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),a=ve;break;default:var o=i.getComputedTransform(),n=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=P(wc(i.getUpdatedPathProxy(),n),function(g){return Jv(g)}),l=s.length;if(l===0)Pi(Ic,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var p=0,c=P(s,function(g){var S=[],y=[];Ni(g,S,y);var b=(y[1]-S[1])*(y[0]-S[0]);return p+=b,{poly:g,area:b}});c.sort(function(g,S){return S.area-g.area});for(var f=e,u=0;u<l;u++){var h=c[u];if(f<=0)break;var d=u===l-1?f:Math.ceil(h.area/p*e);d<0||(Pi(Ic,{points:h.poly},d,t),f-=d)}}a=Xt;break}if(!a)return $v(i,e);for(var v=[],u=0;u<t.length;u++){var m=new a;m.setShape(t[u]),Qv(i,m),v.push(m)}return v}function tm(i,e){var t=i.length,r=e.length;if(t===r)return[i,e];for(var a=[],o=[],n=t<r?i:e,s=Math.min(t,r),l=Math.abs(r-t)/6,u=(s-2)/6,p=Math.ceil(l/u)+1,c=[n[0],n[1]],f=l,h=2;h<s;){var d=n[h-2],v=n[h-1],m=n[h++],g=n[h++],S=n[h++],y=n[h++],b=n[h++],x=n[h++];if(f<=0){c.push(m,g,S,y,b,x);continue}for(var T=Math.min(f,p-1)+1,M=1;M<=T;M++){var C=M/T;Ie(d,m,S,b,C,a),Ie(v,g,y,x,C,o),d=a[3],v=o[3],c.push(a[1],o[1],a[2],o[2],d,v),m=a[5],g=o[5],S=a[6],y=o[6]}f-=T-1}return n===i?[c,e]:[i,c]}function Lc(i,e){for(var t=i.length,r=i[t-2],a=i[t-1],o=[],n=0;n<e.length;)o[n++]=r,o[n++]=a;return o}function em(i,e){for(var t,r,a,o=[],n=[],s=0;s<Math.max(i.length,e.length);s++){var l=i[s],u=e[s],p=void 0,c=void 0;l?u?(t=tm(l,u),p=t[0],c=t[1],r=p,a=c):(c=Lc(a||l,l),p=l):(p=Lc(r||u,u),c=u),o.push(p),n.push(c)}return[o,n]}function Pc(i){for(var e=0,t=0,r=0,a=i.length,o=0,n=a-2;o<a;n=o,o+=2){var s=i[n],l=i[n+1],u=i[o],p=i[o+1],c=s*p-u*l;e+=c,t+=(s+u)*c,r+=(l+p)*c}return e===0?[i[0]||0,i[1]||0]:[t/e/3,r/e/3,e]}function rm(i,e,t,r){for(var a=(i.length-2)/6,o=1/0,n=0,s=i.length,l=s-2,u=0;u<a;u++){for(var p=u*6,c=0,f=0;f<s;f+=2){var h=f===0?p:(p+f-2)%l+2,d=i[h]-t[0],v=i[h+1]-t[1],m=e[f]-r[0],g=e[f+1]-r[1],S=m-d,y=g-v;c+=S*S+y*y}c<o&&(o=c,n=u)}return n}function im(i){for(var e=[],t=i.length,r=0;r<t;r+=2)e[r]=i[t-r-2],e[r+1]=i[t-r-1];return e}function am(i,e,t,r){for(var a=[],o,n=0;n<i.length;n++){var s=i[n],l=e[n],u=Pc(s),p=Pc(l);o==null&&(o=u[2]<0!=p[2]<0);var c=[],f=[],h=0,d=1/0,v=[],m=s.length;o&&(s=im(s));for(var g=rm(s,l,u,p)*6,S=m-2,y=0;y<S;y+=2){var b=(g+y)%S+2;c[y+2]=s[b]-u[0],c[y+3]=s[b+1]-u[1]}if(c[0]=s[g]-u[0],c[1]=s[g+1]-u[1],t>0)for(var x=r/t,T=-r/2;T<=r/2;T+=x){for(var M=Math.sin(T),C=Math.cos(T),w=0,y=0;y<s.length;y+=2){var I=c[y],z=c[y+1],E=l[y]-p[0],k=l[y+1]-p[1],H=E*C-k*M,K=E*M+k*C;v[y]=H,v[y+1]=K;var Q=H-I,ct=K-z;w+=Q*Q+ct*ct}if(w<d){d=w,h=T;for(var it=0;it<v.length;it++)f[it]=v[it]}}else for(var lt=0;lt<m;lt+=2)f[lt]=l[lt]-p[0],f[lt+1]=l[lt+1]-p[1];a.push({from:c,to:f,fromCp:u,toCp:p,rotation:-h})}return a}function Ar(i){return i.__isCombineMorphing}var Rc="__mOriginal_";function ki(i,e,t){var r=Rc+e,a=i[r]||i[e];i[r]||(i[r]=i[e]);var o=t.replace,n=t.after,s=t.before;i[e]=function(){var l=arguments,u;return s&&s.apply(this,l),o?u=o.apply(this,l):u=a.apply(this,l),n&&n.apply(this,l),u}}function wr(i,e){var t=Rc+e;i[t]&&(i[e]=i[t],i[t]=null)}function kc(i,e){for(var t=0;t<i.length;t++)for(var r=i[t],a=0;a<r.length;){var o=r[a],n=r[a+1];r[a++]=e[0]*o+e[2]*n+e[4],r[a++]=e[1]*o+e[3]*n+e[5]}}function Oc(i,e){var t=i.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),a=em(Li(t),Li(r)),o=a[0],n=a[1],s=i.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&kc(o,s),l&&kc(n,l),ki(e,"updateTransform",{replace:u}),e.transform=null;var p=am(o,n,10,Math.PI),c=[];ki(e,"buildPath",{replace:function(f){for(var h=e.__morphT,d=1-h,v=[],m=0;m<p.length;m++){var g=p[m],S=g.from,y=g.to,b=g.rotation*h,x=g.fromCp,T=g.toCp,M=Math.sin(b),C=Math.cos(b);Zo(v,x,T,h);for(var w=0;w<S.length;w+=2){var I=S[w],z=S[w+1],E=y[w],k=y[w+1],H=I*d+E*h,K=z*d+k*h;c[w]=H*C-K*M+v[0],c[w+1]=H*M+K*C+v[1]}var Q=c[0],ct=c[1];f.moveTo(Q,ct);for(var w=2;w<S.length;){var E=c[w++],k=c[w++],it=c[w++],lt=c[w++],gt=c[w++],kt=c[w++];Q===E&&ct===k&&it===gt&&lt===kt?f.lineTo(gt,kt):f.bezierCurveTo(E,k,it,lt,gt,kt),Q=gt,ct=kt}}}})}function Oi(i,e,t){if(!i||!e)return e;var r=t.done,a=t.during;Oc(i,e),e.__morphT=0;function o(){wr(e,"buildPath"),wr(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},F({during:function(n){e.dirtyShape(),a&&a(n)},done:function(){o(),r&&r()}},t)),e}function om(i,e,t,r,a,o){var n=16;i=a===t?0:Math.round(32767*(i-t)/(a-t)),e=o===r?0:Math.round(32767*(e-r)/(o-r));for(var s=0,l,u=(1<<n)/2;u>0;u/=2){var p=0,c=0;(i&u)>0&&(p=1),(e&u)>0&&(c=1),s+=u*u*(3*p^c),c===0&&(p===1&&(i=u-1-i,e=u-1-e),l=i,i=e,e=l)}return s}function Ri(i){var e=1/0,t=1/0,r=-1/0,a=-1/0,o=P(i,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),p=l.x+l.width/2+(u?u[4]:0),c=l.y+l.height/2+(u?u[5]:0);return e=Math.min(p,e),t=Math.min(c,t),r=Math.max(p,r),a=Math.max(c,a),[p,c]}),n=P(o,function(s,l){return{cp:s,z:om(s[0],s[1],e,t,r,a),path:i[l]}});return n.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Ec(i){return zc(i.path,i.count)}function Lo(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Vc(i,e,t){var r=[];function a(x){for(var T=0;T<x.length;T++){var M=x[T];Ar(M)?a(M.childrenRef()):M instanceof Jt&&r.push(M)}}a(i);var o=r.length;if(!o)return Lo();var n=t.dividePath||Ec,s=n({path:e,count:o});if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),Lo();r=Ri(r),s=Ri(s);for(var l=t.done,u=t.during,p=t.individualDelay,c=new Ir,f=0;f<o;f++){var h=r[f],d=s[f];d.parent=e,d.copyTransform(c),p||Oc(h,d)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function v(x){for(var T=0;T<s.length;T++)s[T].addSelfToZr(x)}ki(e,"addSelfToZr",{after:function(x){v(x)}}),ki(e,"removeSelfFromZr",{after:function(x){for(var T=0;T<s.length;T++)s[T].removeSelfFromZr(x)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,wr(e,"addSelfToZr"),wr(e,"removeSelfFromZr")}var g=s.length;if(p)for(var S=g,y=function(){S--,S===0&&(m(),l&&l())},f=0;f<g;f++){var b=p?F({delay:(t.delay||0)+p(f,g,r[f],s[f]),done:y},t):t;Oi(r[f],s[f],b)}else e.__morphT=0,e.animateTo({__morphT:1},F({during:function(x){for(var T=0;T<g;T++){var M=s[T];M.__morphT=e.__morphT,M.dirtyShape()}u&&u(x)},done:function(){m();for(var x=0;x<i.length;x++)wr(i[x],"updateTransform");l&&l()}},t));return e.__zr&&v(e.__zr),{fromIndividuals:r,toIndividuals:s,count:g}}function Uc(i,e,t){var r=e.length,a=[],o=t.dividePath||Ec;function n(h){for(var d=0;d<h.length;d++){var v=h[d];Ar(v)?n(v.childrenRef()):v instanceof Jt&&a.push(v)}}if(Ar(i)){n(i.childrenRef());var s=a.length;if(s<r)for(var l=0,u=s;u<r;u++)a.push(De(a[l++%s]));a.length=r}else{a=o({path:i,count:r});for(var p=i.getComputedTransform(),u=0;u<a.length;u++)a[u].setLocalTransform(p);if(a.length!==r)return console.error("Invalid morphing: unmatched splitted path"),Lo()}a=Ri(a),e=Ri(e);for(var c=t.individualDelay,u=0;u<r;u++){var f=c?F({delay:(t.delay||0)+c(u,r,a[u],e[u])},t):t;Oi(a[u],e[u],f)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function Nc(i){return D(i[0])}function Bc(i,e){for(var t=[],r=i.length,a=0;a<r;a++)t.push({one:i[a],many:[]});for(var a=0;a<e.length;a++){var o=e[a].length,n=void 0;for(n=0;n<o;n++)t[n%r].many.push(e[a][n])}for(var s=0,a=r-1;a>=0;a--)if(!t[a].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var o=l.length,u=Math.ceil(o/2);t[a].many=l.slice(u,o),t[s].many=l.slice(0,u),s++}return t}var nm={clone:function(i){for(var e=[],t=1-Math.pow(1-i.path.style.opacity,1/i.count),r=0;r<i.count;r++){var a=De(i.path);a.setStyle("opacity",t),e.push(a)}return e},split:null};function Ei(i,e,t,r,a,o){if(!i.length||!e.length)return;var n=tr("update",r,a);if(!(n&&n.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},n),u,p;Nc(i)&&(u=i,p=e),Nc(e)&&(u=e,p=i);function c(g,S,y,b,x){var T=g.many,M=g.one;if(T.length===1&&!x){var C=S?T[0]:M,w=S?M:T[0];if(Ar(C))c({many:[C],one:w},!0,y,b,!0);else{var I=s?F({delay:s(y,b)},l):l;Oi(C,w,I),o(C,w,C,w,I)}}else for(var z=F({dividePath:nm[t],individualDelay:s&&function(ct,it,lt,gt){return s(ct+y,b)}},l),E=S?Vc(T,M,z):Uc(M,T,z),k=E.fromIndividuals,H=E.toIndividuals,K=k.length,Q=0;Q<K;Q++){var I=s?F({delay:s(Q,K)},l):l;o(k[Q],H[Q],S?T[Q]:g.one,S?g.one:T[Q],I)}}for(var f=u?u===i:i.length>e.length,h=u?Bc(p,u):Bc(f?e:i,[f?i:e]),d=0,v=0;v<h.length;v++)d+=h[v].many.length;for(var m=0,v=0;v<h.length;v++)c(h[v],f,m,d),m+=h[v].many.length}function pe(i){if(!i)return[];if(D(i)){for(var e=[],t=0;t<i.length;t++)e.push(pe(i[t]));return e}var r=[];return i.traverse(function(a){a instanceof Jt&&!a.disableMorphing&&!a.invisible&&!a.ignore&&r.push(a)}),r}var Kc=1e4,sm=0,Hc=1,Gc=2,lm=X();function um(i,e){for(var t=i.dimensions,r=0;r<t.length;r++){var a=i.getDimensionInfo(t[r]);if(a&&a.otherDims[e]===0)return t[r]}}function pm(i,e,t){var r=i.getDimensionInfo(t),a=r&&r.ordinalMeta;if(r){var o=i.get(r.name,e);return a&&a.categories[o]||o+""}}function Fc(i,e,t,r){var a=r?"itemChildGroupId":"itemGroupId",o=um(i,a);if(o){var n=pm(i,e,o);return n}var s=i.getRawDataItem(e),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return t||i.getId(e)}function Wc(i){var e=[];return _(i,function(t){var r=t.data,a=t.dataGroupId;if(!(r.count()>Kc))for(var o=r.getIndices(),n=0;n<o.length;n++)e.push({data:r,groupId:Fc(r,n,a,!1),childGroupId:Fc(r,n,a,!0),divide:t.divide,dataIndex:n})}),e}function Po(i,e,t){i.traverse(function(r){r instanceof Jt&&er(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function ko(i){if(i.parent){var e=i.getComputedTransform();i.setLocalTransform(e),i.parent.remove(i)}}function $e(i){i.stopAnimation(),i.isGroup&&i.traverse(function(e){e.stopAnimation()})}function cm(i,e,t){var r=tr("update",t,e);r&&i.traverse(function(a){if(a instanceof Dr){var o=_n(a);o&&a.animateFrom({style:o},r)}})}function fm(i,e){var t=i.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var a=i[r],o=e[r];if(a.data.getId(a.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}function qc(i,e,t){var r=Wc(i),a=Wc(e);function o(y,b,x,T,M){(x||y)&&b.animateFrom({style:x&&x!==y?B(B({},x.style),y.style):y.style},M)}var n=!1,s=sm,l=q(),u=q();r.forEach(function(y){y.groupId&&l.set(y.groupId,!0),y.childGroupId&&u.set(y.childGroupId,!0)});for(var p=0;p<a.length;p++){var c=a[p].groupId;if(u.get(c)){s=Hc;break}var f=a[p].childGroupId;if(f&&l.get(f)){s=Gc;break}}function h(y,b){return function(x){var T=x.data,M=x.dataIndex;return b?T.getId(M):y?s===Hc?x.childGroupId:x.groupId:s===Gc?x.childGroupId:x.groupId}}var d=fm(r,a),v={};if(!d)for(var p=0;p<a.length;p++){var m=a[p],g=m.data.getItemGraphicEl(m.dataIndex);g&&(v[g.id]=!0)}function S(y,b){var x=r[b],T=a[y],M=T.data.hostModel,C=x.data.getItemGraphicEl(x.dataIndex),w=T.data.getItemGraphicEl(T.dataIndex);if(C===w){w&&cm(w,T.dataIndex,M);return}C&&v[C.id]||w&&($e(w),C?($e(C),ko(C),n=!0,Ei(pe(C),pe(w),T.divide,M,y,o)):Po(w,M,y))}new ir(r,a,h(!0,d),h(!1,d),null,"multiple").update(S).updateManyToOne(function(y,b){var x=a[y],T=x.data,M=T.hostModel,C=T.getItemGraphicEl(x.dataIndex),w=ut(P(b,function(I){return r[I].data.getItemGraphicEl(r[I].dataIndex)}),function(I){return I&&I!==C&&!v[I.id]});C&&($e(C),w.length?(_(w,function(I){$e(I),ko(I)}),n=!0,Ei(pe(w),pe(C),x.divide,M,y,o)):Po(C,M,x.dataIndex))}).updateOneToMany(function(y,b){var x=r[b],T=x.data.getItemGraphicEl(x.dataIndex);if(!(T&&v[T.id])){var M=ut(P(y,function(w){return a[w].data.getItemGraphicEl(a[w].dataIndex)}),function(w){return w&&w!==T}),C=a[y[0]].data.hostModel;M.length&&(_(M,function(w){return $e(w)}),T?($e(T),ko(T),n=!0,Ei(pe(T),pe(M),x.divide,C,y[0],o)):_(M,function(w){return Po(w,C,y[0])}))}}).updateManyToMany(function(y,b){new ir(b,y,function(x){return r[x].data.getId(r[x].dataIndex)},function(x){return a[x].data.getId(a[x].dataIndex)}).update(function(x,T){S(y[x],b[T])}).execute()}).execute(),n&&_(e,function(y){var b=y.data,x=b.hostModel,T=x&&t.getViewOfSeriesModel(x),M=tr("update",x,0);T&&x.isAnimationEnabled()&&M&&M.duration>0&&T.group.traverse(function(C){C instanceof Jt&&!C.animators.length&&C.animateFrom({style:{opacity:0}},M)})})}function Zc(i){var e=i.getModel("universalTransition").get("seriesKey");return e||i.id}function Yc(i){return D(i)?i.sort().join(","):i}function ce(i){if(i.hostModel)return i.hostModel.getModel("universalTransition").get("divideShape")}function hm(i,e){var t=q(),r=q(),a=q();_(i.oldSeries,function(n,s){var l=i.oldDataGroupIds[s],u=i.oldData[s],p=Zc(n),c=Yc(p);r.set(c,{dataGroupId:l,data:u}),D(p)&&_(p,function(f){a.set(f,{key:c,dataGroupId:l,data:u})})});function o(n){t.get(n)&&Jo("Duplicated seriesKey in universalTransition "+n)}return _(e.updatedSeries,function(n){if(n.isUniversalTransitionEnabled()&&n.isAnimationEnabled()){var s=n.get("dataGroupId"),l=n.getData(),u=Zc(n),p=Yc(u),c=r.get(p);if(c)t.set(p,{oldSeries:[{dataGroupId:c.dataGroupId,divide:ce(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:ce(l),data:l}]});else if(D(u)){var f=[];_(u,function(v){var m=r.get(v);m.data&&f.push({dataGroupId:m.dataGroupId,divide:ce(m.data),data:m.data})}),f.length&&t.set(p,{oldSeries:f,newSeries:[{dataGroupId:s,data:l,divide:ce(l)}]})}else{var h=a.get(u);if(h){var d=t.get(h.key);d||(d={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:ce(h.data)}],newSeries:[]},t.set(h.key,d)),d.newSeries.push({dataGroupId:s,data:l,divide:ce(l)})}}}}),t}function Xc(i,e){for(var t=0;t<i.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===i[t].seriesIndex||e.seriesId!=null&&e.seriesId===i[t].id;if(r)return t}}function dm(i,e,t,r){var a=[],o=[];_(wt(i.from),function(n){var s=Xc(e.oldSeries,n);s>=0&&a.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:ce(e.oldData[s]),groupIdDim:n.dimension})}),_(wt(i.to),function(n){var s=Xc(t.updatedSeries,n);if(s>=0){var l=t.updatedSeries[s].getData();o.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:ce(l),groupIdDim:n.dimension})}}),a.length>0&&o.length>0&&qc(a,o,r)}function Ro(i){i.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){_(wt(r.seriesTransition),function(a){_(wt(a.to),function(o){for(var n=r.updatedSeries,s=0;s<n.length;s++)(o.seriesIndex!=null&&o.seriesIndex===n[s].seriesIndex||o.seriesId!=null&&o.seriesId===n[s].id)&&(n[s][Hr]=!0)})})}),i.registerUpdateLifecycle("series:transition",function(e,t,r){var a=lm(t);if(a.oldSeries&&r.updatedSeries&&r.optionChanged){var o=r.seriesTransition;if(o)_(wt(o),function(h){dm(h,a,r,t)});else{var n=hm(a,r);_(n.keys(),function(h){var d=n.get(h);qc(d.oldSeries,d.newSeries,t)})}_(r.updatedSeries,function(h){h[Hr]&&(h[Hr]=!1)})}for(var s=e.getSeries(),l=a.oldSeries=[],u=a.oldDataGroupIds=[],p=a.oldData=[],c=0;c<s.length;c++){var f=s[c].getData();f.count()<Kc&&(l.push(s[c]),u.push(s[c].get("dataGroupId")),p.push(f))}})}R([Ks]);R([Xs]);R([Kn,qn,rs,gs,ys,Ss,_s,bs,Ms,ws,As,zs,Ls,Ps,ks,Rs,Os,Es,Vs,Us,Ns,Ys]);R(da);R(xa);R(ea);R(ba);R(ra);R(Ma);R(Aa);R(Ea);R(Ba);R(Bt);R(Ya);R(Xa);R($a);R(io);R(oo);R(no);R(vo);R(So);R(yr);R(_r);R(To);R(Tr);R(Mr);R(Ao);R(Io);R(Do);R(Ro);R(na);export{Dt as Axis,xm as ChartView,j as ComponentModel,$ as ComponentView,Et as List,Tt as Model,wm as PRIORITY,ym as SeriesModel,Qc as color,Cm as connect,Km as dataTool,Mm as dependencies,Dm as disConnect,Im as disconnect,zm as dispose,pt as env,og as extendChartView,rg as extendComponentModel,ig as extendComponentView,ag as extendSeriesModel,tg as format,Bm as getCoordinateSystemDimensions,Lm as getInstanceByDom,Pm as getInstanceById,Ym as getMap,Jm as graphic,jm as helper,Am as init,bm as innerDrawElementOnCanvas,Vi as matrix,$m as number,qm as parseGeoJSON,qm as parseGeoJson,Ee as registerAction,Nm as registerCoordinateSystem,Hm as registerLayout,Fm as registerLoading,gm as registerLocale,Zm as registerMap,Em as registerPostInit,Vm as registerPostUpdate,Rm as registerPreprocessor,Om as registerProcessor,km as registerTheme,Xm as registerTransform,Um as registerUpdateLifecycle,Gm as registerVisual,Wm as setCanvasCreator,vm as setPlatformAPI,Sm as throttle,Qm as time,R as use,eg as util,mm as vector,Tm as version,O as zrUtil,_m as zrender};
