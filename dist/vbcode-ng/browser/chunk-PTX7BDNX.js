import{a as te}from"./chunk-P6APD5KV.js";import{a as R}from"./chunk-S2KG2YW5.js";import{a as q,d as z,e as X,f as Y}from"./chunk-T5TLMUG5.js";import{a as Z,b as ee}from"./chunk-GAECJW6X.js";import{a as x}from"./chunk-ZNAIGONW.js";import{a as Q,b as W}from"./chunk-ZPJ6EFHG.js";import{a as H,e as J,f as K}from"./chunk-JZT7ZK4K.js";import{b as k,f as V,g as B,h as I,j as s,l as D,na as $,o as L,p as U,s as A,t as j}from"./chunk-HW5RURNN.js";import{i as N,l as O,p as P}from"./chunk-KXY5KEB2.js";import"./chunk-3ACIU7HM.js";import{Ba as S,Ca as v,Db as o,Nb as t,Ob as r,Pb as u,Rb as F,Ub as h,bd as E,ed as _,gc as m,hb as i,ic as C,id as G,la as l,ra as y,rc as g,tc as T,wc as b,xc as w,yb as M}from"./chunk-4UK4RW6P.js";import"./chunk-SECEFDB3.js";import{a as c,b as f,g as d}from"./chunk-GAL4ENT6.js";var ie=e=>[e];function oe(e,re){if(e&1&&(t(0,"mat-option",9),m(1),r()),e&2){let a=re.$implicit;o("value",a.id),i(),C(" ",a.name," ")}}var Ne=(()=>{class e{ROUTES=x;route=l(N);snack=l(X);teamsService=l(R);playerService=l(te);players=this.playerService.getPlayers();team={};teamFormGroup=new I({id:new s(""),name:new s(""),players:new s([])});ngOnInit(){this.route.data.subscribe(a=>{this.team=a.team,this.team&&this.teamFormGroup.patchValue(f(c({},this.team),{players:this.team.players?this.team.players:[]}))})}createTeam(){return d(this,null,function*(){try{yield this.teamsService.createTeam(this.teamFormGroup.value)}catch{this.snack.open("Failed to create team","close",{duration:2e3})}})}static \u0275fac=function(p){return new(p||e)};static \u0275cmp=y({type:e,selectors:[["app-create-team-page"]],standalone:!0,features:[g],decls:21,vars:9,consts:[["form",""],[1,"flex","flex-col","items-start","gap-8","h-full","p-8"],[1,"flex","flex-col","w-full",3,"submit","formGroup"],[1,"w-full"],["matInput","","placeholder","Team name","formControlName","name"],["placeholder","Players","formControlName","players",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"type"],[3,"routerLink"],[3,"value"]],template:function(p,n){if(p&1){let ae=F();t(0,"div",1)(1,"h2"),m(2,"Create a new Team"),r(),t(3,"form",2,0),h("submit",function(){return S(ae),v(n.createTeam())}),t(5,"mat-form-field",3)(6,"mat-label"),m(7,"Name"),r(),u(8,"input",4),r(),t(9,"mat-form-field",3)(10,"mat-label"),m(11,"Players"),r(),t(12,"mat-select",5),M(13,oe,2,2,"mat-option",6),b(14,"async"),r()(),t(15,"button",7),m(16,"Submit"),r()(),u(17,"hr"),t(18,"p")(19,"a",8),m(20,"See all your teams here"),r()()()}p&2&&(i(3),o("formGroup",n.teamFormGroup),i(9),o("multiple",!0),i(),o("ngForOf",w(14,5,n.players)),i(2),o("type","submit"),i(4),o("routerLink",T(7,ie,n.ROUTES.root+n.ROUTES.teams)))},dependencies:[K,J,H,z,q,W,Q,A,D,k,V,B,j,L,U,Y,ee,Z,$,G,E,_,P,O],encapsulation:2})}return e})();export{Ne as CreateTeamPageComponent};
